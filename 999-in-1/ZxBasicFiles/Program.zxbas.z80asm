	.zxbasic
	org 32768
	; Defines HEAP SIZE
ZXBASIC_HEAP_SIZE EQU 128
__START_PROGRAM:
	di
	push ix
	push iy
	exx
	push hl
	exx
	ld hl, 0
	add hl, sp
	ld (__CALL_BACK__), hl
	ei
	call __MEM_INIT
	call __PRINT_INIT
__LABEL__start:
#line 1
		.org 24576
introScreenData:
		DEFW 0000h, 018Ch, 0252h, 0252h, 01CEh, 0042h, 039Ch, 0000h, 00C6h, 0129h, 00E7h, 0021h, 01CEh, 0000h, 0292h, 02D6h, 02B2h, 0292h, 0007h, 0000h
deathScreenData:
		DEFW 03FFh, 0387h, 037Bh, 037Bh, 02FDh, 02B5h, 02FDh, 02CDh, 037Bh, 03B7h, 0285h, 00FCh, 037Bh, 03B7h, 03CFh, 03CFh, 03B7h, 037Bh, 00FCh, 02FDh
winScreenData:
		DEFW 03FFh, 03FFh, 03FFh, 0303h, 0000h, 0102h, 0102h, 0102h, 0201h, 0387h, 03CFh, 03CFh, 03CFh, 03CFh, 03CFh, 0387h, 0303h, 03FFh, 03FFh, 03FFh
tetrisScreenData:
		DEFW 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h
		DEFW 0000h, 0000h, 0000h, 0000h, 0000h, 01FEh, 01FEh, 00CCh, 0124h, 02AAh
		DEFW 0000h, 0000h, 0000h, 0000h, 0000h, 02AAh, 0349h, 0224h, 01FEh, 019Ah
		DEFW 0000h, 0000h, 0000h, 0000h, 0000h, 02AAh, 00CCh, 0224h, 02AAh, 0124h
		DEFW 0000h, 0000h, 0000h, 0000h, 0000h, 0349h, 019Ah, 0224h, 0124h, 0048h
		DEFW 0000h, 0000h, 0000h, 0000h, 0000h, 0155h, 01B6h, 014Ah, 0224h, 019Ah
		DEFW 0000h, 0000h, 0000h, 0000h, 0000h, 018Ch, 03B7h, 0349h, 02CDh, 01CEh
		DEFW 0000h, 0000h, 0000h, 0000h, 02AAh, 02AAh, 01DFh, 02AAh, 01DFh, 02AAh
		DEFW 0000h, 0000h, 02B5h, 0333h, 017Ah, 015Ah, 02AAh, 036Dh, 02DBh, 037Bh
		DEFW 0000h, 0084h, 02AAh, 0155h, 037Bh, 00CCh, 01FEh, 02AAh, 00CCh, 037Bh
arkaScreenData:
		DEFW 0000h, 0000h, 03FFh, 03FFh, 03FFh, 03FFh, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h
		DEFW 0000h, 0200h, 0300h, 0380h, 03C0h, 03E0h, 03F0h, 03F8h, 03FCh, 03FEh, 03FFh, 0000h
		DEFW 03FFh, 03FFh, 0000h, 0000h, 03FFh, 03FFh, 0000h, 0000h, 03FFh, 03FFh, 0000h, 0000h
		DEFW 0000h, 03CFh, 03CFh, 03CFh, 03CFh, 03CFh, 03CFh, 03CFh, 03CFh, 03CFh, 03CFh, 0000h
		DEFW 0084h, 0048h, 0048h, 00FCh, 01BAh, 01BAh, 03FFh, 02FDh, 0285h, 0249h, 0048h, 0000h
		DEFW 0000h, 037Bh, 03FFh, 03FFh, 037Bh, 03FFh, 03FFh, 037Bh, 03FFh, 03FFh, 037Bh, 0000h
		DEFW 0030h, 0078h, 00FCh, 01FEh, 03FFh, 03FFh, 01FEh, 00FCh, 0078h, 0030h, 0000h, 0000h
		DEFW 0030h, 0078h, 01FEh, 03FFh, 03FFh, 02B5h, 0030h, 0030h, 0330h, 0360h, 00C0h, 0000h
		DEFW 0333h, 00CCh, 0333h, 00CCh, 03FFh, 03FFh, 00CCh, 0333h, 00CCh, 0333h, 0000h, 0000h
		DEFW 03FFh, 0279h, 0279h, 0279h, 03FFh, 03FFh, 03FFh, 03FFh, 0279h, 0279h, 0279h, 03FFh
snakeScreenData:
		DEFW 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h
		DEFW 0000h, 0000h, 0000h, 0000h, 00C0h, 0040h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0008h, 000Ch, 0000h, 0000h, 0000h, 0000h
		DEFW 0000h, 0000h, 0000h, 0006h, 0000h, 01C0h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 000Eh, 0000h, 0180h, 0000h, 0000h, 0000h
		DEFW 0000h, 000Ch, 0000h, 0060h, 0000h, 0300h, 0000h, 0000h, 0000h, 0000h, 0201h, 0000h, 0000h, 0000h, 0003h, 0000h, 0018h, 0000h, 00C0h, 0000h
		DEFW 0070h, 0000h, 0000h, 0000h, 0000h, 0285h, 0285h, 0201h, 0201h, 0201h, 0201h, 0201h, 0201h, 0285h, 0285h, 0000h, 0000h, 0000h, 0000h, 0070h
		DEFW 0303h, 0303h, 0000h, 0000h, 00C0h, 00CCh, 000Ch, 0000h, 0000h, 0303h, 0303h, 0000h, 0000h, 000Ch, 00CCh, 00C0h, 0000h, 0000h, 0303h, 0303h
		DEFW 0000h, 00FCh, 00FCh, 0030h, 0030h, 00CCh, 00CCh, 0000h, 0000h, 0000h, 0000h, 0000h, 0000h, 00CCh, 00CCh, 0030h, 0030h, 00FCh, 00FCh, 0000h
		DEFW 0303h, 0000h, 00FCh, 0000h, 0333h, 0000h, 00CCh, 0000h, 0000h, 0084h, 0084h, 0000h, 0000h, 00CCh, 0000h, 0333h, 0000h, 00FCh, 0000h, 0303h
		DEFW 0231h, 0000h, 0048h, 0000h, 0333h, 0000h, 0000h, 0000h, 0000h, 0084h, 0084h, 0000h, 0000h, 0000h, 0000h, 0333h, 0000h, 0048h, 0000h, 0231h
		DEFW 0387h, 0000h, 0084h, 0201h, 0231h, 0000h, 0084h, 0084h, 0285h, 0285h, 0285h, 0285h, 0084h, 0084h, 0000h, 0231h, 0201h, 0084h, 0000h, 0387h
bigGhostData:
		DEFW 0078h, 01FEh, 017Ah, 03B7h, 03FFh, 0333h, 0279h, 0333h, 03FFh, 0333h, 0201h, 0201h, 0201h, 034Bh, 03FFh, 03FFh, 03FFh, 03FFh, 02F7h, 0262h
deathMusicData:
		DEFW 0033h, 02A1h, 0030h, 02CBh, 002Dh, 02F7h, 002Ah, 0326h, 0030h, 02CBh, 002Dh, 02F7h, 002Ah, 0326h, 0028h, 0358h, 002Dh, 02F7h, 002Ah, 0326h, 0028h, 0358h, 0026h, 038Ch, 002Ah, 0326h, 0028h, 0358h, 0026h, 038Ch, 0024h, 03C4h, 0028h, 0358h, 0026h, 038Ch, 0024h, 03C4h, 0021h, 03FFh, 001Eh, 0480h, 001Ch, 04C7h, 0149h, 0511h
winMusicData:
		DEFW 0057h, 03C4h, 002Bh, 03C4h, 002Bh, 03C4h, 002Bh, 03C4h, 0020h, 0511h, 001Ch, 05B4h, 0020h, 0511h, 0057h, 03C4h, 002Bh, 03C4h, 002Bh, 03C4h, 002Bh, 03C4h, 0030h, 0358h, 0036h, 02F7h, 0030h, 0358h, 0057h, 03C4h, 002Bh, 03C4h, 002Bh, 03C4h, 0030h, 0358h, 002Bh, 03C4h, 0029h, 03FFh, 002Bh, 03C4h, 0030h, 0358h, 0036h, 02F7h, 0030h, 0358h, 0036h, 02F7h, 0030h, 0358h, 0000h, 0005h, 002Eh, 038Ch, 0030h, 0358h, 0074h, 02CBh, 003Ah, 02CBh, 003Ah, 02CBh, 003Ah, 02CBh, 002Bh, 03C4h, 0026h, 043Eh, 002Bh, 03C4h, 0074h, 02CBh, 003Ah, 02CBh, 003Ah, 02CBh, 003Ah, 02CBh, 0041h, 027Ah, 0049h, 0231h, 0041h, 027Ah, 0074h, 02CBh, 003Ah, 02CBh, 0036h, 02F7h, 0062h, 0358h, 0030h, 0358h, 002Bh, 03C4h, 0029h, 03FFh, 002Bh, 03C4h, 0029h, 03FFh, 002Bh, 03C4h, 0029h, 03FFh, 0000h, 0005h, 0024h, 0480h, 0029h, 03FFh, 0057h, 03C4h, 002Bh, 03C4h, 002Bh, 03C4h, 002Bh, 03C4h, 0020h, 0511h, 001Ch, 05B4h, 0020h, 0511h, 0057h, 03C4h, 002Bh, 03C4h, 002Bh, 03C4h, 002Bh, 03C4h, 0030h, 0358h, 0036h, 02F7h, 0030h, 0358h, 0057h, 03C4h, 002Bh, 03C4h, 002Bh, 03C4h, 0030h, 0358h, 002Bh, 03C4h, 0029h, 03FFh, 002Bh, 03C4h, 0030h, 0358h, 0036h, 02F7h, 0030h, 0358h, 0036h, 02F7h, 0030h, 0358h, 0000h, 0005h, 002Eh, 038Ch, 0030h, 0358h, 0083h, 027Ah, 0041h, 027Ah, 0041h, 027Ah, 0041h, 027Ah, 003Ah, 02CBh, 0033h, 0326h, 003Ah, 02CBh, 0083h, 027Ah, 0041h, 027Ah, 0041h, 027Ah, 0041h, 027Ah, 003Ah, 02CBh, 0033h, 0326h, 003Ah, 02CBh, 0041h, 027Ah, 0000h, 0005h, 0020h, 0511h, 0024h, 0480h, 0052h, 03FFh, 0020h, 0511h, 0036h, 02F7h, 0093h, 0358h, 0000h, 0005h, 00AFh, 03C4h
tetrisIntroMusicData:
		DEFW 00CDh, 02CBh, 0000h, 0002h, 01A2h, 0326h, 0000h, 0002h, 0048h, 03C4h, 0000h, 0002h, 0056h, 0326h, 0000h, 0002h, 0054h, 038Ch, 0000h, 0002h, 001Ch, 03C4h, 0000h, 0002h, 0019h, 043Eh, 0000h, 0002h, 0085h, 04C7h, 0000h, 0002h, 005Fh, 066Ah, 0000h, 0002h, 0048h, 03C4h, 0000h, 0002h, 005Fh, 0326h, 0000h, 0002h, 0040h, 043Eh, 0000h, 0002h, 0048h, 03C4h, 0000h, 0002h, 0085h, 04C7h, 0000h, 0002h, 0063h, 066Ah, 0000h, 0002h, 006Bh, 05B4h, 0000h, 0002h, 0035h, 05B4h, 0000h, 0002h, 0036h, 0511h, 0000h, 0002h, 0040h, 043Eh, 0000h, 0002h, 0039h, 04C7h, 0000h, 0002h, 003Bh, 0511h, 0000h, 0002h, 0030h, 05B4h, 0000h, 0002h, 0063h, 066Ah, 0000h, 0002h, 005Fh, 066Ah, 0000h, 0002h, 0063h, 066Ah, 0000h, 001Eh
tetrisLevelMusicData:
		DEFW 0010h, 06CEh, 0000h, 0002h, 000Fh, 0511h, 0000h, 0003h, 000Bh, 0480h, 0000h, 0003h, 008Bh, 0358h, 0000h, 0002h, 001Ah, 0511h, 0000h, 0002h, 000Eh, 03C4h, 0000h, 0003h, 0014h, 03FFh, 0000h, 0003h, 009Ch, 02F7h, 0000h, 0002h, 000Eh, 03C4h, 0000h, 0003h, 001Bh, 02F7h, 0000h, 0003h, 0018h, 0358h, 0000h, 0003h, 001Eh, 02A1h, 0000h, 0003h, 001Bh, 02F7h, 0000h, 0003h, 0018h, 0358h, 0000h, 0004h, 00DBh, 027Ah, 0000h, 0019h
arkaIntroMusicData:
		DEFW 0008h, 066Ah, 0033h, 066Ah, 0008h, 066Ah, 0011h, 066Ah, 000Ch, 043Eh, 004Dh, 043Eh, 0000h, 000Ah, 000Fh, 1152h, 0000h, 000Ah, 0015h, 0CF2h, 0000h, 000Ah, 000Bh, 0480h, 001Eh, 0480h, 000Ch, 043Eh, 0020h, 043Eh, 000Eh, 03C4h, 001Ch, 03C4h, 000Ch, 043Eh, 004Dh, 043Eh, 0000h, 000Ah, 000Fh, 1152h, 0000h, 000Ah, 0015h, 0CF2h, 0000h, 0002h, 000Fh, 1152h, 0000h, 0002h, 0010h, 1058h, 0000h, 0002h, 0014h, 0DB9h, 0008h, 066Ah, 0033h, 066Ah, 0008h, 066Ah, 0011h, 066Ah, 000Ch, 043Eh, 004Dh, 043Eh, 0000h, 000Ah, 0015h, 0CF2h, 0000h, 000Ah, 000Eh, 03C4h, 0015h, 03C4h, 000Ch, 043Eh, 0013h, 043Eh, 000Bh, 0480h, 0011h, 0480h, 000Eh, 03C4h, 0015h, 03C4h, 000Ch, 043Eh, 0075h, 043Eh
arkaDeathMusicData:
		DEFW 003Dh, 038Ch, 0030h, 0480h, 0033h, 043Eh, 0026h, 05B4h, 002Dh, 04C7h, 0024h, 060Ch, 0026h, 05B4h, 001Eh, 0737h, 0019h, 089Ah, 0019h, 089Ah, 0019h, 089Ah, 0019h, 089Ah
raceIntroMusicData:
		DEFW 000Dh, 149Fh, 000Dh, 149Fh, 001Bh, 0A40h, 000Dh, 149Fh, 000Dh, 149Fh, 0018h, 0B85h, 000Dh, 149Fh, 001Bh, 0A40h, 000Dh, 149Fh, 000Dh, 149Fh, 0018h, 0B85h, 000Dh, 149Fh, 0016h, 0C37h, 000Dh, 149Fh, 0012h, 0F6Bh, 0014h, 0DB9h, 001Ch, 149Fh, 0000h, 0012h, 001Ch, 149Fh, 0000h, 0009h, 0038h, 0A40h
raceLevelMusicData:
		DEFW 004Ch, 02CBh, 008Ah, 0326h, 007Bh, 038Ch, 0074h, 03C4h, 0067h, 043Eh, 002Dh, 04C7h, 0032h, 043Eh
snakeIntriMusicData:
		DEFW 0027h, 0CF2h, 0000h, 000Fh, 0036h, 0A40h, 0000h, 000Dh, 003Dh, 089Ah, 0000h, 0007h, 0044h, 06CEh, 0000h, 0009h, 003Ch, 066Ah, 0000h, 0003h, 003Ah, 0CF2h, 0000h, 0008h, 004Fh, 0A40h, 0000h, 0006h, 0043h, 089Ah, 0000h, 0005h, 003Bh, 06CEh, 0000h, 000Ah, 0042h, 05B4h, 0000h, 0004h
snakeLevelMusicData:
		DEFW 004Ch, 02CBh, 008Ah, 0326h, 007Bh, 038Ch, 0074h, 03C4h, 0067h, 043Eh, 002Dh, 04C7h, 0032h, 043Eh
destroyerIntroMusicData:
		DEFW 018Bh, 0254h, 0000h, 0007h, 004Ah, 0326h, 0063h, 0254h, 007Dh, 01D3h, 0095h, 0184h, 007Dh, 01D3h, 0000h, 0007h, 0063h, 0254h, 006Fh, 0210h, 0000h, 0007h, 006Fh, 0210h, 006Fh, 0210h, 0000h, 0007h, 00FBh, 02CBh, 006Fh, 0210h, 0063h, 0254h, 0000h, 0007h, 005Dh, 027Ah, 018Bh, 0254h, 0000h, 0007h, 004Ah, 0326h, 0063h, 0254h, 007Dh, 01D3h, 0095h, 0184h, 007Dh, 01D3h, 0000h, 0007h, 0063h, 0254h, 0069h, 0231h, 0000h, 0007h, 0069h, 0231h, 0069h, 0231h, 0000h, 0007h, 02B9h, 0254h
destroyerLevelMusicData:
		DEFW 0190h, 0511h, 004Ah, 02F7h, 0042h, 0358h, 003Ah, 03C4h, 0042h, 0358h, 0000h, 0007h, 0042h, 0358h, 010Ah, 027Ah, 0000h, 0007h, 0084h, 019Dh, 0084h, 019Dh, 0215h, 012Eh, 0190h, 0511h, 004Ah, 02F7h, 0042h, 0358h, 003Ah, 03C4h, 0042h, 0358h, 0000h, 0007h, 0042h, 0358h, 010Ah, 027Ah, 0000h, 0007h, 0084h, 019Dh, 0084h, 019Dh, 0084h, 019Dh, 0000h, 0007h, 00B1h, 012Eh, 0333h, 012Eh
ghostIntroMusicData:
		DEFW 0037h, 0326h, 0037h, 0326h, 0046h, 027Ah, 0000h, 0005h, 006Fh, 0326h, 007Ah, 02CBh, 0063h, 038Ch, 0000h, 002Ah, 0037h, 0326h, 0037h, 0326h, 0035h, 0326h, 0037h, 0326h, 0063h, 038Ch, 006Dh, 0326h, 0000h, 0020h, 0037h, 0326h, 0035h, 0326h, 0046h, 027Ah, 0000h, 0005h, 006Fh, 0326h, 007Ah, 02CBh, 0063h, 038Ch, 0000h, 002Ah, 0037h, 0326h, 0035h, 0326h, 0037h, 0326h, 0037h, 0326h, 0061h, 038Ch, 007Dh, 02CBh, 006Dh, 0326h
ghostScarySoundData:
		DEFW 0005h, 016Ch, 0005h, 0156h, 0005h, 0141h, 0006h, 012Eh, 0006h, 011Bh, 0006h, 0109h, 0006h, 011Bh, 0006h, 012Eh, 0005h, 0141h, 0005h, 0156h, 0005h, 016Ch, 0005h, 016Ch, 0005h, 0156h, 0005h, 0141h, 0006h, 012Eh, 0006h, 011Bh, 0006h, 0109h, 0006h, 011Bh, 0006h, 012Eh, 0005h, 0141h, 0005h, 0156h, 0005h, 016Ch, 0005h, 016Ch, 0005h, 0156h, 0005h, 0141h, 0006h, 012Eh, 0006h, 011Bh, 0006h, 0109h, 0006h, 011Bh, 0006h, 012Eh, 0005h, 0141h, 0005h, 0156h, 0005h, 016Ch
ghostLevelMusicData:
		DEFW 003Fh, 02A1h, 0042h, 02A1h, 0042h, 02A1h, 0042h, 02A1h, 006Dh, 0326h, 0000h, 0020h, 014Bh, 0210h, 00A4h, 0210h, 006Fh, 0326h
constructorIntroMusicData:
		DEFW 0009h, 081Dh, 000Ah, 07A7h, 000Bh, 0737h, 000Bh, 06CEh, 000Ch, 066Ah, 000Dh, 060Ch, 000Eh, 05B4h, 000Fh, 0560h, 000Fh, 0511h, 0010h, 04C7h, 0011h, 0480h, 0013h, 043Eh, 0029h, 03FFh, 0000h, 0005h, 0022h, 04C7h, 007Ch, 03FFh, 0022h, 04C7h, 0000h, 0005h, 001Bh, 060Ch, 0068h, 04C7h, 0030h, 0358h, 0000h, 0005h, 0029h, 03FFh, 0093h, 0358h, 000Fh, 0A40h, 000Fh, 0A40h, 0014h, 081Dh, 0049h, 06CEh, 0036h, 02F7h, 0000h, 0005h, 002Eh, 038Ch, 00A5h, 02F7h, 002Eh, 038Ch, 0000h, 0005h, 0024h, 0480h, 008Bh, 038Ch, 003Dh, 02A1h, 0000h, 0005h, 0033h, 0326h, 00BAh, 02A1h, 0019h, 066Ah, 001Bh, 060Ch, 001Eh, 0560h, 007Ch, 03FFh
constructorLevelMusicData:
		DEFW 0093h, 0231h, 008Bh, 0254h, 006Eh, 02F7h, 0000h, 000Ah, 0093h, 0231h, 0045h, 0254h, 006Eh, 02F7h, 0000h, 000Fh, 0093h, 0231h, 008Bh, 0254h, 006Eh, 02F7h, 0000h, 000Ah, 0093h, 0231h, 0045h, 0254h, 006Eh, 02F7h, 0000h, 000Fh, 007Bh, 02A1h, 003Dh, 02A1h, 003Dh, 02A1h, 0000h, 0005h, 007Bh, 02A1h, 001Eh, 02A1h, 0000h, 0003h, 0062h, 0358h, 0030h, 0358h, 0030h, 0358h, 0000h, 0005h, 0062h, 0358h, 0018h, 0358h, 0000h, 0003h, 007Bh, 02A1h, 003Dh, 02A1h, 003Dh, 02A1h, 0000h, 0005h, 007Bh, 02A1h, 001Eh, 02A1h, 0000h, 0003h, 0093h, 0231h, 0049h, 0231h, 0049h, 0231h, 0000h, 0005h, 0093h, 0231h, 0024h, 0231h
matchIntroMusicData:
		DEFW 0062h, 027Ah, 0000h, 0008h, 0062h, 027Ah, 0062h, 027Ah, 0068h, 0254h, 0062h, 027Ah, 0068h, 0254h, 0062h, 027Ah, 0057h, 02CBh, 0000h, 0008h, 0068h, 0254h, 0000h, 0008h, 0041h, 03C4h, 00C5h, 012Eh, 009Ch, 0184h, 0075h, 0210h, 0057h, 02CBh, 0000h, 0008h, 0057h, 02CBh, 0057h, 02CBh, 0062h, 027Ah, 0057h, 02CBh, 0062h, 027Ah, 0057h, 02CBh, 004Dh, 0326h, 0000h, 0008h, 0062h, 027Ah, 0000h, 0008h, 003Ah, 043Eh, 00D1h, 011Bh, 00C5h, 012Eh, 00AFh, 0156h, 0062h, 027Ah, 0000h, 0008h, 0062h, 027Ah, 0062h, 027Ah, 0068h, 0254h, 0062h, 027Ah, 0068h, 0254h, 0062h, 027Ah, 0057h, 02CBh, 0000h, 0008h, 0068h, 0254h, 0000h, 0008h, 0083h, 01D3h, 00D1h, 011Bh, 00C5h, 012Eh, 009Ch, 0184h, 0075h, 0210h, 0083h, 01D3h, 0068h, 0254h, 0075h, 0210h, 0062h, 027Ah, 0068h, 0254h, 0057h, 02CBh, 0062h, 027Ah, 0068h, 0254h, 0041h, 03C4h, 0049h, 0358h, 0057h, 02CBh, 00EAh, 0326h
matchLevelMusicData:
		DEFW 0026h, 043Eh, 0000h, 0005h, 001Ch, 05B4h, 0026h, 043Eh, 0030h, 0358h, 0026h, 043Eh, 0030h, 0358h, 003Ah, 02CBh, 003Dh, 02A1h, 0000h, 0005h, 0029h, 03FFh, 003Dh, 02A1h, 0045h, 0254h, 0000h, 0005h, 002Eh, 038Ch, 0045h, 0254h, 03ACh, 0210h
tetrisPieces:
		DEFB 0F8h, 008h, 008h, 008h
		DEFB 0F8h, 008h, 008h, 008h
		DEFB 0CCh, 0CCh, 000h, 000h
		DEFB 0CCh, 0CCh, 000h, 000h
		DEFB 08Ch, 0E8h, 008h, 000h
		DEFB 0E4h, 024h, 00Ch, 000h
		DEFB 028h, 0E8h, 00Ch, 000h
		DEFB 0ECh, 084h, 004h, 000h
		DEFB 068h, 0CCh, 004h, 000h
		DEFB 068h, 0CCh, 004h, 000h
		DEFB 0C4h, 06Ch, 008h, 000h
		DEFB 0C4h, 06Ch, 008h, 000h
		DEFB 048h, 0ECh, 008h, 000h
		DEFB 0E4h, 04Ch, 004h, 000h
#line 96
#line 6
		.org 32790
		ld hl, ZXBASIC_USER_DATA_END
#line 8
	ld de, 0
	ld hl, 0
	call RANDOMIZE
	call _InitScreen
	call _InitIntro
	ld hl, 50
	call __PAUSE
__LABEL0:
	call _SelectGame
	or a
	jp z, __LABEL2
	call _ShowCurtain
	call _ShowWin
	jp __LABEL3
__LABEL2:
	call _ShowCurtain
	call _ShowDeath
__LABEL3:
	jp __LABEL0
__END_PROGRAM:
	di
	ld hl, (__CALL_BACK__)
	ld sp, hl
	exx
	pop hl
	pop iy
	pop ix
	exx
	ei
	ret
__CALL_BACK__:
	DEFW 0
_MultiKeys:
#line 41
		ld a, h
		in a, (0FEh)
		cpl
		and l
#line 45
_MultiKeys__leave:
	ret
_Frames:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, (_counter)
_Frames__leave:
	ld sp, ix
	pop ix
	ret
_ResetFrameCounter:
	push ix
	ld ix, 0
	add ix, sp
#line 21
		di
#line 22
	ld hl, 0
	ld (_counter), hl
	xor a
	ld (_hiCounter), a
#line 30
		ei
#line 31
_ResetFrameCounter__leave:
	ld sp, ix
	pop ix
	ret
_PlayMusic:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
__LABEL4:
	ld l, (ix-2)
	ld h, (ix-1)
	push hl
	ld l, (ix+6)
	ld h, (ix+7)
	ex de, hl
	pop hl
	or a
	sbc hl, de
	jp nc, __LABEL5
	ld l, (ix-2)
	ld h, (ix-1)
	push hl
	push ix
	pop hl
	ld de, 4
	add hl, de
	call __ARRAY_PTR
	ld e, (hl)
	inc hl
	ld d, (hl)
	ex de, hl
	ld (_musParamA), hl
	ld l, (ix-2)
	ld h, (ix-1)
	inc hl
	ld (ix-2), l
	ld (ix-1), h
	ld l, (ix-2)
	ld h, (ix-1)
	push hl
	push ix
	pop hl
	ld de, 4
	add hl, de
	call __ARRAY_PTR
	ld e, (hl)
	inc hl
	ld d, (hl)
	ex de, hl
	ld (_musParamB), hl
	ld l, (ix-2)
	ld h, (ix-1)
	inc hl
	ld (ix-2), l
	ld (ix-1), h
	ld de, 0
	ld hl, (_musParamA)
	or a
	sbc hl, de
	jp nz, __LABEL6
	ld hl, (_musParamB)
	call __PAUSE
	jp __LABEL7
__LABEL6:
#line 47
		push hl
		ld hl, (_musParamB)
		push hl
		ld hl, (_musParamA)
		call __BEEPER
		pop hl
#line 53
__LABEL7:
	jp __LABEL4
__LABEL5:
_PlayMusic__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	pop bc
	ex (sp), hl
	exx
	ret
_getPaddedText:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	ld l, (ix+4)
	ld h, (ix+5)
	call __STRLEN
	ld a, l
	ld (ix-1), a
	sub (ix+9)
	ccf
	jp nc, __LABEL9
	ld l, (ix+4)
	ld h, (ix+5)
	push hl
	ld hl, 0
	push hl
	ld a, (ix+9)
	ld l, a
	ld h, 0
	dec hl
	push hl
	xor a
	call __STRSLICE
	jp _getPaddedText__leave
__LABEL9:
	ld l, (ix+4)
	ld h, (ix+5)
	ld d, h
	ld e, l
	ld bc, -4
	call __PSTORE_STR
	ld (ix-2), 1
	jp __LABEL10
__LABEL13:
	ld l, (ix+6)
	ld h, (ix+7)
	push hl
	ld l, (ix-4)
	ld h, (ix-3)
	ex de, hl
	pop hl
	call __ADDSTR
	ld d, h
	ld e, l
	ld bc, -4
	call __PSTORE_STR2
	inc (ix-2)
__LABEL10:
	ld h, (ix-2)
	ld a, (ix+9)
	sub (ix-1)
	cp h
	jp nc, __LABEL13
	ld l, (ix-4)
	ld h, (ix-3)
	call __LOADSTR
_getPaddedText__leave:
	ex af, af'
	exx
	ld l, (ix+4)
	ld h, (ix+5)
	call __MEM_FREE
	ld l, (ix+6)
	ld h, (ix+7)
	call __MEM_FREE
	ld l, (ix-4)
	ld h, (ix-3)
	call __MEM_FREE
	ex af, af'
	exx
	ld sp, ix
	pop ix
	exx
	pop hl
	pop bc
	pop bc
	ex (sp), hl
	exx
	ret
_InitScreen:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	inc sp
	ld hl, _sprites.__DATA__
	ld (_udgAddress), hl
	ld a, 7
	call INK
	call COPY_ATTR
	xor a
	call PAPER
	call COPY_ATTR
	ld a, 1
	call BRIGHT
	call COPY_ATTR
	xor a
	call BORDER
	xor a
	push af
	ld a, 10
	call PRINT_AT
	ld hl, __LABEL15
	xor a
	call __PRINTSTR
	call PRINT_EOL
	ld a, 1
	call INK
	call COPY_ATTR
	ld a, 7
	call PAPER
	call COPY_ATTR
	xor a
	call BRIGHT
	call COPY_ATTR
	ld a, 2
	push af
	ld a, 7
	call PRINT_AT
	ld hl, __LABEL16
	xor a
	call __PRINTSTR
	call PRINT_EOL
	ld (ix-1), 1
	jp __LABEL17
__LABEL20:
	ld a, (ix-1)
	ld l, a
	ld h, 0
	inc hl
	inc hl
	ld a, l
	push af
	ld a, 7
	call PRINT_AT
	ld hl, __LABEL22
	xor a
	call __PRINTSTR
	call PRINT_EOL
	ld a, (ix-1)
	ld l, a
	ld h, 0
	inc hl
	inc hl
	ld a, l
	push af
	ld a, 18
	call PRINT_AT
	ld hl, __LABEL23
	xor a
	call __PRINTSTR
	call PRINT_EOL
	inc (ix-1)
__LABEL17:
	ld a, 20
	cp (ix-1)
	jp nc, __LABEL20
	xor a
	ld (_sprites.__DATA__ + 0), a
	xor a
	ld (_sprites.__DATA__ + 1), a
	xor a
	ld (_sprites.__DATA__ + 2), a
	xor a
	ld (_sprites.__DATA__ + 3), a
	xor a
	ld (_sprites.__DATA__ + 4), a
	xor a
	ld (_sprites.__DATA__ + 5), a
	xor a
	ld (_sprites.__DATA__ + 6), a
	xor a
	ld (_sprites.__DATA__ + 7), a
	ld a, 23
	push af
	ld a, 7
	call PRINT_AT
	ld hl, __LABEL24
	xor a
	call __PRINTSTR
	call PRINT_EOL
	xor a
	call INK
	call COPY_ATTR
	ld a, 7
	call PAPER
	call COPY_ATTR
	xor a
	call BRIGHT
	call COPY_ATTR
	ld a, 3
	push af
	ld a, 19
	call PRINT_AT
	ld hl, __LABEL25
	xor a
	call __PRINTSTR
	call PRINT_EOL
	ld a, 7
	push af
	ld a, 19
	call PRINT_AT
	ld hl, __LABEL26
	xor a
	call __PRINTSTR
	call PRINT_EOL
	ld a, 12
	push af
	ld a, 19
	call PRINT_AT
	ld hl, __LABEL27
	xor a
	call __PRINTSTR
	call PRINT_EOL
	ld hl, 9999
	ld (_workingScore), hl
	ld a, 99
	ld (_workingLevel), a
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, 15
	push af
	ld a, 15
	push af
	call _SetSymbol
	ld hl, 1
	call __PAUSE
	call _UpdateScreen
	ld hl, 0
	ld (_workingScore), hl
	ld a, 1
	ld (_workingLevel), a
	xor a
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	xor a
	push af
	xor a
	push af
	call _SetSymbol
	ld hl, 50
	call __PAUSE
	ld hl, 856
	push hl
	ld hl, 48
	call __BEEPER
	ld hl, 715
	push hl
	ld hl, 58
	call __BEEPER
	call _UpdateScreen
_InitScreen__leave:
	ld sp, ix
	pop ix
	ret
_InvertRect:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	ld a, (ix+9)
	ld (ix-2), a
	jp __LABEL28
__LABEL31:
	ld a, (ix+5)
	ld (ix-1), a
	jp __LABEL33
__LABEL36:
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix-1)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	ld a, (hl)
	or a
	jp nz, __LABEL38
	ld a, 1
	push af
	ld a, (ix-2)
	push af
	ld a, (ix-1)
	push af
	call _SetCell
	jp __LABEL39
__LABEL38:
	xor a
	push af
	ld a, (ix-2)
	push af
	ld a, (ix-1)
	push af
	call _SetCell
__LABEL39:
	inc (ix-1)
__LABEL33:
	ld a, (ix+7)
	cp (ix-1)
	jp nc, __LABEL36
	inc (ix-2)
__LABEL28:
	ld a, (ix+11)
	cp (ix-2)
	jp nc, __LABEL31
_InvertRect__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	pop bc
	pop bc
	pop bc
	ex (sp), hl
	exx
	ret
_MoveRect:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	ld a, (ix+9)
	ld (ix-2), a
	jp __LABEL40
__LABEL43:
	ld a, (ix+5)
	ld (ix-1), a
	jp __LABEL45
__LABEL48:
	xor a
	push af
	ld a, (ix-2)
	push af
	ld a, (ix-1)
	push af
	call _SetCell
	inc (ix-1)
__LABEL45:
	ld h, (ix-1)
	ld a, (ix+7)
	call __LTI8
	or a
	jp z, __LABEL48
	inc (ix-2)
__LABEL40:
	ld h, (ix-2)
	ld a, (ix+11)
	call __LTI8
	or a
	jp z, __LABEL43
	ld a, (ix+9)
	ld (ix-2), a
	jp __LABEL50
__LABEL53:
	ld a, (ix+5)
	ld (ix-1), a
	jp __LABEL55
__LABEL58:
	ld a, (ix-2)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	ld a, (hl)
	push af
	ld a, (ix-2)
	add a, (ix+15)
	push af
	ld a, (ix-1)
	add a, (ix+13)
	push af
	call _SetCell
	inc (ix-1)
__LABEL55:
	ld h, (ix-1)
	ld a, (ix+7)
	call __LTI8
	or a
	jp z, __LABEL58
	inc (ix-2)
__LABEL50:
	ld h, (ix-2)
	ld a, (ix+11)
	call __LTI8
	or a
	jp z, __LABEL53
_MoveRect__leave:
	exx
	ld hl, 12
__EXIT_FUNCTION:
	ld sp, ix
	pop ix
	pop de
	add hl, sp
	ld sp, hl
	push de
	exx
	ret
_FillRect:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	ld a, (ix+9)
	ld (ix-2), a
	jp __LABEL60
__LABEL63:
	ld a, (ix+5)
	ld (ix-1), a
	jp __LABEL65
__LABEL68:
	ld a, (ix+13)
	push af
	ld a, (ix-2)
	push af
	ld a, (ix-1)
	push af
	call _SetCell
	inc (ix-1)
__LABEL65:
	ld a, (ix+7)
	cp (ix-1)
	jp nc, __LABEL68
	inc (ix-2)
__LABEL60:
	ld a, (ix+11)
	cp (ix-2)
	jp nc, __LABEL63
_FillRect__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	pop bc
	pop bc
	pop bc
	pop bc
	ex (sp), hl
	exx
	ret
_SetCell:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	inc sp
	ld a, (ix+7)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix+5)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _workingCells
	call __ARRAY
	ld a, (hl)
	ld (ix-1), a
	or a
	jp z, __LABEL70
	ld a, (ix+9)
	push af
	ld a, (ix+7)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix+5)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	pop af
	sub (hl)
	jp z, __LABEL72
	ld a, (ix+5)
	push af
	ld a, (ix-1)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 0
	push hl
	ld hl, _ops
	call __ARRAY
	pop af
	ld (hl), a
	jp __LABEL73
__LABEL72:
	ld a, (ix-1)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 0
	push hl
	ld hl, _ops
	call __ARRAY
	ld (hl), 0
__LABEL73:
	jp __LABEL71
__LABEL70:
	ld a, (ix+7)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix+5)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	ld a, (hl)
	sub (ix+9)
	jp z, __LABEL75
	ld hl, _currentOp
	inc (hl)
	ld a, (ix+5)
	push af
	ld a, (_currentOp)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 0
	push hl
	ld hl, _ops
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix+7)
	push af
	ld a, (_currentOp)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 1
	push hl
	ld hl, _ops
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix+9)
	push af
	ld a, (_currentOp)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 2
	push hl
	ld hl, _ops
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix+7)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix+5)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _workingCells
	call __ARRAY
	ld a, (_currentOp)
	ld (hl), a
__LABEL75:
__LABEL71:
_SetCell__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	pop bc
	pop bc
	ex (sp), hl
	exx
	ret
_SetSymbol:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	inc sp
	ld a, (ix+5)
	and 3
	ld (ix-1), a
	or a
	jp nz, __LABEL76
	xor a
	ld (_workingSymbol.__DATA__ + 2), a
	jp __LABEL77
__LABEL76:
	ld a, (ix-1)
	inc a
	ld (_workingSymbol.__DATA__ + 2), a
__LABEL77:
	ld a, (ix+5)
	srl a
	srl a
	and 3
	ld (ix-1), a
	or a
	jp nz, __LABEL78
	xor a
	ld (_workingSymbol.__DATA__ + 0), a
	jp __LABEL79
__LABEL78:
	ld a, (ix-1)
	inc a
	ld (_workingSymbol.__DATA__ + 0), a
__LABEL79:
	ld a, (ix+7)
	and 3
	ld (ix-1), a
	or a
	jp nz, __LABEL80
	xor a
	ld (_workingSymbol.__DATA__ + 3), a
	jp __LABEL81
__LABEL80:
	ld a, (ix-1)
	inc a
	ld (_workingSymbol.__DATA__ + 3), a
__LABEL81:
	ld a, (ix+7)
	srl a
	srl a
	and 3
	ld (ix-1), a
	or a
	jp nz, __LABEL82
	xor a
	ld (_workingSymbol.__DATA__ + 1), a
	jp __LABEL83
__LABEL82:
	ld a, (ix-1)
	inc a
	ld (_workingSymbol.__DATA__ + 1), a
__LABEL83:
_SetSymbol__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	pop bc
	ex (sp), hl
	exx
	ret
_SetLevel:
	push ix
	ld ix, 0
	add ix, sp
	ld a, (ix+5)
	ld (_workingLevel), a
_SetLevel__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_SetScore:
	push ix
	ld ix, 0
	add ix, sp
	ld l, (ix+4)
	ld h, (ix+5)
	ld (_workingScore), hl
_SetScore__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_SetLifes:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	inc sp
	ld a, 4
	cp (ix+5)
	jp nc, __LABEL84
	ld (ix-1), 15
	ld a, (ix+5)
	sub 4
	ld (ix+5), a
	ld (ix-3), 1
	jp __LABEL86
__LABEL89:
	ld a, (ix+5)
	sub (ix-3)
	ccf
	jp nc, __LABEL92
	ld a, (ix-2)
	push af
	ld a, (ix-3)
	dec a
	ld h, 1
	or a
	ld b, a
	ld a, h
	jr z, __LABEL1282
__LABEL1281:
	add a, a
	djnz __LABEL1281
__LABEL1282:
	pop de
	or d
	ld (ix-2), a
__LABEL92:
	inc (ix-3)
__LABEL86:
	ld a, 4
	cp (ix-3)
	jp nc, __LABEL89
	jp __LABEL85
__LABEL84:
	ld (ix-3), 1
	jp __LABEL93
__LABEL96:
	ld a, (ix+5)
	sub (ix-3)
	ccf
	jp nc, __LABEL99
	ld a, (ix-1)
	push af
	ld a, (ix-3)
	dec a
	ld h, 1
	or a
	ld b, a
	ld a, h
	jr z, __LABEL1284
__LABEL1283:
	add a, a
	djnz __LABEL1283
__LABEL1284:
	pop de
	or d
	ld (ix-1), a
__LABEL99:
	inc (ix-3)
__LABEL93:
	ld a, 4
	cp (ix-3)
	jp nc, __LABEL96
__LABEL85:
	ld a, (ix-2)
	push af
	ld a, (ix-1)
	push af
	call _SetSymbol
_SetLifes__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_HideNextTitle:
	push ix
	ld ix, 0
	add ix, sp
	ld a, 7
	push af
	ld a, 19
	call PRINT_AT
	ld hl, __LABEL100
	xor a
	call __PRINTSTR
	call PRINT_EOL
_HideNextTitle__leave:
	ld sp, ix
	pop ix
	ret
_ShowNextTitle:
	push ix
	ld ix, 0
	add ix, sp
	ld a, 7
	push af
	ld a, 19
	call PRINT_AT
	ld hl, __LABEL26
	xor a
	call __PRINTSTR
	call PRINT_EOL
_ShowNextTitle__leave:
	ld sp, ix
	pop ix
	ret
_CountOnCells:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	inc sp
	ld (ix-3), 1
	jp __LABEL101
__LABEL104:
	ld (ix-2), 1
	jp __LABEL106
__LABEL109:
	ld a, (ix-3)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	ld a, (hl)
	or a
	jp z, __LABEL112
	inc (ix-1)
__LABEL112:
	inc (ix-2)
__LABEL106:
	ld a, 10
	cp (ix-2)
	jp nc, __LABEL109
	inc (ix-3)
__LABEL101:
	ld a, 20
	cp (ix-3)
	jp nc, __LABEL104
	ld a, (ix-1)
_CountOnCells__leave:
	ld sp, ix
	pop ix
	ret
_UpdateScreen:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	push hl
	inc sp
	xor a
	ld hl, (_currentOp - 1)
	cp h
	jp nc, __LABEL114
	ld (ix-3), 1
	jp __LABEL115
__LABEL118:
	ld a, (ix-3)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 0
	push hl
	ld hl, _ops
	call __ARRAY
	ld a, (hl)
	ld (ix-1), a
	or a
	jp z, __LABEL121
	ld a, (ix-3)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 1
	push hl
	ld hl, _ops
	call __ARRAY
	ld a, (hl)
	ld (ix-2), a
	ld a, (ix-3)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 2
	push hl
	ld hl, _ops
	call __ARRAY
	ld a, (hl)
	ld (ix-5), a
	push af
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix-1)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-2)
	ld l, a
	ld h, 0
	inc hl
	inc hl
	ld a, l
	push af
	ld a, (ix-1)
	ld l, a
	ld h, 0
	ld de, 7
	add hl, de
	ld a, l
	call PRINT_AT
	ld a, (ix-5)
	add a, 144
	push af
	ld hl, 1
	call CHR
	ld a, 1
	call __PRINTSTR
	call PRINT_EOL
__LABEL121:
	inc (ix-3)
__LABEL115:
	ld a, (_currentOp)
	cp (ix-3)
	jp nc, __LABEL118
__LABEL114:
	ld (ix-2), 1
	jp __LABEL122
__LABEL125:
	ld (ix-1), 1
	jp __LABEL127
__LABEL130:
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix-1)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _screenSymbol
	call __ARRAY
	ld a, (hl)
	ld (ix-4), a
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix-1)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _workingSymbol
	call __ARRAY
	ld a, (hl)
	ld (ix-5), a
	ld a, (ix-4)
	sub (ix-5)
	jp z, __LABEL133
	ld a, (ix-5)
	push af
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix-1)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _screenSymbol
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-2)
	ld l, a
	ld h, 0
	ld de, 8
	add hl, de
	ld a, l
	push af
	ld a, (ix-1)
	ld l, a
	ld h, 0
	ld de, 18
	add hl, de
	ld a, l
	call PRINT_AT
	ld a, (ix-5)
	add a, 144
	push af
	ld hl, 1
	call CHR
	ld a, 1
	call __PRINTSTR
	call PRINT_EOL
__LABEL133:
	inc (ix-1)
__LABEL127:
	ld a, 4
	cp (ix-1)
	jp nc, __LABEL130
	inc (ix-2)
__LABEL122:
	ld a, 2
	cp (ix-2)
	jp nc, __LABEL125
	ld de, (_screenScore)
	ld hl, (_workingScore)
	or a
	sbc hl, de
	ld a, h
	or l
	jp z, __LABEL135
	ld hl, (_workingScore)
	ld (_screenScore), hl
	ld a, 5
	push af
	ld a, 19
	call PRINT_AT
	ld a, 4
	push af
	ld hl, __LABEL136
	call __LOADSTR
	push hl
	ld hl, (_screenScore)
	ld de, 0
	call __U32TOFREG
	call __STR_FAST
	push hl
	call _getPaddedText
	ld a, 1
	call __PRINTSTR
	call PRINT_EOL
__LABEL135:
	ld hl, (_workingLevel - 1)
	ld a, (_screenLevel)
	sub h
	jp z, __LABEL138
	ld a, (_workingLevel)
	ld (_screenLevel), a
	ld a, 14
	push af
	ld a, 19
	call PRINT_AT
	ld a, 2
	push af
	ld hl, __LABEL136
	call __LOADSTR
	push hl
	ld a, (_screenLevel)
	call __U8TOFREG
	call __STR_FAST
	push hl
	call _getPaddedText
	ld a, 1
	call __PRINTSTR
	call PRINT_EOL
__LABEL138:
	xor a
	ld (_currentOp), a
#line 492
		di
		ld de, _workingCells.__DATA__
		ld a, 0
		ld (de), a
		inc de
		ld hl, _workingCells.__DATA__
		ld bc, 199
		ldir
		ei
#line 501
_UpdateScreen__leave:
	ld sp, ix
	pop ix
	ret
_ShowCurtain:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	ld (ix-2), 1
	jp __LABEL139
__LABEL142:
	ld (ix-1), 1
	jp __LABEL144
__LABEL147:
	ld a, 1
	push af
	ld a, (ix-2)
	push af
	ld a, (ix-1)
	push af
	call _SetCell
	inc (ix-1)
__LABEL144:
	ld a, 10
	cp (ix-1)
	jp nc, __LABEL147
	call _UpdateScreen
	ld hl, 11888
	push hl
	ld hl, 0
	call __BEEPER
	inc (ix-2)
__LABEL139:
	ld a, 20
	cp (ix-2)
	jp nc, __LABEL142
_ShowCurtain__leave:
	ld sp, ix
	pop ix
	ret
_ShowDeath:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	inc sp
	ld (ix-1), 1
	jp __LABEL149
__LABEL152:
	ld a, (ix-1)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _deadPic
	call __ARRAY
	ld e, (hl)
	inc hl
	ld d, (hl)
	ex de, hl
	ld (ix-3), l
	ld (ix-2), h
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 512
	call __BAND16
	ld a, h
	or l
	jp nz, __LABEL155
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 1
	push af
	call _SetCell
__LABEL155:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 256
	call __BAND16
	ld a, h
	or l
	jp nz, __LABEL157
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 2
	push af
	call _SetCell
__LABEL157:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 128
	call __BAND16
	ld a, h
	or l
	jp nz, __LABEL159
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 3
	push af
	call _SetCell
__LABEL159:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 64
	call __BAND16
	ld a, h
	or l
	jp nz, __LABEL161
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 4
	push af
	call _SetCell
__LABEL161:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 32
	call __BAND16
	ld a, h
	or l
	jp nz, __LABEL163
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 5
	push af
	call _SetCell
__LABEL163:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 16
	call __BAND16
	ld a, h
	or l
	jp nz, __LABEL165
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 6
	push af
	call _SetCell
__LABEL165:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 8
	call __BAND16
	ld a, h
	or l
	jp nz, __LABEL167
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 7
	push af
	call _SetCell
__LABEL167:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 4
	call __BAND16
	ld a, h
	or l
	jp nz, __LABEL169
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 8
	push af
	call _SetCell
__LABEL169:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 2
	call __BAND16
	ld a, h
	or l
	jp nz, __LABEL171
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 9
	push af
	call _SetCell
__LABEL171:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 1
	call __BAND16
	ld a, h
	or l
	jp nz, __LABEL173
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 10
	push af
	call _SetCell
__LABEL173:
	inc (ix-1)
__LABEL149:
	ld a, 20
	cp (ix-1)
	jp nc, __LABEL152
	call _UpdateScreen
	ld hl, 46
	push hl
	ld hl, _deathMusic
	push hl
	call _PlayMusic
_ShowDeath__leave:
	ld sp, ix
	pop ix
	ret
_ShowWin:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	inc sp
	ld (ix-1), 1
	jp __LABEL174
__LABEL177:
	ld a, (ix-1)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _winPic
	call __ARRAY
	ld e, (hl)
	inc hl
	ld d, (hl)
	ex de, hl
	ld (ix-3), l
	ld (ix-2), h
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 512
	call __BAND16
	ld a, h
	or l
	jp nz, __LABEL180
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 1
	push af
	call _SetCell
__LABEL180:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 256
	call __BAND16
	ld a, h
	or l
	jp nz, __LABEL182
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 2
	push af
	call _SetCell
__LABEL182:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 128
	call __BAND16
	ld a, h
	or l
	jp nz, __LABEL184
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 3
	push af
	call _SetCell
__LABEL184:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 64
	call __BAND16
	ld a, h
	or l
	jp nz, __LABEL186
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 4
	push af
	call _SetCell
__LABEL186:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 32
	call __BAND16
	ld a, h
	or l
	jp nz, __LABEL188
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 5
	push af
	call _SetCell
__LABEL188:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 16
	call __BAND16
	ld a, h
	or l
	jp nz, __LABEL190
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 6
	push af
	call _SetCell
__LABEL190:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 8
	call __BAND16
	ld a, h
	or l
	jp nz, __LABEL192
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 7
	push af
	call _SetCell
__LABEL192:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 4
	call __BAND16
	ld a, h
	or l
	jp nz, __LABEL194
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 8
	push af
	call _SetCell
__LABEL194:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 2
	call __BAND16
	ld a, h
	or l
	jp nz, __LABEL196
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 9
	push af
	call _SetCell
__LABEL196:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 1
	call __BAND16
	ld a, h
	or l
	jp nz, __LABEL198
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 10
	push af
	call _SetCell
__LABEL198:
	inc (ix-1)
__LABEL174:
	ld a, 20
	cp (ix-1)
	jp nc, __LABEL177
	call _UpdateScreen
	ld hl, 220
	push hl
	ld hl, _winMusic
	push hl
	call _PlayMusic
_ShowWin__leave:
	ld sp, ix
	pop ix
	ret
_min:
	push ix
	ld ix, 0
	add ix, sp
	ld h, (ix+5)
	ld a, (ix+7)
	call __LTI8
	or a
	jp z, __LABEL199
	ld a, (ix+7)
	jp _min__leave
__LABEL199:
	ld a, (ix+5)
_min__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	pop bc
	ex (sp), hl
	exx
	ret
_max:
	push ix
	ld ix, 0
	add ix, sp
	ld a, (ix+5)
	ld h, (ix+7)
	call __LTI8
	or a
	jp z, __LABEL201
	ld a, (ix+7)
	jp _max__leave
__LABEL201:
	ld a, (ix+5)
_max__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	pop bc
	ex (sp), hl
	exx
	ret
_Explode:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	push hl
	ld a, (ix+5)
	ld (ix-1), a
	ld a, (ix+7)
	ld (ix-3), a
	ld a, (ix+5)
	ld (ix-2), a
	ld a, (ix+7)
	ld (ix-4), a
	ld (ix-5), 1
	jp __LABEL203
__LABEL206:
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, (ix-4)
	inc a
	push af
	call _min
	push af
	ld a, 1
	push af
	ld a, (ix-3)
	dec a
	push af
	call _max
	push af
	ld a, 10
	push af
	ld a, (ix-2)
	inc a
	push af
	call _min
	push af
	ld a, 1
	push af
	ld a, (ix-1)
	dec a
	push af
	call _max
	push af
	call _FillRect
	xor a
	push af
	ld a, 20
	push af
	ld a, (ix-4)
	push af
	call _min
	push af
	ld a, 1
	push af
	ld a, (ix-3)
	push af
	call _max
	push af
	ld a, 10
	push af
	ld a, (ix-2)
	push af
	call _min
	push af
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	call _max
	push af
	call _FillRect
	dec (ix-1)
	inc (ix-2)
	dec (ix-3)
	inc (ix-4)
	call _UpdateScreen
	ld hl, 12597
	push hl
	ld hl, 1
	call __BEEPER
	inc (ix-5)
__LABEL203:
	ld h, (ix-5)
	ld a, 3
	call __LTI8
	or a
	jp z, __LABEL206
	ld a, (ix-1)
	ld (ix-5), a
	jp __LABEL208
__LABEL211:
	ld a, (ix-5)
	ld h, 1
	call __LTI8
	push af
	ld h, (ix-5)
	ld a, 10
	call __LTI8
	pop de
	or d
	jp nz, __LABEL212
	ld a, (ix-5)
	and 1
	jp nz, __LABEL215
	ld a, (ix-3)
	ld h, 1
	call __LTI8
	or a
	jp nz, __LABEL212
	xor a
	push af
	ld a, (ix-3)
	push af
	ld a, (ix-5)
	push af
	call _SetCell
	jp __LABEL216
__LABEL215:
	ld h, (ix-4)
	ld a, 20
	call __LTI8
	or a
	jp nz, __LABEL212
	xor a
	push af
	ld a, (ix-4)
	push af
	ld a, (ix-5)
	push af
	call _SetCell
__LABEL216:
__LABEL212:
	inc (ix-5)
__LABEL208:
	ld h, (ix-5)
	ld a, (ix-2)
	call __LTI8
	or a
	jp z, __LABEL211
	ld a, (ix-3)
	ld (ix-6), a
	jp __LABEL221
__LABEL224:
	ld a, (ix-6)
	ld h, 1
	call __LTI8
	push af
	ld h, (ix-6)
	ld a, 20
	call __LTI8
	pop de
	or d
	jp nz, __LABEL225
	ld a, (ix-6)
	and 1
	jp nz, __LABEL228
	ld a, (ix-1)
	ld h, 1
	call __LTI8
	or a
	jp nz, __LABEL225
	xor a
	push af
	ld a, (ix-6)
	push af
	ld a, (ix-1)
	push af
	call _SetCell
	jp __LABEL229
__LABEL228:
	ld h, (ix-2)
	ld a, 10
	call __LTI8
	or a
	jp nz, __LABEL225
	xor a
	push af
	ld a, (ix-6)
	push af
	ld a, (ix-2)
	push af
	call _SetCell
__LABEL229:
__LABEL225:
	inc (ix-6)
__LABEL221:
	ld h, (ix-6)
	ld a, (ix-4)
	call __LTI8
	or a
	jp z, __LABEL224
	call _UpdateScreen
	ld hl, 5
	call __PAUSE
	ld a, (ix+9)
	or a
	jp nz, __LABEL235
	ld (ix-5), 1
	jp __LABEL236
__LABEL239:
	ld a, 20
	push af
	ld a, (ix-4)
	push af
	call _min
	push af
	ld a, 1
	push af
	ld a, (ix-3)
	push af
	call _max
	push af
	ld a, 10
	push af
	ld a, (ix-2)
	push af
	call _min
	push af
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	call _max
	push af
	call _InvertRect
	xor a
	push af
	ld a, 20
	push af
	ld a, (ix-4)
	dec a
	push af
	call _min
	push af
	ld a, 1
	push af
	ld a, (ix-3)
	inc a
	push af
	call _max
	push af
	ld a, 10
	push af
	ld a, (ix-2)
	dec a
	push af
	call _min
	push af
	ld a, 1
	push af
	ld a, (ix-1)
	inc a
	push af
	call _max
	push af
	call _FillRect
	call _UpdateScreen
	ld hl, 1
	call __PAUSE
	inc (ix-5)
__LABEL236:
	ld h, (ix-5)
	ld a, 10
	call __LTI8
	or a
	jp z, __LABEL239
__LABEL235:
_Explode__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	pop bc
	pop bc
	ex (sp), hl
	exx
	ret
_InitIntro:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	inc sp
	ld (ix-1), 1
	jp __LABEL241
__LABEL244:
	ld a, (ix-1)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _introScreen
	call __ARRAY
	ld e, (hl)
	inc hl
	ld d, (hl)
	ex de, hl
	ld (ix-3), l
	ld (ix-2), h
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 512
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL247
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 1
	push af
	call _SetCell
__LABEL247:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 256
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL249
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 2
	push af
	call _SetCell
__LABEL249:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 128
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL251
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 3
	push af
	call _SetCell
__LABEL251:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 64
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL253
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 4
	push af
	call _SetCell
__LABEL253:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 32
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL255
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 5
	push af
	call _SetCell
__LABEL255:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 16
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL257
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 6
	push af
	call _SetCell
__LABEL257:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 8
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL259
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 7
	push af
	call _SetCell
__LABEL259:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 4
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL261
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 8
	push af
	call _SetCell
__LABEL261:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 2
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL263
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 9
	push af
	call _SetCell
__LABEL263:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 1
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL265
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 10
	push af
	call _SetCell
__LABEL265:
	inc (ix-1)
__LABEL241:
	ld a, 20
	cp (ix-1)
	jp nc, __LABEL244
	call _UpdateScreen
_InitIntro__leave:
	ld sp, ix
	pop ix
	ret
_LoadTetrisScreen:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	inc sp
	xor a
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld (ix-1), 1
	jp __LABEL266
__LABEL269:
	ld a, (ix-1)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix+5)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _tetrisScreens
	call __ARRAY
	ld e, (hl)
	inc hl
	ld d, (hl)
	ex de, hl
	ld (ix-3), l
	ld (ix-2), h
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 512
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL272
	ld a, 1
	push af
	ld a, (ix-1)
	add a, 10
	push af
	ld a, 1
	push af
	call _SetCell
__LABEL272:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 256
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL274
	ld a, 1
	push af
	ld a, (ix-1)
	add a, 10
	push af
	ld a, 2
	push af
	call _SetCell
__LABEL274:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 128
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL276
	ld a, 1
	push af
	ld a, (ix-1)
	add a, 10
	push af
	ld a, 3
	push af
	call _SetCell
__LABEL276:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 64
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL278
	ld a, 1
	push af
	ld a, (ix-1)
	add a, 10
	push af
	ld a, 4
	push af
	call _SetCell
__LABEL278:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 32
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL280
	ld a, 1
	push af
	ld a, (ix-1)
	add a, 10
	push af
	ld a, 5
	push af
	call _SetCell
__LABEL280:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 16
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL282
	ld a, 1
	push af
	ld a, (ix-1)
	add a, 10
	push af
	ld a, 6
	push af
	call _SetCell
__LABEL282:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 8
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL284
	ld a, 1
	push af
	ld a, (ix-1)
	add a, 10
	push af
	ld a, 7
	push af
	call _SetCell
__LABEL284:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 4
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL286
	ld a, 1
	push af
	ld a, (ix-1)
	add a, 10
	push af
	ld a, 8
	push af
	call _SetCell
__LABEL286:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 2
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL288
	ld a, 1
	push af
	ld a, (ix-1)
	add a, 10
	push af
	ld a, 9
	push af
	call _SetCell
__LABEL288:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 1
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL290
	ld a, 1
	push af
	ld a, (ix-1)
	add a, 10
	push af
	ld a, 10
	push af
	call _SetCell
__LABEL290:
	inc (ix-1)
__LABEL266:
	ld a, 10
	cp (ix-1)
	jp nc, __LABEL269
	call _UpdateScreen
_LoadTetrisScreen__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_ExpandPiece:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	ld (ix-2), 1
	jp __LABEL291
__LABEL294:
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 0
	push hl
	ld a, (ix+5)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _tetrisPieces
	call __ARRAY
	ld a, (hl)
	ld (ix-1), a
	and 128
	push af
	ld hl, 0
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 0
	push hl
	ld hl, _expandedPiece
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-1)
	and 64
	push af
	ld hl, 0
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 1
	push hl
	ld hl, _expandedPiece
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-1)
	and 32
	push af
	ld hl, 0
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 2
	push hl
	ld hl, _expandedPiece
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-1)
	and 16
	push af
	ld hl, 0
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 3
	push hl
	ld hl, _expandedPiece
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-1)
	and 8
	push af
	ld hl, 1
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 0
	push hl
	ld hl, _expandedPiece
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-1)
	and 4
	push af
	ld hl, 1
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 1
	push hl
	ld hl, _expandedPiece
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-1)
	and 2
	push af
	ld hl, 1
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 2
	push hl
	ld hl, _expandedPiece
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-1)
	and 1
	push af
	ld hl, 1
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 3
	push hl
	ld hl, _expandedPiece
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 1
	push hl
	ld a, (ix+5)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _tetrisPieces
	call __ARRAY
	ld a, (hl)
	ld (ix-1), a
	and 128
	push af
	ld hl, 2
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 0
	push hl
	ld hl, _expandedPiece
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-1)
	and 64
	push af
	ld hl, 2
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 1
	push hl
	ld hl, _expandedPiece
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-1)
	and 32
	push af
	ld hl, 2
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 2
	push hl
	ld hl, _expandedPiece
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-1)
	and 16
	push af
	ld hl, 2
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 3
	push hl
	ld hl, _expandedPiece
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-1)
	and 8
	push af
	ld hl, 3
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 0
	push hl
	ld hl, _expandedPiece
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-1)
	and 4
	push af
	ld hl, 3
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 1
	push hl
	ld hl, _expandedPiece
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-1)
	and 2
	push af
	ld hl, 3
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 2
	push hl
	ld hl, _expandedPiece
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-1)
	and 1
	push af
	ld hl, 3
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 3
	push hl
	ld hl, _expandedPiece
	call __ARRAY
	pop af
	ld (hl), a
	ld hl, 0
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _expandedSize
	call __ARRAY
	ld (hl), 0
	ld hl, 1
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _expandedSize
	call __ARRAY
	ld (hl), 0
	inc (ix-2)
__LABEL291:
	ld a, 4
	cp (ix-2)
	jp nc, __LABEL294
	ld (ix-4), 1
	jp __LABEL296
__LABEL299:
	ld (ix-2), 1
	jp __LABEL301
__LABEL304:
	ld (ix-3), 1
	jp __LABEL306
__LABEL309:
	ld a, (ix-4)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix-3)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _expandedPiece
	call __ARRAY
	ld a, (hl)
	or a
	jp z, __LABEL312
	ld hl, 0
	push hl
	ld a, (ix-4)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _expandedSize
	call __ARRAY
	ld a, (hl)
	ld h, (ix-2)
	call __LTI8
	or a
	jp z, __LABEL314
	ld a, (ix-2)
	push af
	ld hl, 0
	push hl
	ld a, (ix-4)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _expandedSize
	call __ARRAY
	pop af
	ld (hl), a
__LABEL314:
	ld hl, 1
	push hl
	ld a, (ix-4)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _expandedSize
	call __ARRAY
	ld a, (hl)
	ld h, (ix-3)
	call __LTI8
	or a
	jp z, __LABEL316
	ld a, (ix-3)
	push af
	ld hl, 1
	push hl
	ld a, (ix-4)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _expandedSize
	call __ARRAY
	pop af
	ld (hl), a
__LABEL316:
__LABEL312:
	inc (ix-3)
__LABEL306:
	ld a, 4
	cp (ix-3)
	jp nc, __LABEL309
	inc (ix-2)
__LABEL301:
	ld a, 4
	cp (ix-2)
	jp nc, __LABEL304
	inc (ix-4)
__LABEL296:
	ld a, 4
	cp (ix-4)
	jp nc, __LABEL299
_ExpandPiece__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_WillCollide:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	push hl
	ld a, (ix+9)
	or a
	jp z, __LABEL318
	ld a, (ix+5)
	add a, (ix+9)
	ld (ix-1), a
	ld h, 1
	call __LTI8
	push af
	ld a, (ix-1)
	push af
	ld hl, 1
	push hl
	ld a, (ix+13)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld hl, _expandedSize
	call __ARRAY
	ld a, 11
	sub (hl)
	pop hl
	call __LTI8
	pop de
	or d
	jp z, __LABEL320
	ld a, 1
	jp _WillCollide__leave
__LABEL320:
__LABEL318:
	ld (ix-2), 1
	jp __LABEL321
__LABEL324:
	ld a, (ix-2)
	add a, (ix+7)
	add a, (ix+11)
	dec a
	ld (ix-5), a
	ld h, 1
	call __LTI8
	or a
	jp nz, __LABEL325
	ld a, (ix-2)
	add a, (ix+11)
	ld (ix-4), a
	ld (ix-1), 1
	jp __LABEL328
__LABEL331:
	ld a, (ix-1)
	add a, (ix+5)
	add a, (ix+9)
	dec a
	ld (ix-6), a
	ld a, (ix-1)
	add a, (ix+9)
	ld (ix-3), a
	ld a, (ix+15)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld a, (ix-2)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld hl, _expandedPiece
	call __ARRAY
	ld a, (hl)
	push af
	ld a, (ix-3)
	ld h, 1
	call __LTI8
	push af
	ld h, (ix-3)
	ld a, 4
	call __LTI8
	pop de
	or d
	push af
	ld a, (ix-4)
	ld h, 1
	call __LTI8
	pop de
	or d
	push af
	ld h, (ix-4)
	ld a, 4
	call __LTI8
	pop de
	or d
	push af
	ld a, (ix+13)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld a, (ix-4)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld a, (ix-3)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld hl, _expandedPiece
	call __ARRAY
	pop de
	ld a, (hl)
	sub 1
	sbc a, a
	or d
	ld h, a
	pop af
	or a
	jr z, __LABEL1285
	ld a, h
__LABEL1285:
	or a
	jp z, __LABEL334
	ld a, (ix-6)
	ld h, 1
	call __LTI8
	push af
	ld h, (ix-6)
	ld a, 10
	call __LTI8
	pop de
	or d
	push af
	ld h, (ix-5)
	ld a, 20
	call __LTI8
	pop de
	or d
	push af
	ld a, (ix-5)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld a, (ix-6)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	pop af
	or (hl)
	jp z, __LABEL336
	ld a, 1
	jp _WillCollide__leave
__LABEL336:
__LABEL334:
	inc (ix-1)
__LABEL328:
	ld h, (ix-1)
	ld a, 4
	call __LTI8
	or a
	jp z, __LABEL331
__LABEL325:
	inc (ix-2)
__LABEL321:
	ld h, (ix-2)
	ld a, 4
	call __LTI8
	or a
	jp z, __LABEL324
	xor a
_WillCollide__leave:
	exx
	ld hl, 12
	jp __EXIT_FUNCTION
_DrawFigure:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	ld (ix-2), 1
	jp __LABEL337
__LABEL340:
	ld a, (ix-2)
	add a, (ix+7)
	dec a
	ld (ix-4), a
	ld h, 1
	call __LTI8
	or a
	jp nz, __LABEL341
	ld (ix-1), 1
	jp __LABEL344
__LABEL347:
	ld a, (ix-1)
	add a, (ix+5)
	dec a
	ld (ix-3), a
	ld h, 1
	call __LTI8
	or a
	jp nz, __LABEL348
	ld a, (ix+9)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix-2)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix-1)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _expandedPiece
	call __ARRAY
	ld a, (hl)
	or a
	jp z, __LABEL352
	ld a, (ix+11)
	push af
	ld a, (ix-4)
	push af
	ld a, (ix-3)
	push af
	call _SetCell
__LABEL352:
__LABEL348:
	inc (ix-1)
__LABEL344:
	ld a, 4
	cp (ix-1)
	jp nc, __LABEL347
__LABEL341:
	inc (ix-2)
__LABEL337:
	ld a, 4
	cp (ix-2)
	jp nc, __LABEL340
_DrawFigure__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	pop bc
	pop bc
	pop bc
	ex (sp), hl
	exx
	ret
_FindTop:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	inc sp
	ld (ix-1), 20
	jp __LABEL353
__LABEL356:
	ld (ix-3), 1
	ld (ix-2), 1
	jp __LABEL358
__LABEL361:
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld a, (ix-2)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	ld a, (hl)
	or a
	jp z, __LABEL364
	ld (ix-3), 0
	jp __LABEL360
__LABEL364:
	inc (ix-2)
__LABEL358:
	ld h, (ix-2)
	ld a, 10
	call __LTI8
	or a
	jp z, __LABEL361
__LABEL360:
	ld a, (ix-3)
	or a
	jp z, __LABEL366
	ld a, (ix-1)
	sub 20
	jp nz, __LABEL368
	xor a
	jp _FindTop__leave
__LABEL368:
	ld a, (ix-1)
	inc a
	jp _FindTop__leave
__LABEL366:
	dec (ix-1)
__LABEL353:
	ld a, (ix-1)
	ld h, 1
	call __LTI8
	or a
	jp z, __LABEL356
	xor a
_FindTop__leave:
	ld sp, ix
	pop ix
	ret
_EraseLines:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	push hl
	call _FindTop
	ld (ix-1), a
	ld (ix-4), 3
	jp __LABEL369
__LABEL372:
	ld (ix-2), 1
	ld a, (ix-4)
	add a, (ix+5)
	ld (ix-3), a
	ld h, (ix-1)
	call __LTI8
	push af
	ld h, (ix-3)
	ld a, 20
	call __LTI8
	pop de
	or d
	jp nz, __LABEL373
	ld (ix-5), 1
	jp __LABEL376
__LABEL379:
	ld a, (ix-3)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld a, (ix-5)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	ld a, (hl)
	or a
	jp nz, __LABEL382
	ld (ix-2), 0
	jp __LABEL378
__LABEL382:
	inc (ix-5)
__LABEL376:
	ld a, 10
	cp (ix-5)
	jp nc, __LABEL379
__LABEL378:
	ld a, (ix-2)
	or a
	jp z, __LABEL384
	inc (ix+5)
	ld a, 1
	push af
	xor a
	push af
	ld a, (ix-3)
	dec a
	push af
	ld a, (ix-1)
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _MoveRect
	call _UpdateScreen
	ld hl, 233
	push hl
	ld hl, 82
	call __BEEPER
	inc (ix-6)
__LABEL384:
__LABEL373:
	dec (ix-4)
__LABEL369:
	ld a, (ix-4)
	ld h, 0
	call __LTI8
	or a
	jp z, __LABEL372
	ld a, (ix-6)
_EraseLines__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_RunTetris:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, -17
	add hl, sp
	ld sp, hl
	ld (hl), 0
	ld bc, 16
	ld d, h
	ld e, l
	inc de
	ldir
	push ix
	pop hl
	ld bc, -3
	add hl, bc
	ex de, hl
	ld hl, __LABEL1286
	ld bc, 1
	ldir
	push ix
	pop hl
	ld bc, -4
	add hl, bc
	ex de, hl
	ld hl, __LABEL1287
	ld bc, 1
	ldir
	ld a, (_playedTetrisMusic)
	or a
	jp nz, __LABEL386
	ld hl, 100
	push hl
	ld hl, _tetrisIntroMusic
	push hl
	call _PlayMusic
	ld a, 1
	ld (_playedTetrisMusic), a
__LABEL386:
	ld a, (ix+5)
	ld h, 10
	call __DIVU8_FAST
	inc a
	ld h, a
	ld a, 40
	call __DIVU8_FAST
	ld (ix-1), a
	ld de, __LABEL387
	ld bc, -17
	call __PSTORE_STR
	call RND
	push bc
	push de
	push af
	ld a, 083h
	ld de, 00060h
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 1
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	ld (ix-10), a
	call RND
	push bc
	push de
	push af
	ld a, 083h
	ld de, 00060h
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 1
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	ld (ix-10), a
	ld a, (ix+5)
	ld h, 10
	call __DIVU8_FAST
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	ld bc, 0
	push bc
	ld bc, 10
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	ld (ix-13), a
	ld hl, 908
	push hl
	ld hl, 46
	call __BEEPER
	ld hl, 806
	push hl
	ld hl, 51
	call __BEEPER
	ld hl, 673
	push hl
	ld hl, 61
	call __BEEPER
	ld hl, 596
	push hl
	ld hl, 69
	call __BEEPER
	call RND
	push bc
	push de
	push af
	ld a, 083h
	ld de, 00060h
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 1
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	ld (ix-10), a
	ld a, (ix+5)
	ld h, 10
	call __MODU8_FAST
	inc a
	push af
	call _LoadTetrisScreen
__LABEL388:
	ld a, (ix-2)
	or a
	jp nz, __LABEL389
	ld a, (ix-3)
	sub 255
	jp nz, __LABEL391
	ld (ix-4), 1
	ld a, (ix-10)
	ld (ix-3), a
	call RND
	push bc
	push de
	push af
	ld a, 083h
	ld de, 00060h
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 1
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	ld (ix-10), a
	ld a, (ix-3)
	push af
	call _ExpandPiece
	ld a, (_expandedSize.__DATA__ + 0)
	neg
	ld (ix-5), a
	ld (ix-6), 4
	ld hl, 1
	push hl
	ld hl, 0
	push hl
	ld a, (ix-10)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _tetrisPieces
	call __ARRAY
	ld a, (hl)
	ld b, 4
__LABEL1288:
	srl a
	djnz __LABEL1288
	push af
	ld hl, 0
	push hl
	ld hl, 0
	push hl
	ld a, (ix-10)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _tetrisPieces
	call __ARRAY
	ld a, (hl)
	ld b, 4
__LABEL1289:
	srl a
	djnz __LABEL1289
	push af
	call _SetSymbol
__LABEL391:
	ld a, (ix-4)
	push af
	ld a, (ix-4)
	push af
	ld a, 1
	push af
	xor a
	push af
	ld a, (ix-5)
	push af
	ld a, (ix-6)
	push af
	call _WillCollide
	or a
	jp z, __LABEL392
	ld a, (ix-5)
	ld h, 1
	call __LTI8
	or a
	jp z, __LABEL394
	ld (ix-2), 1
	jp __LABEL395
__LABEL394:
	ld a, 1
	push af
	ld a, (ix-4)
	push af
	ld a, (ix-5)
	push af
	ld a, (ix-6)
	push af
	call _DrawFigure
	ld a, (ix-5)
	push af
	call _EraseLines
	ld (ix-7), a
	or a
	jp z, __LABEL396
	ld a, (ix-7)
	dec a
	jp nz, __LABEL398
	ld l, (ix-15)
	ld h, (ix-14)
	inc hl
	ld (ix-15), l
	ld (ix-14), h
	jp __LABEL399
__LABEL398:
	ld a, (ix-7)
	sub 2
	jp nz, __LABEL400
	ld l, (ix-15)
	ld h, (ix-14)
	inc hl
	inc hl
	inc hl
	ld (ix-15), l
	ld (ix-14), h
	jp __LABEL401
__LABEL400:
	ld a, (ix-7)
	sub 3
	jp nz, __LABEL402
	ld l, (ix-15)
	ld h, (ix-14)
	ld de, 5
	add hl, de
	ld (ix-15), l
	ld (ix-14), h
	jp __LABEL403
__LABEL402:
	ld a, (ix-7)
	sub 4
	jp nz, __LABEL405
	ld l, (ix-15)
	ld h, (ix-14)
	ld de, 10
	add hl, de
	ld (ix-15), l
	ld (ix-14), h
__LABEL405:
__LABEL403:
__LABEL401:
__LABEL399:
	ld a, (ix-12)
	add a, (ix-7)
	ld (ix-12), a
	sub (ix-13)
	ccf
	jp nc, __LABEL407
	ld a, (ix+5)
	sub 99
	jp nz, __LABEL409
	ld a, 1
	jp _RunTetris__leave
__LABEL409:
	ld a, (ix+5)
	ld h, 10
	call __MODU8_FAST
	sub 9
	jp nz, __LABEL411
	ld hl, 60
	push hl
	ld hl, _tetrisLevelMusic
	push hl
	call _PlayMusic
__LABEL411:
	call _ShowCurtain
	ld hl, 908
	push hl
	ld hl, 46
	call __BEEPER
	ld hl, 596
	push hl
	ld hl, 69
	call __BEEPER
	inc (ix+5)
	ld a, (ix+5)
	ld h, 10
	call __DIVU8_FAST
	inc a
	ld h, a
	ld a, 40
	call __DIVU8_FAST
	ld (ix-1), a
	ld (ix-12), 0
	ld a, (ix+5)
	ld h, 10
	call __DIVU8_FAST
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	ld bc, 0
	push bc
	ld bc, 10
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	ld (ix-13), a
	ld l, (ix-15)
	ld h, (ix-14)
	ld de, 50
	add hl, de
	ld (ix-15), l
	ld (ix-14), h
	ld a, (ix+5)
	push af
	call _SetLevel
	ld a, (ix+5)
	ld h, 10
	call __MODU8_FAST
	inc a
	push af
	call _LoadTetrisScreen
__LABEL407:
	ld l, (ix-15)
	ld h, (ix-14)
	push hl
	call _SetScore
	call _UpdateScreen
	jp __LABEL397
__LABEL396:
	ld hl, 2949
	push hl
	ld hl, 6
	call __BEEPER
__LABEL397:
	ld (ix-3), 255
__LABEL395:
	jp __LABEL393
__LABEL392:
	xor a
	push af
	ld a, (ix-4)
	push af
	ld a, (ix-5)
	push af
	ld a, (ix-6)
	push af
	call _DrawFigure
	inc (ix-5)
	ld a, 1
	push af
	ld a, (ix-4)
	push af
	ld a, (ix-5)
	push af
	ld a, (ix-6)
	push af
	call _DrawFigure
	call _UpdateScreen
	call _ResetFrameCounter
__LABEL412:
	ld a, (ix-1)
	ld l, a
	ld h, 0
	push hl
	call _Frames
	pop de
	or a
	sbc hl, de
	jp nc, __LABEL413
	call INKEY
	ld d, h
	ld e, l
	ld bc, -17
	call __PSTORE_STR2
	dec (ix-9)
	ld l, (ix-17)
	ld h, (ix-16)
	ld de, __LABEL387
	xor a
	call __STRNE
	ld h, (ix-8)
	or a
	jr z, __LABEL1290
	ld a, h
__LABEL1290:
	push af
	ld a, 1
	cp (ix-9)
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1291
	ld a, h
__LABEL1291:
	or a
	jp nz, __LABEL412
	ld (ix-8), 0
	ld l, (ix-17)
	ld h, (ix-16)
	ld de, __LABEL387
	xor a
	call __STRNE
	or a
	jp z, __LABEL417
	ld l, (ix-17)
	ld h, (ix-16)
	ld de, __LABEL418
	xor a
	call __STREQ
	or a
	jp z, __LABEL419
	ld a, (ix-4)
	push af
	ld a, (ix-4)
	push af
	xor a
	push af
	ld a, 255
	push af
	ld a, (ix-5)
	push af
	ld a, (ix-6)
	push af
	call _WillCollide
	or a
	jp nz, __LABEL422
	xor a
	push af
	ld a, (ix-4)
	push af
	ld a, (ix-5)
	push af
	ld a, (ix-6)
	push af
	call _DrawFigure
	dec (ix-6)
	ld a, 1
	push af
	ld a, (ix-4)
	push af
	ld a, (ix-5)
	push af
	ld a, (ix-6)
	push af
	call _DrawFigure
	call _UpdateScreen
	ld (ix-8), 1
	ld (ix-9), 70
__LABEL422:
	jp __LABEL420
__LABEL419:
	ld l, (ix-17)
	ld h, (ix-16)
	ld de, __LABEL423
	xor a
	call __STREQ
	or a
	jp z, __LABEL424
	ld a, (ix-4)
	push af
	ld a, (ix-4)
	push af
	xor a
	push af
	ld a, 1
	push af
	ld a, (ix-5)
	push af
	ld a, (ix-6)
	push af
	call _WillCollide
	or a
	jp nz, __LABEL427
	xor a
	push af
	ld a, (ix-4)
	push af
	ld a, (ix-5)
	push af
	ld a, (ix-6)
	push af
	call _DrawFigure
	inc (ix-6)
	ld a, 1
	push af
	ld a, (ix-4)
	push af
	ld a, (ix-5)
	push af
	ld a, (ix-6)
	push af
	call _DrawFigure
	call _UpdateScreen
	ld (ix-8), 1
	ld (ix-9), 70
__LABEL427:
	jp __LABEL425
__LABEL424:
	ld l, (ix-17)
	ld h, (ix-16)
	ld de, __LABEL428
	xor a
	call __STREQ
	or a
	jp nz, __LABEL413
	ld l, (ix-17)
	ld h, (ix-16)
	ld de, __LABEL431
	xor a
	call __STREQ
	or a
	jp z, __LABEL432
	ld a, (ix-4)
	inc a
	ld (ix-11), a
	ld h, a
	ld a, 4
	cp h
	jp nc, __LABEL435
	ld (ix-11), 1
__LABEL435:
	ld a, (ix-11)
	push af
	ld a, (ix-4)
	push af
	xor a
	push af
	xor a
	push af
	ld a, (ix-5)
	push af
	ld a, (ix-6)
	push af
	call _WillCollide
	or a
	jp nz, __LABEL437
	xor a
	push af
	ld a, (ix-4)
	push af
	ld a, (ix-5)
	push af
	ld a, (ix-6)
	push af
	call _DrawFigure
	ld a, (ix-11)
	ld (ix-4), a
	ld a, 1
	push af
	ld a, (ix-4)
	push af
	ld a, (ix-5)
	push af
	ld a, (ix-6)
	push af
	call _DrawFigure
	call _UpdateScreen
	ld (ix-8), 1
	ld (ix-9), 200
__LABEL437:
	jp __LABEL433
__LABEL432:
	ld l, (ix-17)
	ld h, (ix-16)
	ld de, __LABEL438
	xor a
	call __STREQ
	or a
	jp z, __LABEL440
	xor a
	jp _RunTetris__leave
__LABEL440:
__LABEL433:
__LABEL425:
__LABEL420:
__LABEL417:
	jp __LABEL412
__LABEL413:
__LABEL393:
	jp __LABEL388
__LABEL389:
	ld hl, 2949
	push hl
	ld hl, 28
	call __BEEPER
	ld hl, 3314
	push hl
	ld hl, 25
	call __BEEPER
	ld hl, 3947
	push hl
	ld hl, 21
	call __BEEPER
	ld hl, 4434
	push hl
	ld hl, 19
	call __BEEPER
	xor a
_RunTetris__leave:
	ex af, af'
	exx
	ld l, (ix-17)
	ld h, (ix-16)
	call __MEM_FREE
	ex af, af'
	exx
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_LoadArkanoidScreen:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	inc sp
	xor a
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld (ix-1), 1
	jp __LABEL441
__LABEL444:
	ld a, (ix-1)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix+5)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _arkaScreens
	call __ARRAY
	ld e, (hl)
	inc hl
	ld d, (hl)
	ex de, hl
	ld (ix-3), l
	ld (ix-2), h
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 512
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL447
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 1
	push af
	call _SetCell
__LABEL447:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 256
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL449
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 2
	push af
	call _SetCell
__LABEL449:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 128
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL451
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 3
	push af
	call _SetCell
__LABEL451:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 64
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL453
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 4
	push af
	call _SetCell
__LABEL453:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 32
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL455
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 5
	push af
	call _SetCell
__LABEL455:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 16
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL457
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 6
	push af
	call _SetCell
__LABEL457:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 8
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL459
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 7
	push af
	call _SetCell
__LABEL459:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 4
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL461
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 8
	push af
	call _SetCell
__LABEL461:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 2
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL463
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 9
	push af
	call _SetCell
__LABEL463:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 1
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL465
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 10
	push af
	call _SetCell
__LABEL465:
	inc (ix-1)
__LABEL441:
	ld a, 12
	cp (ix-1)
	jp nc, __LABEL444
	call _UpdateScreen
_LoadArkanoidScreen__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_GetSpeedX:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	inc sp
	ld a, (ix+5)
	or a
	jp nz, __LABEL466
	call RND
	push bc
	push de
	push af
	ld a, 085h
	ld de, 00070h
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	ld a, l
	ld (ix-1), a
	cp 20
	jp nc, __LABEL468
	ld a, 081h
	ld de, 00080h
	ld bc, 00000h
	jp _GetSpeedX__leave
__LABEL468:
	ld a, 080h
	ld de, 00080h
	ld bc, 00000h
	jp _GetSpeedX__leave
__LABEL466:
	ld a, (ix+5)
	dec a
	jp nz, __LABEL470
	call RND
	push bc
	push de
	push af
	ld a, 085h
	ld de, 00070h
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	ld a, l
	ld (ix-1), a
	cp 10
	jp nc, __LABEL472
	ld a, 080h
	ld de, 00080h
	ld bc, 00000h
	jp _GetSpeedX__leave
__LABEL472:
	ld a, (ix-1)
	cp 20
	jp nc, __LABEL474
	ld a, 000h
	ld de, 00000h
	ld bc, 00000h
	jp _GetSpeedX__leave
__LABEL474:
	ld a, 080h
	ld de, 00000h
	ld bc, 00000h
	jp _GetSpeedX__leave
__LABEL470:
	call RND
	push bc
	push de
	push af
	ld a, 085h
	ld de, 00070h
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	ld a, l
	ld (ix-1), a
	cp 20
	jp nc, __LABEL476
	ld a, 081h
	ld de, 00000h
	ld bc, 00000h
	jp _GetSpeedX__leave
__LABEL476:
	ld a, 080h
	ld de, 00000h
	ld bc, 00000h
_GetSpeedX__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_GetSpeedY:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	inc sp
	call RND
	push bc
	push de
	push af
	ld a, 085h
	ld de, 00070h
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	ld a, l
	ld (ix-1), a
	cp 20
	jp nc, __LABEL478
	ld a, 081h
	ld de, 00080h
	ld bc, 00000h
	jp _GetSpeedY__leave
__LABEL478:
	ld a, 080h
	ld de, 00080h
	ld bc, 00000h
_GetSpeedY__leave:
	ld sp, ix
	pop ix
	ret
_RunArkanoid:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, -41
	add hl, sp
	ld sp, hl
	ld (hl), 0
	ld bc, 40
	ld d, h
	ld e, l
	inc de
	ldir
	push ix
	pop hl
	ld bc, -3
	add hl, bc
	ex de, hl
	ld hl, __LABEL1292
	ld bc, 1
	ldir
	ld a, (_playedArkaMusic)
	or a
	jp nz, __LABEL481
	ld a, 1
	ld (_playedArkaMusic), a
	ld hl, 96
	push hl
	ld hl, _arkaIntroMusic
	push hl
	call _PlayMusic
__LABEL481:
	ld de, __LABEL387
	ld bc, -21
	call __PSTORE_STR
	call _HideNextTitle
	ld a, (ix-3)
	push af
	call _SetLifes
__LABEL482:
	ld a, (ix-1)
	or a
	jp nz, __LABEL483
	ld a, (ix-4)
	ld h, a
	xor a
	cp h
	jp nc, __LABEL485
	xor a
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
__LABEL485:
	ld a, (ix-5)
	ld h, a
	xor a
	call __LTI8
	or a
	jp z, __LABEL487
	xor a
	push af
	ld a, (ix-6)
	push af
	ld a, (ix-5)
	push af
	call _SetCell
__LABEL487:
	ld a, (ix+5)
	ld h, 10
	call __MODU8_FAST
	inc a
	push af
	call _LoadArkanoidScreen
	ld a, (ix+5)
	ld h, 10
	call __DIVU8_FAST
	ld h, a
	ld a, 11
	sub h
	ld (ix-2), a
	ld a, (ix+5)
	push af
	call _SetLevel
	call _CountOnCells
	ld (ix-7), a
__LABEL488:
	ld a, (ix-7)
	ld h, a
	xor a
	cp h
	sbc a, a
	push af
	ld a, (ix-3)
	ld h, a
	xor a
	cp h
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1293
	ld a, h
__LABEL1293:
	or a
	jp z, __LABEL489
	ld a, (ix-4)
	ld h, a
	xor a
	cp h
	jp nc, __LABEL491
	xor a
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
__LABEL491:
	ld a, (ix-5)
	ld h, a
	xor a
	call __LTI8
	or a
	jp z, __LABEL493
	xor a
	push af
	ld a, (ix-6)
	push af
	ld a, (ix-5)
	push af
	call _SetCell
__LABEL493:
	ld (ix-4), 4
	ld a, 083h
	ld de, 00040h
	ld bc, 00000h
	ld hl, -26
	call __PSTOREF
	ld (ix-5), 6
	ld a, 085h
	ld de, 00018h
	ld bc, 00000h
	ld hl, -31
	call __PSTOREF
	ld (ix-6), 19
	ld a, 081h
	ld de, 00000h
	ld bc, 00000h
	ld hl, -36
	call __PSTOREF
	ld a, 081h
	ld de, 00080h
	ld bc, 00000h
	ld hl, -41
	call __PSTOREF
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, (ix-4)
	add a, 2
	push af
	ld a, (ix-4)
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, (ix-6)
	push af
	ld a, (ix-5)
	push af
	call _SetCell
	call _UpdateScreen
	call INKEY
	ld d, h
	ld e, l
	ld bc, -21
	call __PSTORE_STR2
__LABEL494:
	ld l, (ix-21)
	ld h, (ix-20)
	ld de, __LABEL431
	xor a
	call __STRNE
	or a
	jp z, __LABEL495
	call INKEY
	ld d, h
	ld e, l
	ld bc, -21
	call __PSTORE_STR2
	ld l, (ix-19)
	ld h, (ix-18)
	dec hl
	ld (ix-19), l
	ld (ix-18), h
	ld l, (ix-21)
	ld h, (ix-20)
	ld de, __LABEL387
	xor a
	call __STRNE
	ld h, (ix-13)
	or a
	jr z, __LABEL1294
	ld a, h
__LABEL1294:
	push af
	ld l, (ix-19)
	ld h, (ix-18)
	ex de, hl
	ld hl, 1
	or a
	sbc hl, de
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1295
	ld a, h
__LABEL1295:
	or a
	jp nz, __LABEL494
	ld (ix-13), 0
	ld l, (ix-21)
	ld h, (ix-20)
	ld de, __LABEL387
	xor a
	call __STRNE
	or a
	jp z, __LABEL499
	ld l, (ix-21)
	ld h, (ix-20)
	ld de, __LABEL418
	xor a
	call __STREQ
	or a
	jp z, __LABEL500
	ld a, 1
	cp (ix-4)
	jp nc, __LABEL503
	xor a
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, (ix-4)
	add a, 2
	push af
	ld a, (ix-4)
	push af
	call _FillRect
	xor a
	push af
	ld a, (ix-6)
	push af
	ld a, (ix-5)
	push af
	call _SetCell
	dec (ix-4)
	dec (ix-5)
	ld a, (ix-5)
	call __I8TOFREG
	ld hl, -26
	call __PSTOREF
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, (ix-4)
	add a, 2
	push af
	ld a, (ix-4)
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, (ix-6)
	push af
	ld a, (ix-5)
	push af
	call _SetCell
	call _UpdateScreen
	ld (ix-19), 50
	ld (ix-18), 0
	ld (ix-13), 1
__LABEL503:
	jp __LABEL501
__LABEL500:
	ld l, (ix-21)
	ld h, (ix-20)
	ld de, __LABEL423
	xor a
	call __STREQ
	or a
	jp z, __LABEL504
	ld a, (ix-4)
	cp 8
	jp nc, __LABEL507
	xor a
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, (ix-4)
	add a, 2
	push af
	ld a, (ix-4)
	push af
	call _FillRect
	xor a
	push af
	ld a, (ix-6)
	push af
	ld a, (ix-5)
	push af
	call _SetCell
	inc (ix-4)
	inc (ix-5)
	ld a, (ix-5)
	call __I8TOFREG
	ld hl, -26
	call __PSTOREF
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, (ix-4)
	add a, 2
	push af
	ld a, (ix-4)
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, (ix-6)
	push af
	ld a, (ix-5)
	push af
	call _SetCell
	call _UpdateScreen
	ld (ix-19), 50
	ld (ix-18), 0
	ld (ix-13), 1
__LABEL507:
	jp __LABEL505
__LABEL504:
	ld l, (ix-21)
	ld h, (ix-20)
	ld de, __LABEL438
	xor a
	call __STREQ
	or a
	jp z, __LABEL509
	xor a
	jp _RunArkanoid__leave
__LABEL509:
__LABEL505:
__LABEL501:
__LABEL499:
	jp __LABEL494
__LABEL495:
__LABEL510:
	ld (ix-14), 1
__LABEL512:
	ld a, (ix-14)
	or a
	jp z, __LABEL513
	ld (ix-14), 0
	push ix
	pop hl
	ld de, -26
	add hl, de
	call __PLOADF
	push bc
	push de
	push af
	push ix
	pop hl
	ld de, -36
	add hl, de
	call __PLOADF
	call __ADDF
	call __FTOU32REG
	push de
	push hl
	ld a, (ix-5)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	ld e, h
	ld d, h
	call __SUB32
	ld a, l
	ld (ix-8), a
	push ix
	pop hl
	ld de, -31
	add hl, de
	call __PLOADF
	push bc
	push de
	push af
	push ix
	pop hl
	ld de, -41
	add hl, de
	call __PLOADF
	call __ADDF
	call __FTOU32REG
	push de
	push hl
	ld a, (ix-6)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	ld e, h
	ld d, h
	call __SUB32
	ld a, l
	ld (ix-9), a
	ld a, (ix-6)
	add a, (ix-9)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld a, (ix-5)
	add a, (ix-8)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	ld a, (hl)
	push af
	ld a, (ix-8)
	ld h, 0
	call __LTI8
	push af
	ld a, (ix-9)
	ld h, 0
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1296
	ld a, h
__LABEL1296:
	push af
	ld h, (ix-5)
	ld a, 1
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1297
	ld a, h
__LABEL1297:
	push af
	ld h, (ix-6)
	ld a, 1
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1298
	ld a, h
__LABEL1298:
	push af
	ld a, (ix-8)
	ld h, a
	xor a
	call __LTI8
	push af
	ld a, (ix-9)
	ld h, 0
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1299
	ld a, h
__LABEL1299:
	push af
	ld a, (ix-5)
	ld h, 10
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1300
	ld a, h
__LABEL1300:
	push af
	ld h, (ix-6)
	ld a, 1
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1301
	ld a, h
__LABEL1301:
	pop de
	or d
	push af
	ld a, (ix-8)
	ld h, 0
	call __LTI8
	push af
	ld a, (ix-9)
	ld h, a
	xor a
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1302
	ld a, h
__LABEL1302:
	push af
	ld h, (ix-5)
	ld a, 1
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1303
	ld a, h
__LABEL1303:
	push af
	ld a, (ix-6)
	ld h, 12
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1304
	ld a, h
__LABEL1304:
	pop de
	or d
	push af
	ld a, (ix-8)
	ld h, a
	xor a
	call __LTI8
	push af
	ld a, (ix-9)
	ld h, a
	xor a
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1305
	ld a, h
__LABEL1305:
	push af
	ld a, (ix-5)
	ld h, 10
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1306
	ld a, h
__LABEL1306:
	push af
	ld a, (ix-6)
	ld h, 12
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1307
	ld a, h
__LABEL1307:
	pop de
	or d
	ld h, a
	pop af
	or a
	jr z, __LABEL1308
	ld a, h
__LABEL1308:
	or a
	jp z, __LABEL514
	ld a, (ix-6)
	add a, (ix-9)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld a, (ix-5)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	ld a, (hl)
	or a
	jp z, __LABEL517
	xor a
	push af
	ld a, (ix-6)
	add a, (ix-9)
	push af
	ld a, (ix-5)
	push af
	call _SetCell
	dec (ix-7)
	ld l, (ix-17)
	ld h, (ix-16)
	inc hl
	ld (ix-17), l
	ld (ix-16), h
	ld l, (ix-17)
	ld h, (ix-16)
	push hl
	call _SetScore
	ld (ix-10), 1
	push ix
	pop hl
	ld de, -41
	add hl, de
	call __PLOADF
	call __NEGF
	ld hl, -41
	call __PSTOREF
	ld (ix-14), 1
__LABEL517:
	ld a, (ix-6)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld a, (ix-5)
	add a, (ix-8)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	ld a, (hl)
	or a
	jp z, __LABEL519
	xor a
	push af
	ld a, (ix-6)
	push af
	ld a, (ix-5)
	add a, (ix-8)
	push af
	call _SetCell
	dec (ix-7)
	ld l, (ix-17)
	ld h, (ix-16)
	inc hl
	ld (ix-17), l
	ld (ix-16), h
	ld l, (ix-17)
	ld h, (ix-16)
	push hl
	call _SetScore
	ld (ix-10), 1
	push ix
	pop hl
	ld de, -36
	add hl, de
	call __PLOADF
	call __NEGF
	ld hl, -36
	call __PSTOREF
	ld (ix-14), 1
__LABEL519:
	ld a, (ix-14)
	or a
	jp nz, __LABEL521
	call RND
	push bc
	push de
	push af
	ld a, 085h
	ld de, 00070h
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	ld a, l
	ld (ix-15), a
	cp 10
	jp nc, __LABEL522
	push ix
	pop hl
	ld de, -41
	add hl, de
	call __PLOADF
	call __NEGF
	ld hl, -41
	call __PSTOREF
	jp __LABEL523
__LABEL522:
	ld a, (ix-15)
	cp 20
	jp nc, __LABEL524
	push ix
	pop hl
	ld de, -36
	add hl, de
	call __PLOADF
	call __NEGF
	ld hl, -36
	call __PSTOREF
	jp __LABEL525
__LABEL524:
	push ix
	pop hl
	ld de, -41
	add hl, de
	call __PLOADF
	call __NEGF
	ld hl, -41
	call __PSTOREF
	push ix
	pop hl
	ld de, -36
	add hl, de
	call __PLOADF
	call __NEGF
	ld hl, -36
	call __PSTOREF
__LABEL525:
__LABEL523:
	xor a
	push af
	ld a, (ix-6)
	add a, (ix-9)
	push af
	ld a, (ix-5)
	add a, (ix-8)
	push af
	call _SetCell
	dec (ix-7)
	ld l, (ix-17)
	ld h, (ix-16)
	inc hl
	ld (ix-17), l
	ld (ix-16), h
	ld l, (ix-17)
	ld h, (ix-16)
	push hl
	call _SetScore
	ld (ix-10), 1
	ld (ix-14), 1
__LABEL521:
	jp __LABEL515
__LABEL514:
	ld a, (ix-9)
	ld h, 0
	call __LTI8
	or a
	jp z, __LABEL526
	ld a, (ix-6)
	dec a
	jp nz, __LABEL528
	push ix
	pop hl
	ld de, -41
	add hl, de
	call __PLOADF
	call __NEGF
	ld hl, -41
	call __PSTOREF
	ld (ix-14), 1
	jp __LABEL529
__LABEL528:
	ld a, (ix-6)
	add a, (ix-9)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld a, (ix-5)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	ld a, (hl)
	or a
	jp z, __LABEL531
	push ix
	pop hl
	ld de, -41
	add hl, de
	call __PLOADF
	call __NEGF
	ld hl, -41
	call __PSTOREF
	ld (ix-14), 1
	xor a
	push af
	ld a, (ix-6)
	add a, (ix-9)
	push af
	ld a, (ix-5)
	push af
	call _SetCell
	dec (ix-7)
	ld l, (ix-17)
	ld h, (ix-16)
	inc hl
	ld (ix-17), l
	ld (ix-16), h
	ld l, (ix-17)
	ld h, (ix-16)
	push hl
	call _SetScore
	ld (ix-10), 1
__LABEL531:
__LABEL529:
	jp __LABEL527
__LABEL526:
	ld a, (ix-9)
	ld h, a
	xor a
	call __LTI8
	or a
	jp z, __LABEL533
	ld a, (ix-6)
	sub 19
	jp nz, __LABEL534
	ld h, (ix-5)
	ld a, (ix-4)
	call __LEI8
	push af
	ld a, (ix-5)
	push af
	ld a, (ix-4)
	add a, 3
	ld h, a
	pop af
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1309
	ld a, h
__LABEL1309:
	or a
	jp z, __LABEL536
	ld a, (ix-5)
	sub (ix-4)
	push af
	call _GetSpeedX
	ld hl, -36
	call __PSTOREF
	call _GetSpeedY
	ld hl, -41
	call __PSTOREF
	push ix
	pop hl
	ld de, -41
	add hl, de
	call __PLOADF
	res 7, e
	push bc
	push de
	push af
	ld a, 081h
	ld de, 00000h
	ld bc, 00000h
	call __LTF
	push af
	push ix
	pop hl
	ld de, -36
	add hl, de
	call __PLOADF
	res 7, e
	push bc
	push de
	push af
	ld a, 081h
	ld de, 00000h
	ld bc, 00000h
	call __LTF
	ld h, a
	pop af
	or a
	jr z, __LABEL1310
	ld a, h
__LABEL1310:
	or a
	jp z, __LABEL539
	push ix
	pop hl
	ld de, -41
	add hl, de
	call __PLOADF
	push bc
	push de
	push af
	ld a, 082h
	ld de, 00000h
	ld bc, 00000h
	call __MULF
	ld hl, -41
	call __PSTOREF
__LABEL539:
	ld a, (ix-5)
	sub 10
	sub 1
	sbc a, a
	push af
	push ix
	pop hl
	ld de, -36
	add hl, de
	call __PLOADF
	push bc
	push de
	push af
	ld a, 000h
	ld de, 00000h
	ld bc, 00000h
	call __GTF
	ld h, a
	pop af
	or a
	jr z, __LABEL1311
	ld a, h
__LABEL1311:
	or a
	jp z, __LABEL541
	push ix
	pop hl
	ld de, -36
	add hl, de
	call __PLOADF
	call __NEGF
	ld hl, -36
	call __PSTOREF
__LABEL541:
	ld a, (ix-5)
	dec a
	sub 1
	sbc a, a
	push af
	push ix
	pop hl
	ld de, -36
	add hl, de
	call __PLOADF
	push bc
	push de
	push af
	ld a, 000h
	ld de, 00000h
	ld bc, 00000h
	call __LTF
	ld h, a
	pop af
	or a
	jr z, __LABEL1312
	ld a, h
__LABEL1312:
	or a
	jp z, __LABEL543
	push ix
	pop hl
	ld de, -36
	add hl, de
	call __PLOADF
	call __NEGF
	ld hl, -36
	call __PSTOREF
__LABEL543:
	ld (ix-11), 1
	jp __LABEL537
__LABEL536:
	ld (ix-12), 1
__LABEL537:
	jp __LABEL535
__LABEL534:
	ld a, (ix-6)
	add a, (ix-9)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld a, (ix-5)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	ld a, (hl)
	or a
	jp z, __LABEL545
	push ix
	pop hl
	ld de, -41
	add hl, de
	call __PLOADF
	call __NEGF
	ld hl, -41
	call __PSTOREF
	ld (ix-14), 1
	xor a
	push af
	ld a, (ix-6)
	add a, (ix-9)
	push af
	ld a, (ix-5)
	push af
	call _SetCell
	dec (ix-7)
	ld l, (ix-17)
	ld h, (ix-16)
	inc hl
	ld (ix-17), l
	ld (ix-16), h
	ld l, (ix-17)
	ld h, (ix-16)
	push hl
	call _SetScore
	ld (ix-10), 1
__LABEL545:
__LABEL535:
__LABEL533:
__LABEL527:
	ld a, (ix-8)
	ld h, 0
	call __LTI8
	or a
	jp z, __LABEL546
	ld a, (ix-5)
	dec a
	jp nz, __LABEL548
	push ix
	pop hl
	ld de, -36
	add hl, de
	call __PLOADF
	call __NEGF
	ld hl, -36
	call __PSTOREF
	ld (ix-14), 1
	jp __LABEL549
__LABEL548:
	ld a, (ix-6)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld a, (ix-5)
	add a, (ix-8)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	ld a, (hl)
	or a
	jp z, __LABEL551
	push ix
	pop hl
	ld de, -36
	add hl, de
	call __PLOADF
	call __NEGF
	ld hl, -36
	call __PSTOREF
	ld (ix-14), 1
	xor a
	push af
	ld a, (ix-6)
	push af
	ld a, (ix-5)
	add a, (ix-8)
	push af
	call _SetCell
	dec (ix-7)
	ld l, (ix-17)
	ld h, (ix-16)
	inc hl
	ld (ix-17), l
	ld (ix-16), h
	ld l, (ix-17)
	ld h, (ix-16)
	push hl
	call _SetScore
	ld (ix-10), 1
__LABEL551:
__LABEL549:
	jp __LABEL547
__LABEL546:
	ld a, (ix-8)
	ld h, a
	xor a
	call __LTI8
	or a
	jp z, __LABEL553
	ld a, (ix-5)
	sub 10
	jp nz, __LABEL554
	push ix
	pop hl
	ld de, -36
	add hl, de
	call __PLOADF
	call __NEGF
	ld hl, -36
	call __PSTOREF
	ld (ix-14), 1
	jp __LABEL555
__LABEL554:
	ld a, (ix-6)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld a, (ix-5)
	add a, (ix-8)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	ld a, (hl)
	or a
	jp z, __LABEL557
	push ix
	pop hl
	ld de, -36
	add hl, de
	call __PLOADF
	call __NEGF
	ld hl, -36
	call __PSTOREF
	ld (ix-14), 1
	xor a
	push af
	ld a, (ix-6)
	push af
	ld a, (ix-5)
	add a, (ix-8)
	push af
	call _SetCell
	dec (ix-7)
	ld l, (ix-17)
	ld h, (ix-16)
	inc hl
	ld (ix-17), l
	ld (ix-16), h
	ld l, (ix-17)
	ld h, (ix-16)
	push hl
	call _SetScore
	ld (ix-10), 1
__LABEL557:
__LABEL555:
__LABEL553:
__LABEL547:
__LABEL515:
	ld a, (ix-14)
	or a
	jp z, __LABEL559
	call _UpdateScreen
__LABEL559:
	jp __LABEL512
__LABEL513:
	ld a, (ix-7)
	ld h, a
	xor a
	cp h
	jp nc, __LABEL560
	ld a, (ix-12)
	or a
	jp z, __LABEL562
	ld (ix-12), 0
	xor a
	push af
	ld a, (ix-6)
	push af
	ld a, (ix-5)
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, (ix-6)
	inc a
	push af
	ld a, (ix-5)
	push af
	call _SetCell
	call _UpdateScreen
	ld hl, 24
	push hl
	ld hl, _arkaDeathMusic
	push hl
	call _PlayMusic
	dec (ix-3)
	ld a, (ix-3)
	or a
	jp z, __LABEL511
	ld a, (ix-3)
	push af
	call _SetLifes
	call _UpdateScreen
	jp __LABEL511
__LABEL562:
	ld a, (ix-11)
	or a
	jp z, __LABEL566
	ld (ix-11), 0
	ld (ix-10), 0
	ld hl, 3314
	push hl
	ld hl, 0
	call __BEEPER
	jp __LABEL567
__LABEL566:
	ld a, (ix-10)
	or a
	jp z, __LABEL569
	ld (ix-11), 0
	ld (ix-10), 0
	ld hl, 806
	push hl
	ld hl, 4
	call __BEEPER
__LABEL569:
__LABEL567:
	xor a
	push af
	ld a, (ix-6)
	push af
	ld a, (ix-5)
	push af
	call _SetCell
	push ix
	pop hl
	ld de, -26
	add hl, de
	call __PLOADF
	push bc
	push de
	push af
	push ix
	pop hl
	ld de, -36
	add hl, de
	call __PLOADF
	call __ADDF
	ld hl, -26
	call __PSTOREF
	push ix
	pop hl
	ld de, -31
	add hl, de
	call __PLOADF
	push bc
	push de
	push af
	push ix
	pop hl
	ld de, -41
	add hl, de
	call __PLOADF
	call __ADDF
	ld hl, -31
	call __PSTOREF
	push ix
	pop hl
	ld de, -26
	add hl, de
	call __PLOADF
	call __FTOU32REG
	ld a, l
	ld (ix-5), a
	push ix
	pop hl
	ld de, -31
	add hl, de
	call __PLOADF
	call __FTOU32REG
	ld a, l
	ld (ix-6), a
	ld a, 1
	push af
	ld a, (ix-6)
	push af
	ld a, (ix-5)
	push af
	call _SetCell
	call _UpdateScreen
	call _ResetFrameCounter
	ld (ix-13), 0
__LABEL570:
	ld a, (ix-2)
	ld l, a
	ld h, 0
	push hl
	call _Frames
	pop de
	or a
	sbc hl, de
	jp nc, __LABEL571
	call INKEY
	ld d, h
	ld e, l
	ld bc, -21
	call __PSTORE_STR2
	ld l, (ix-19)
	ld h, (ix-18)
	dec hl
	ld (ix-19), l
	ld (ix-18), h
	ld l, (ix-21)
	ld h, (ix-20)
	ld de, __LABEL387
	xor a
	call __STRNE
	ld h, (ix-13)
	or a
	jr z, __LABEL1313
	ld a, h
__LABEL1313:
	push af
	ld l, (ix-19)
	ld h, (ix-18)
	ex de, hl
	ld hl, 1
	or a
	sbc hl, de
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1314
	ld a, h
__LABEL1314:
	or a
	jp nz, __LABEL570
	ld (ix-13), 0
	ld l, (ix-21)
	ld h, (ix-20)
	ld de, __LABEL387
	xor a
	call __STRNE
	or a
	jp z, __LABEL575
	ld l, (ix-21)
	ld h, (ix-20)
	ld de, __LABEL418
	xor a
	call __STREQ
	or a
	jp z, __LABEL576
	ld a, 1
	cp (ix-4)
	jp nc, __LABEL579
	xor a
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, (ix-4)
	add a, 2
	push af
	ld a, (ix-4)
	push af
	call _FillRect
	dec (ix-4)
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, (ix-4)
	add a, 2
	push af
	ld a, (ix-4)
	push af
	call _FillRect
	call _UpdateScreen
	ld (ix-19), 50
	ld (ix-18), 0
	ld (ix-13), 1
__LABEL579:
	jp __LABEL577
__LABEL576:
	ld l, (ix-21)
	ld h, (ix-20)
	ld de, __LABEL423
	xor a
	call __STREQ
	or a
	jp z, __LABEL580
	ld a, (ix-4)
	cp 8
	jp nc, __LABEL583
	xor a
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, (ix-4)
	add a, 2
	push af
	ld a, (ix-4)
	push af
	call _FillRect
	inc (ix-4)
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, (ix-4)
	add a, 2
	push af
	ld a, (ix-4)
	push af
	call _FillRect
	call _UpdateScreen
	ld (ix-19), 50
	ld (ix-18), 0
	ld (ix-13), 1
__LABEL583:
	jp __LABEL581
__LABEL580:
	ld l, (ix-21)
	ld h, (ix-20)
	ld de, __LABEL431
	xor a
	call __STREQ
	or a
	jp nz, __LABEL571
	ld l, (ix-21)
	ld h, (ix-20)
	ld de, __LABEL438
	xor a
	call __STREQ
	or a
	jp z, __LABEL587
	xor a
	jp _RunArkanoid__leave
__LABEL587:
__LABEL581:
__LABEL577:
__LABEL575:
	jp __LABEL570
__LABEL571:
	jp __LABEL561
__LABEL560:
	jp __LABEL511
__LABEL561:
	jp __LABEL510
__LABEL511:
	jp __LABEL488
__LABEL489:
	ld a, (ix-3)
	or a
	jp nz, __LABEL588
	ld (ix-1), 1
	jp __LABEL589
__LABEL588:
	ld l, (ix-17)
	ld h, (ix-16)
	ld de, 50
	add hl, de
	ld (ix-17), l
	ld (ix-16), h
	ld l, (ix-17)
	ld h, (ix-16)
	push hl
	call _SetScore
	inc (ix+5)
	ld a, 99
	cp (ix+5)
	jp nc, __LABEL591
	ld a, 1
	jp _RunArkanoid__leave
__LABEL591:
	call _ShowCurtain
__LABEL589:
	jp __LABEL482
__LABEL483:
	xor a
_RunArkanoid__leave:
	ex af, af'
	exx
	ld l, (ix-21)
	ld h, (ix-20)
	call __MEM_FREE
	ex af, af'
	exx
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_RunRacing:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, -19
	add hl, sp
	ld sp, hl
	ld (hl), 0
	ld bc, 18
	ld d, h
	ld e, l
	inc de
	ldir
	push ix
	pop hl
	ld bc, -1
	add hl, bc
	ex de, hl
	ld hl, __LABEL1315
	ld bc, 1
	ldir
	push ix
	pop hl
	ld bc, -9
	add hl, bc
	ex de, hl
	ld hl, __LABEL1316
	ld bc, 1
	ldir
	push ix
	pop hl
	ld bc, -10
	add hl, bc
	ex de, hl
	ld hl, __LABEL1317
	ld bc, 1
	ldir
	push ix
	pop hl
	ld bc, -12
	add hl, bc
	ex de, hl
	ld hl, __LABEL1318
	ld bc, 1
	ldir
	ld a, (_playedRacingMusic)
	or a
	jp nz, __LABEL593
	ld a, 1
	ld (_playedRacingMusic), a
	ld hl, 42
	push hl
	ld hl, _raceIntroMusic
	push hl
	call _PlayMusic
__LABEL593:
	call _HideNextTitle
	ld l, (ix-19)
	ld h, (ix-18)
	push hl
	call _SetScore
__LABEL594:
	ld a, (ix-12)
	ld h, a
	xor a
	cp h
	jp nc, __LABEL595
	ld (ix-3), 0
	ld (ix-6), 0
	ld (ix-9), 20
	ld (ix-10), 3
	ld (ix-1), 1
	ld a, (ix+5)
	ld h, 10
	call __DIVU8_FAST
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	ld a, l
	ld (ix-13), a
	ld a, (ix+5)
	ld h, 10
	call __MODU8_FAST
	ld h, a
	ld a, 10
	sub h
	ld (ix-14), a
	ld a, (ix+5)
	ld h, 10
	call __DIVU8_FAST
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	ld bc, 0
	push bc
	ld bc, 10
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	ld (ix-15), a
	ld a, (ix-12)
	push af
	call _SetLifes
	ld a, (ix+5)
	push af
	call _SetLevel
	xor a
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 1
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 10
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 3
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 5
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 19
	push af
	ld a, 4
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 18
	push af
	ld a, 18
	push af
	ld a, 5
	push af
	ld a, 3
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 17
	push af
	ld a, 4
	push af
	call _SetCell
__LABEL596:
	ld a, (ix-11)
	or a
	jp nz, __LABEL597
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 1
	push af
	call _SetCell
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, 10
	push af
	call _SetCell
	xor a
	push af
	ld a, (ix-1)
	add a, 10
	push af
	ld a, 1
	push af
	call _SetCell
	xor a
	push af
	ld a, (ix-1)
	add a, 10
	push af
	ld a, 10
	push af
	call _SetCell
	ld a, (ix-1)
	dec a
	jp nz, __LABEL598
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 10
	push af
	call _SetCell
	jp __LABEL599
__LABEL598:
	ld a, 1
	push af
	ld a, (ix-1)
	dec a
	push af
	ld a, 1
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, (ix-1)
	dec a
	push af
	ld a, 10
	push af
	call _SetCell
__LABEL599:
	ld a, 1
	push af
	ld a, (ix-1)
	add a, 9
	push af
	ld a, 1
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, (ix-1)
	add a, 9
	push af
	ld a, 10
	push af
	call _SetCell
	ld a, (ix-1)
	sub 10
	jp nz, __LABEL600
	ld (ix-1), 1
	jp __LABEL601
__LABEL600:
	inc (ix-1)
__LABEL601:
	ld a, (ix-3)
	sub 1
	sbc a, a
	push af
	ld h, (ix-9)
	ld a, 6
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1319
	ld a, h
__LABEL1319:
	push af
	call RND
	push bc
	push de
	push af
	ld a, 085h
	ld de, 00020h
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	push de
	push hl
	ld a, (ix-13)
	inc a
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	call __LEI32
	ld h, a
	pop af
	or a
	jr z, __LABEL1320
	ld a, h
__LABEL1320:
	or a
	jp z, __LABEL602
	ld (ix-5), 254
	call RND
	push bc
	push de
	push af
	ld a, 082h
	ld de, 00000h
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 1
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	push hl
	push de
	ld de, 0
	ld hl, 3
	call __MUL32
	ld a, l
	ld (ix-4), a
	ld (ix-9), 254
	ld a, 253
	push af
	ld a, (ix-4)
	push af
	call _PlaceCar
	ld (ix-3), 1
	jp __LABEL603
__LABEL602:
	ld a, (ix-3)
	or a
	jp z, __LABEL605
	ld a, (ix-5)
	push af
	ld a, (ix-4)
	push af
	call _PlaceCar
	inc (ix-5)
	ld a, (ix-5)
	ld (ix-9), a
	ld h, (ix-5)
	ld a, 20
	call __LTI8
	or a
	jp z, __LABEL607
	ld (ix-3), 0
	dec (ix-15)
	ld l, (ix-19)
	ld h, (ix-18)
	inc hl
	ld (ix-19), l
	ld (ix-18), h
	ld l, (ix-19)
	ld h, (ix-18)
	push hl
	call _SetScore
	ld a, (ix-15)
	or a
	jp z, __LABEL597
__LABEL607:
	ld a, (ix-3)
	push af
	ld h, (ix-5)
	ld a, 4
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1321
	ld a, h
__LABEL1321:
	push af
	ld a, (ix-5)
	ld h, 12
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1322
	ld a, h
__LABEL1322:
	push af
	call RND
	push bc
	push de
	push af
	ld a, 086h
	ld de, 00070h
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	push de
	push hl
	ld a, (ix-13)
	inc a
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	call __LEI32
	ld h, a
	pop af
	or a
	jr z, __LABEL1323
	ld a, h
__LABEL1323:
	or a
	jp z, __LABEL611
	ld a, (ix-4)
	sub 3
	jp nz, __LABEL612
	ld (ix-2), 3
	jp __LABEL613
__LABEL612:
	ld (ix-2), 253
__LABEL613:
	call _UpdateScreen
	xor a
	push af
	ld a, (ix-2)
	push af
	ld a, (ix-5)
	add a, 4
	push af
	ld a, (ix-5)
	push af
	ld a, (ix-4)
	add a, 3
	push af
	ld a, (ix-4)
	push af
	call _MoveRect
	ld a, (ix-4)
	add a, (ix-2)
	ld (ix-4), a
__LABEL611:
__LABEL605:
__LABEL603:
	ld a, (ix-6)
	sub 1
	sbc a, a
	push af
	ld h, (ix-9)
	ld a, 6
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1324
	ld a, h
__LABEL1324:
	push af
	call RND
	push bc
	push de
	push af
	ld a, 085h
	ld de, 00020h
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	push de
	push hl
	ld a, (ix-13)
	inc a
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	call __LEI32
	ld h, a
	pop af
	or a
	jr z, __LABEL1325
	ld a, h
__LABEL1325:
	or a
	jp z, __LABEL614
	call RND
	push bc
	push de
	push af
	ld a, 082h
	ld de, 00000h
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 1
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	push hl
	push de
	ld de, 0
	ld hl, 3
	call __MUL32
	ld a, l
	ld (ix-7), a
	ld (ix-8), 254
	ld (ix-9), 254
	ld a, 253
	push af
	ld a, (ix-7)
	push af
	call _PlaceCar
	ld (ix-6), 1
	jp __LABEL615
__LABEL614:
	ld a, (ix-6)
	or a
	jp z, __LABEL617
	ld a, (ix-8)
	push af
	ld a, (ix-7)
	push af
	call _PlaceCar
	inc (ix-8)
	ld a, (ix-8)
	ld h, (ix-9)
	call __LTI8
	ld d, a
	ld a, (ix-3)
	sub 1
	sbc a, a
	or d
	jp z, __LABEL619
	ld a, (ix-8)
	ld (ix-9), a
__LABEL619:
	ld h, (ix-8)
	ld a, 20
	call __LTI8
	or a
	jp z, __LABEL621
	ld (ix-6), 0
	dec (ix-15)
	ld l, (ix-19)
	ld h, (ix-18)
	inc hl
	ld (ix-19), l
	ld (ix-18), h
	ld l, (ix-19)
	ld h, (ix-18)
	push hl
	call _SetScore
	ld a, (ix-15)
	or a
	jp z, __LABEL597
__LABEL621:
	ld a, (ix-6)
	push af
	ld h, (ix-8)
	ld a, 4
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1326
	ld a, h
__LABEL1326:
	push af
	ld a, (ix-8)
	ld h, 12
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1327
	ld a, h
__LABEL1327:
	push af
	call RND
	push bc
	push de
	push af
	ld a, 086h
	ld de, 00070h
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	push de
	push hl
	ld a, (ix-13)
	inc a
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	call __LEI32
	ld h, a
	pop af
	or a
	jr z, __LABEL1328
	ld a, h
__LABEL1328:
	or a
	jp z, __LABEL625
	ld a, (ix-7)
	sub 3
	jp nz, __LABEL626
	ld (ix-2), 3
	jp __LABEL627
__LABEL626:
	ld (ix-2), 253
__LABEL627:
	call _UpdateScreen
	xor a
	push af
	ld a, (ix-2)
	push af
	ld a, (ix-8)
	add a, 4
	push af
	ld a, (ix-8)
	push af
	ld a, (ix-7)
	add a, 3
	push af
	ld a, (ix-7)
	push af
	call _MoveRect
	ld a, (ix-7)
	add a, (ix-2)
	ld (ix-7), a
__LABEL625:
__LABEL617:
__LABEL615:
	ld a, (ix-3)
	push af
	ld h, (ix-5)
	ld a, 13
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1329
	ld a, h
__LABEL1329:
	push af
	ld a, (ix-4)
	sub (ix-10)
	sub 1
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1330
	ld a, h
__LABEL1330:
	push af
	ld a, (ix-6)
	push af
	ld h, (ix-8)
	ld a, 13
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1331
	ld a, h
__LABEL1331:
	push af
	ld a, (ix-7)
	sub (ix-10)
	sub 1
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1332
	ld a, h
__LABEL1332:
	pop de
	or d
	jp z, __LABEL629
	ld (ix-11), 1
	jp __LABEL597
__LABEL629:
	call _UpdateScreen
	call _ResetFrameCounter
__LABEL630:
	ld a, (ix-14)
	ld l, a
	ld h, 0
	push hl
	call _Frames
	pop de
	or a
	sbc hl, de
	jp nc, __LABEL631
	call INKEY
	ld d, h
	ld e, l
	ld bc, -17
	call __PSTORE_STR2
	ld l, (ix-17)
	ld h, (ix-16)
	ld de, __LABEL418
	xor a
	call __STREQ
	or a
	jp z, __LABEL632
	ld a, (ix-10)
	sub 6
	jp nz, __LABEL635
	xor a
	push af
	ld a, 253
	push af
	ld a, 20
	push af
	ld a, 17
	push af
	ld a, 8
	push af
	ld a, 6
	push af
	call _MoveRect
	call _UpdateScreen
	ld (ix-10), 3
	ld a, (ix-3)
	push af
	ld h, (ix-5)
	ld a, 13
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1333
	ld a, h
__LABEL1333:
	push af
	ld a, (ix-4)
	sub (ix-10)
	sub 1
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1334
	ld a, h
__LABEL1334:
	push af
	ld a, (ix-6)
	push af
	ld h, (ix-8)
	ld a, 13
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1335
	ld a, h
__LABEL1335:
	push af
	ld a, (ix-7)
	sub (ix-10)
	sub 1
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1336
	ld a, h
__LABEL1336:
	pop de
	or d
	jp z, __LABEL637
	ld (ix-11), 1
	jp __LABEL631
__LABEL637:
__LABEL635:
	jp __LABEL633
__LABEL632:
	ld l, (ix-17)
	ld h, (ix-16)
	ld de, __LABEL423
	xor a
	call __STREQ
	or a
	jp z, __LABEL638
	ld a, (ix-10)
	sub 3
	jp nz, __LABEL641
	xor a
	push af
	ld a, 3
	push af
	ld a, 20
	push af
	ld a, 17
	push af
	ld a, 5
	push af
	ld a, 3
	push af
	call _MoveRect
	call _UpdateScreen
	ld (ix-10), 6
	ld a, (ix-3)
	push af
	ld h, (ix-5)
	ld a, 13
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1337
	ld a, h
__LABEL1337:
	push af
	ld a, (ix-4)
	sub (ix-10)
	sub 1
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1338
	ld a, h
__LABEL1338:
	push af
	ld a, (ix-6)
	push af
	ld h, (ix-8)
	ld a, 13
	call __LTI8
	ld h, a
	pop af
	or a
	jr z, __LABEL1339
	ld a, h
__LABEL1339:
	push af
	ld a, (ix-7)
	sub (ix-10)
	sub 1
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1340
	ld a, h
__LABEL1340:
	pop de
	or d
	jp z, __LABEL643
	ld (ix-11), 1
	jp __LABEL631
__LABEL643:
__LABEL641:
	jp __LABEL639
__LABEL638:
	ld l, (ix-17)
	ld h, (ix-16)
	ld de, __LABEL644
	xor a
	call __STREQ
	or a
	jp nz, __LABEL631
	ld l, (ix-17)
	ld h, (ix-16)
	ld de, __LABEL438
	xor a
	call __STREQ
	or a
	jp z, __LABEL648
	xor a
	jp _RunRacing__leave
__LABEL648:
__LABEL639:
__LABEL633:
	jp __LABEL630
__LABEL631:
	jp __LABEL596
__LABEL597:
	ld a, (ix-11)
	or a
	jp z, __LABEL649
	dec (ix-12)
	xor a
	push af
	ld a, 18
	push af
	ld a, (ix-10)
	inc a
	push af
	call _Explode
	call _ShowCurtain
	ld (ix-11), 0
	jp __LABEL650
__LABEL649:
	inc (ix+5)
	ld a, 99
	cp (ix+5)
	jp nc, __LABEL652
	ld a, 1
	jp _RunRacing__leave
__LABEL652:
	ld a, (ix+5)
	ld h, 10
	call __MODU8_FAST
	or a
	jp nz, __LABEL654
	ld hl, 14
	push hl
	ld hl, _raceLevelMusic
	push hl
	call _PlayMusic
__LABEL654:
	ld l, (ix-19)
	ld h, (ix-18)
	ld de, 10
	add hl, de
	ld (ix-19), l
	ld (ix-18), h
	call _ShowCurtain
__LABEL650:
	jp __LABEL594
__LABEL595:
	xor a
_RunRacing__leave:
	ex af, af'
	exx
	ld l, (ix-17)
	ld h, (ix-16)
	call __MEM_FREE
	ex af, af'
	exx
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_PlaceCar:
	push ix
	ld ix, 0
	add ix, sp
	ld a, (ix+7)
	ld h, 1
	call __LTI8
	or a
	jp z, __LABEL655
	xor a
	push af
	ld a, (ix+7)
	add a, 3
	push af
	ld a, 1
	push af
	ld a, (ix+5)
	add a, 3
	push af
	ld a, (ix+5)
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, (ix+7)
	add a, 4
	push af
	ld a, (ix+5)
	inc a
	push af
	call _SetCell
	ld h, (ix+7)
	ld a, 253
	call __LTI8
	or a
	jp z, __LABEL658
	ld a, 1
	push af
	ld a, (ix+7)
	add a, 3
	push af
	ld a, (ix+5)
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, (ix+7)
	add a, 3
	push af
	ld a, (ix+5)
	inc a
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, (ix+7)
	add a, 3
	push af
	ld a, (ix+5)
	add a, 2
	push af
	call _SetCell
__LABEL658:
	ld h, (ix+7)
	ld a, 254
	call __LTI8
	or a
	jp z, __LABEL660
	ld a, 1
	push af
	ld a, (ix+7)
	add a, 2
	push af
	ld a, (ix+5)
	inc a
	push af
	call _SetCell
__LABEL660:
	ld a, (ix+7)
	or a
	jp nz, __LABEL662
	ld a, 1
	push af
	ld a, (ix+7)
	inc a
	push af
	ld a, (ix+5)
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, (ix+7)
	inc a
	push af
	ld a, (ix+5)
	add a, 2
	push af
	call _SetCell
__LABEL662:
	jp __LABEL656
__LABEL655:
	ld h, (ix+7)
	ld a, 16
	call __LTI8
	or a
	jp z, __LABEL663
	ld a, (ix+7)
	sub 20
	jp nz, __LABEL665
	xor a
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, (ix+5)
	add a, 2
	push af
	ld a, (ix+5)
	push af
	call _FillRect
	jp __LABEL666
__LABEL665:
	ld a, 1
	push af
	xor a
	push af
	ld a, 19
	push af
	ld a, (ix+7)
	push af
	ld a, (ix+5)
	add a, 2
	push af
	ld a, (ix+5)
	push af
	call _MoveRect
__LABEL666:
	jp __LABEL664
__LABEL663:
	ld a, 1
	push af
	xor a
	push af
	ld a, (ix+7)
	add a, 3
	push af
	ld a, (ix+7)
	push af
	ld a, (ix+5)
	add a, 2
	push af
	ld a, (ix+5)
	push af
	call _MoveRect
__LABEL664:
__LABEL656:
_PlaceCar__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	pop bc
	ex (sp), hl
	exx
	ret
_LoadSnakeScreen:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	inc sp
	xor a
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld (ix-1), 1
	jp __LABEL667
__LABEL670:
	ld a, (ix-1)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix+5)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _snakeScreens
	call __ARRAY
	ld e, (hl)
	inc hl
	ld d, (hl)
	ex de, hl
	ld (ix-3), l
	ld (ix-2), h
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 512
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL673
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 1
	push af
	call _SetCell
__LABEL673:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 256
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL675
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 2
	push af
	call _SetCell
__LABEL675:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 128
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL677
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 3
	push af
	call _SetCell
__LABEL677:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 64
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL679
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 4
	push af
	call _SetCell
__LABEL679:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 32
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL681
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 5
	push af
	call _SetCell
__LABEL681:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 16
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL683
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 6
	push af
	call _SetCell
__LABEL683:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 8
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL685
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 7
	push af
	call _SetCell
__LABEL685:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 4
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL687
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 8
	push af
	call _SetCell
__LABEL687:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 2
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL689
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 9
	push af
	call _SetCell
__LABEL689:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 1
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL691
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 10
	push af
	call _SetCell
__LABEL691:
	inc (ix-1)
__LABEL667:
	ld a, 20
	cp (ix-1)
	jp nc, __LABEL670
_LoadSnakeScreen__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_RunSnake:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, -21
	add hl, sp
	ld sp, hl
	ld (hl), 0
	ld bc, 20
	ld d, h
	ld e, l
	inc de
	ldir
	push ix
	pop hl
	ld bc, -3
	add hl, bc
	ex de, hl
	ld hl, __LABEL1341
	ld bc, 1
	ldir
	ld hl, -21
	ld de, __LABEL1342
	ld bc, 40
	call __ALLOC_LOCAL_ARRAY
	push ix
	pop hl
	ld bc, -9
	add hl, bc
	ex de, hl
	ld hl, __LABEL1343
	ld bc, 1
	ldir
	ld a, (_playedSnakeMusic)
	or a
	jp nz, __LABEL693
	ld a, 1
	ld (_playedSnakeMusic), a
	ld hl, 40
	push hl
	ld hl, _snakeIntroMusic
	push hl
	call _PlayMusic
__LABEL693:
	call _HideNextTitle
	ld l, (ix-17)
	ld h, (ix-16)
	push hl
	call _SetScore
__LABEL694:
	ld a, (ix-3)
	ld h, a
	xor a
	cp h
	jp nc, __LABEL695
	xor a
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, (ix+5)
	ld h, 10
	call __DIVU8_FAST
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 6
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	ld (ix-13), a
	ld (ix-12), 0
	ld (ix-5), 4
	ld (ix-6), 0
	ld l, (ix-19)
	ld h, (ix-18)
	ld a, 5
	ld (hl), a
	ld l, (ix-19)
	ld h, (ix-18)
	inc hl
	ld a, 10
	ld (hl), a
	ld l, (ix-19)
	ld h, (ix-18)
	inc hl
	inc hl
	ld a, 5
	ld (hl), a
	ld l, (ix-19)
	ld h, (ix-18)
	inc hl
	inc hl
	inc hl
	ld a, 11
	ld (hl), a
	ld l, (ix-19)
	ld h, (ix-18)
	ld de, 4
	add hl, de
	ld a, 5
	ld (hl), a
	ld l, (ix-19)
	ld h, (ix-18)
	ld de, 5
	add hl, de
	ld a, 12
	ld (hl), a
	ld l, (ix-19)
	ld h, (ix-18)
	ld de, 6
	add hl, de
	ld a, 5
	ld (hl), a
	ld l, (ix-19)
	ld h, (ix-18)
	ld de, 7
	add hl, de
	ld a, 13
	ld (hl), a
	ld a, (ix+5)
	push af
	call _SetLevel
	ld a, (ix-3)
	push af
	call _SetLifes
	ld a, (ix+5)
	ld h, 10
	call __MODU8_FAST
	inc a
	push af
	call _LoadSnakeScreen
	call _UpdateScreen
	ld (ix-9), 1
	ld a, (ix+5)
	ld h, 10
	call __DIVU8_FAST
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	ld bc, 0
	push bc
	ld bc, 12
	push bc
	call __SUB32
	ld a, l
	ld (ix-4), a
__LABEL696:
	ld a, (ix-2)
	or a
	jp nz, __LABEL697
	ld hl, 0
	push hl
	ld a, (ix-5)
	ld l, a
	ld h, 0
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	ld (ix-7), a
	ld hl, 1
	push hl
	ld a, (ix-5)
	ld l, a
	ld h, 0
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	ld (ix-8), a
	ld a, (ix-5)
	ld (ix-1), a
	jp __LABEL698
__LABEL701:
	ld a, (ix-1)
	sub (ix-5)
	jp nz, __LABEL703
	ld hl, 0
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	ld (ix-7), a
	ld hl, 1
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	ld (ix-8), a
	xor a
	push af
	ld a, (ix-8)
	push af
	ld a, (ix-7)
	push af
	call _SetCell
	ld hl, 0
	push hl
	ld a, (ix-1)
	dec a
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	push af
	ld hl, 0
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	pop af
	ld (hl), a
	ld hl, 1
	push hl
	ld a, (ix-1)
	dec a
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	push af
	ld hl, 1
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-9)
	or a
	jp z, __LABEL706
	ld a, 1
	push af
	ld hl, 1
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	push af
	ld hl, 0
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	push af
	call _SetCell
__LABEL706:
	jp __LABEL704
__LABEL703:
	ld a, (ix-1)
	dec a
	jp nz, __LABEL707
	ld a, (ix-6)
	or a
	jp nz, __LABEL709
	ld hl, 1
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	dec a
	push af
	ld hl, 1
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	pop af
	ld (hl), a
	jp __LABEL710
__LABEL709:
	ld a, (ix-6)
	dec a
	jp nz, __LABEL711
	ld hl, 1
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	inc a
	push af
	ld hl, 1
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	pop af
	ld (hl), a
	jp __LABEL712
__LABEL711:
	ld a, (ix-6)
	sub 2
	jp nz, __LABEL713
	ld hl, 0
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	dec a
	push af
	ld hl, 0
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	pop af
	ld (hl), a
	jp __LABEL714
__LABEL713:
	ld a, (ix-6)
	sub 3
	jp nz, __LABEL716
	ld hl, 0
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	inc a
	push af
	ld hl, 0
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	pop af
	ld (hl), a
__LABEL716:
__LABEL714:
__LABEL712:
__LABEL710:
	ld hl, 0
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, 10
	cp (hl)
	sbc a, a
	push af
	ld hl, 0
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	pop de
	ld a, (hl)
	cp 1
	sbc a, a
	or d
	push af
	ld hl, 1
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	pop de
	ld a, 20
	cp (hl)
	sbc a, a
	or d
	push af
	ld hl, 1
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	pop de
	ld a, (hl)
	cp 1
	sbc a, a
	or d
	jp z, __LABEL718
	ld (ix-2), 1
	jp __LABEL697
__LABEL718:
	ld hl, 1
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, 0
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	ld a, (hl)
	or a
	jp z, __LABEL720
	ld a, (ix-12)
	push af
	ld hl, 0
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	sub (ix-10)
	sub 1
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1344
	ld a, h
__LABEL1344:
	push af
	ld hl, 1
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	sub (ix-11)
	sub 1
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1345
	ld a, h
__LABEL1345:
	or a
	jp z, __LABEL721
	ld hl, 388
	push hl
	ld hl, 25
	call __BEEPER
	ld l, (ix-17)
	ld h, (ix-16)
	inc hl
	ld (ix-17), l
	ld (ix-16), h
	dec (ix-13)
	ld a, (ix-13)
	or a
	jp z, __LABEL697
	inc (ix-5)
	ld a, (ix-7)
	push af
	ld hl, 0
	push hl
	ld a, (ix-5)
	ld l, a
	ld h, 0
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-8)
	push af
	ld hl, 1
	push hl
	ld a, (ix-5)
	ld l, a
	ld h, 0
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	pop af
	ld (hl), a
	ld l, (ix-17)
	ld h, (ix-16)
	push hl
	call _SetScore
	ld a, 1
	push af
	ld a, (ix-8)
	push af
	ld a, (ix-7)
	push af
	call _SetCell
	ld (ix-12), 0
	jp __LABEL722
__LABEL721:
	ld (ix-2), 1
	jp __LABEL697
__LABEL722:
__LABEL720:
	ld a, 1
	push af
	ld hl, 1
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	push af
	ld hl, 0
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	push af
	call _SetCell
	jp __LABEL708
__LABEL707:
	ld hl, 0
	push hl
	ld a, (ix-1)
	dec a
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	push af
	ld hl, 0
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	pop af
	ld (hl), a
	ld hl, 1
	push hl
	ld a, (ix-1)
	dec a
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	push af
	ld hl, 1
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-9)
	or a
	jp z, __LABEL726
	ld a, 1
	push af
	ld hl, 1
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	push af
	ld hl, 0
	push hl
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	push ix
	pop hl
	ld de, -21
	add hl, de
	call __ARRAY
	ld a, (hl)
	push af
	call _SetCell
__LABEL726:
__LABEL708:
__LABEL704:
	dec (ix-1)
__LABEL698:
	ld a, (ix-1)
	ld h, 1
	call __LTI8
	or a
	jp z, __LABEL701
	call _UpdateScreen
	ld a, (ix-12)
	sub 1
	sbc a, a
	push af
	call RND
	push bc
	push de
	push af
	ld a, 087h
	ld de, 00048h
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	push de
	push hl
	ld a, (ix+5)
	ld h, 10
	call __DIVU8_FAST
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	push de
	push hl
	ld de, 0
	ld hl, 10
	call __MUL32
	call __LEI32
	sub 1
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1346
	ld a, h
__LABEL1346:
	or a
	jp z, __LABEL728
__LABEL729:
	call RND
	push bc
	push de
	push af
	ld a, 084h
	ld de, 00020h
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 1
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	ld (ix-10), a
	call RND
	push bc
	push de
	push af
	ld a, 085h
	ld de, 00020h
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 1
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	ld (ix-11), a
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix-10)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	ld a, (hl)
	or a
	jp nz, __LABEL729
	ld (ix-12), 1
	ld a, 1
	push af
	ld a, (ix-11)
	push af
	ld a, (ix-10)
	push af
	call _SetCell
	call _UpdateScreen
__LABEL728:
	call _ResetFrameCounter
__LABEL732:
	ld a, (ix-4)
	ld l, a
	ld h, 0
	push hl
	call _Frames
	pop de
	or a
	sbc hl, de
	jp nc, __LABEL733
	call INKEY
	ld d, h
	ld e, l
	ld bc, -15
	call __PSTORE_STR2
	ld l, (ix-15)
	ld h, (ix-14)
	ld de, __LABEL418
	xor a
	call __STREQ
	or a
	jp z, __LABEL734
	ld (ix-6), 2
	jp __LABEL735
__LABEL734:
	ld l, (ix-15)
	ld h, (ix-14)
	ld de, __LABEL423
	xor a
	call __STREQ
	or a
	jp z, __LABEL736
	ld (ix-6), 3
	jp __LABEL737
__LABEL736:
	ld l, (ix-15)
	ld h, (ix-14)
	ld de, __LABEL644
	xor a
	call __STREQ
	or a
	jp z, __LABEL738
	ld (ix-6), 0
	jp __LABEL739
__LABEL738:
	ld l, (ix-15)
	ld h, (ix-14)
	ld de, __LABEL428
	xor a
	call __STREQ
	or a
	jp z, __LABEL740
	ld (ix-6), 1
	jp __LABEL741
__LABEL740:
	ld l, (ix-15)
	ld h, (ix-14)
	ld de, __LABEL438
	xor a
	call __STREQ
	or a
	jp z, __LABEL743
	xor a
	jp _RunSnake__leave
__LABEL743:
__LABEL741:
__LABEL739:
__LABEL737:
__LABEL735:
	jp __LABEL732
__LABEL733:
	jp __LABEL696
__LABEL697:
	ld a, (ix-2)
	or a
	jp z, __LABEL744
	dec (ix-3)
	xor a
	push af
	ld l, (ix-19)
	ld h, (ix-18)
	inc hl
	ld a, (hl)
	push af
	ld l, (ix-19)
	ld h, (ix-18)
	ld a, (hl)
	push af
	call _Explode
	call _ShowCurtain
	ld (ix-2), 0
	jp __LABEL745
__LABEL744:
	inc (ix+5)
	ld a, 99
	cp (ix+5)
	jp nc, __LABEL747
	ld a, 1
	jp _RunSnake__leave
__LABEL747:
	ld a, (ix+5)
	ld h, 10
	call __MODU8_FAST
	or a
	jp nz, __LABEL749
	ld hl, 14
	push hl
	ld hl, _snakeLevelMusic
	push hl
	call _PlayMusic
__LABEL749:
	ld l, (ix-17)
	ld h, (ix-16)
	ld de, 10
	add hl, de
	ld (ix-17), l
	ld (ix-16), h
	ld l, (ix-17)
	ld h, (ix-16)
	push hl
	call _SetScore
	call _ShowCurtain
__LABEL745:
	jp __LABEL694
__LABEL695:
	xor a
_RunSnake__leave:
	ex af, af'
	exx
	ld l, (ix-15)
	ld h, (ix-14)
	call __MEM_FREE
	ld l, (ix-19)
	ld h, (ix-18)
	call __MEM_FREE
	ex af, af'
	exx
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_FindBottom:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	inc sp
	ld (ix-1), 1
	jp __LABEL750
__LABEL753:
	ld (ix-2), 1
	jp __LABEL755
__LABEL758:
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld a, (ix-2)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	ld a, (hl)
	or a
	jp z, __LABEL761
	ld a, (ix-1)
	ld (ix-3), a
	jp __LABEL757
__LABEL761:
	inc (ix-2)
__LABEL755:
	ld h, (ix-2)
	ld a, 10
	call __LTI8
	or a
	jp z, __LABEL758
__LABEL757:
	inc (ix-1)
__LABEL750:
	ld h, (ix-1)
	ld a, 17
	call __LTI8
	or a
	jp z, __LABEL753
	ld a, (ix-3)
_FindBottom__leave:
	ld sp, ix
	pop ix
	ret
_RunDestroyer:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, -16
	add hl, sp
	ld sp, hl
	ld (hl), 0
	ld bc, 15
	ld d, h
	ld e, l
	inc de
	ldir
	push ix
	pop hl
	ld bc, -4
	add hl, bc
	ex de, hl
	ld hl, __LABEL1347
	ld bc, 1
	ldir
	ld a, (_playedDestroyerMusic)
	or a
	jp nz, __LABEL763
	ld a, 1
	ld (_playedDestroyerMusic), a
	ld hl, 68
	push hl
	ld hl, _destroyerIntroMusic
	push hl
	call _PlayMusic
__LABEL763:
	call _HideNextTitle
	ld l, (ix-14)
	ld h, (ix-13)
	push hl
	call _SetScore
__LABEL764:
	ld a, (ix-4)
	ld h, a
	xor a
	cp h
	jp nc, __LABEL765
	xor a
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, (ix+5)
	ld h, 10
	call __MODU8_FAST
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 1
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	push hl
	push de
	ld de, 0
	ld hl, 5
	call __MUL32
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 50
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	ld (ix-10), a
	ld (ix-9), 0
	ld (ix-6), 5
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, (ix-6)
	inc a
	push af
	ld a, (ix-6)
	dec a
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 19
	push af
	ld a, (ix-6)
	push af
	call _SetCell
	ld a, (ix+5)
	push af
	call _SetLevel
	ld a, (ix-4)
	push af
	call _SetLifes
	call _UpdateScreen
	ld a, (ix+5)
	ld h, 10
	call __DIVU8_FAST
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	push de
	push hl
	ld de, 0
	ld hl, 2
	call __MUL32
	ld bc, 0
	push bc
	ld bc, 60
	push bc
	call __SUB32
	ld a, l
	ld (ix-5), a
__LABEL766:
	ld a, (ix-3)
	sub 1
	sbc a, a
	push af
	ld a, (ix-10)
	ld h, a
	xor a
	cp h
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1348
	ld a, h
__LABEL1348:
	or a
	jp z, __LABEL767
	ld a, (ix-9)
	or a
	jp z, __LABEL769
	xor a
	push af
	ld a, (ix-8)
	push af
	ld a, (ix-7)
	push af
	call _SetCell
	call _UpdateScreen
__LABEL769:
	call _FindBottom
	ld (ix-2), a
	ld h, a
	ld a, 16
	call __LTI8
	or a
	jp z, __LABEL770
	ld (ix-3), 1
	jp __LABEL767
__LABEL770:
	ld a, 1
	push af
	xor a
	push af
	ld a, (ix-2)
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _MoveRect
	ld (ix-1), 1
	jp __LABEL772
__LABEL775:
	ld a, 1
	push af
	ld a, 1
	push af
	call RND
	push bc
	push de
	push af
	ld a, 084h
	ld de, 00020h
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 1
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	push af
	call _SetCell
	inc (ix-1)
__LABEL772:
	ld a, (ix-1)
	push af
	ld a, (ix+5)
	ld h, 10
	call __MODU8_FAST
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	ld bc, 0
	push bc
	ld bc, 1
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	pop hl
	call __LTI8
	or a
	jp z, __LABEL775
	ld a, (ix-9)
	or a
	jp z, __LABEL778
	ld a, 1
	push af
	ld a, (ix-8)
	push af
	ld a, (ix-7)
	push af
	call _SetCell
__LABEL778:
	ld (ix-16), 0
	ld (ix-15), 0
	call _UpdateScreen
	call _ResetFrameCounter
__LABEL779:
	ld a, (ix-5)
	ld l, a
	ld h, 0
	push hl
	call _Frames
	pop de
	or a
	sbc hl, de
	jp nc, __LABEL780
	ld a, (ix-9)
	or a
	jp z, __LABEL782
	ld a, 1
	cp (ix-8)
	sbc a, a
	push af
	ld a, (ix-8)
	dec a
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix-7)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	pop af
	ld h, (hl)
	or a
	jr z, __LABEL1349
	ld a, h
__LABEL1349:
	or a
	jp z, __LABEL783
	ld hl, 9429
	push hl
	ld hl, 0
	call __BEEPER
	ld (ix-9), 0
	xor a
	push af
	ld a, (ix-8)
	push af
	ld a, (ix-7)
	push af
	call _SetCell
	xor a
	push af
	ld a, (ix-8)
	dec a
	push af
	ld a, (ix-7)
	push af
	call _SetCell
	ld l, (ix-14)
	ld h, (ix-13)
	inc hl
	ld (ix-14), l
	ld (ix-13), h
	ld l, (ix-14)
	ld h, (ix-13)
	push hl
	call _SetScore
	dec (ix-10)
	ld a, (ix-10)
	or a
	jp z, __LABEL780
	jp __LABEL784
__LABEL783:
	ld a, (ix-8)
	dec a
	jp nz, __LABEL787
	ld (ix-9), 0
	xor a
	push af
	ld a, (ix-8)
	push af
	ld a, (ix-7)
	push af
	call _SetCell
	jp __LABEL788
__LABEL787:
	xor a
	push af
	ld a, (ix-8)
	push af
	ld a, (ix-7)
	push af
	call _SetCell
	dec (ix-8)
	ld a, 1
	push af
	ld a, (ix-8)
	push af
	ld a, (ix-7)
	push af
	call _SetCell
__LABEL788:
__LABEL784:
	call _UpdateScreen
__LABEL782:
	ld l, (ix-16)
	ld h, (ix-15)
	ld de, 0
	call __EQ16
	push af
	ld l, (ix-16)
	ld h, (ix-15)
	push hl
	call _Frames
	ex de, hl
	pop hl
	or a
	sbc hl, de
	pop de
	sbc a, a
	or d
	jp z, __LABEL790
	ld hl, 57090
	call _MultiKeys
	or a
	jp z, __LABEL791
	ld a, (ix-6)
	sub 2
	jp nz, __LABEL793
	xor a
	push af
	ld a, 20
	push af
	ld a, 19
	push af
	ld a, (ix-6)
	inc a
	push af
	ld a, (ix-6)
	dec a
	push af
	call _FillRect
	dec (ix-6)
	ld a, 1
	push af
	ld a, 19
	push af
	ld a, (ix-6)
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, (ix-6)
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, (ix-6)
	inc a
	push af
	call _SetCell
	ld (ix-11), 1
	jp __LABEL794
__LABEL793:
	ld a, (ix-6)
	sub 10
	jp nz, __LABEL795
	xor a
	push af
	ld a, 255
	push af
	ld a, 20
	push af
	ld a, 19
	push af
	ld a, (ix-6)
	push af
	ld a, (ix-6)
	dec a
	push af
	call _MoveRect
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, (ix-6)
	push af
	call _SetCell
	dec (ix-6)
	ld (ix-11), 1
	jp __LABEL796
__LABEL795:
	ld a, 2
	cp (ix-6)
	jp nc, __LABEL798
	xor a
	push af
	ld a, 255
	push af
	ld a, 20
	push af
	ld a, 19
	push af
	ld a, (ix-6)
	inc a
	push af
	ld a, (ix-6)
	dec a
	push af
	call _MoveRect
	dec (ix-6)
	ld (ix-11), 1
__LABEL798:
__LABEL796:
__LABEL794:
	jp __LABEL792
__LABEL791:
	ld hl, 57089
	call _MultiKeys
	or a
	jp z, __LABEL799
	ld a, (ix-6)
	sub 9
	jp nz, __LABEL801
	xor a
	push af
	ld a, 20
	push af
	ld a, 19
	push af
	ld a, (ix-6)
	inc a
	push af
	ld a, (ix-6)
	dec a
	push af
	call _FillRect
	inc (ix-6)
	ld a, 1
	push af
	ld a, 19
	push af
	ld a, (ix-6)
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, (ix-6)
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, (ix-6)
	dec a
	push af
	call _SetCell
	ld (ix-11), 1
	jp __LABEL802
__LABEL801:
	ld a, (ix-6)
	dec a
	jp nz, __LABEL803
	xor a
	push af
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 19
	push af
	ld a, (ix-6)
	inc a
	push af
	ld a, (ix-6)
	push af
	call _MoveRect
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, (ix-6)
	push af
	call _SetCell
	inc (ix-6)
	ld (ix-11), 1
	jp __LABEL804
__LABEL803:
	ld a, (ix-6)
	cp 9
	jp nc, __LABEL806
	xor a
	push af
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 19
	push af
	ld a, (ix-6)
	inc a
	push af
	ld a, (ix-6)
	dec a
	push af
	call _MoveRect
	inc (ix-6)
	ld (ix-11), 1
__LABEL806:
__LABEL804:
__LABEL802:
	jp __LABEL800
__LABEL799:
	ld hl, 48912
	call _MultiKeys
	or a
	jp z, __LABEL808
	xor a
	jp _RunDestroyer__leave
__LABEL808:
__LABEL800:
__LABEL792:
	ld hl, 32513
	call _MultiKeys
	or a
	jp z, __LABEL809
	ld a, (ix-9)
	sub 1
	sbc a, a
	push af
	ld a, (ix-12)
	sub 1
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1350
	ld a, h
__LABEL1350:
	or a
	jp z, __LABEL812
	ld (ix-9), 1
	ld (ix-12), 1
	ld a, (ix-6)
	ld (ix-7), a
	ld (ix-8), 18
	ld a, 1
	push af
	ld a, (ix-8)
	push af
	ld a, (ix-7)
	push af
	call _SetCell
	call _UpdateScreen
__LABEL812:
	jp __LABEL810
__LABEL809:
	ld a, (ix-12)
	or a
	jp z, __LABEL814
	ld (ix-12), 0
__LABEL814:
__LABEL810:
	ld a, (ix-11)
	or a
	jp z, __LABEL816
	ld (ix-11), 0
	call _Frames
	ld de, 4
	add hl, de
	ld (ix-16), l
	ld (ix-15), h
	call _UpdateScreen
__LABEL816:
__LABEL790:
	jp __LABEL779
__LABEL780:
	jp __LABEL766
__LABEL767:
	ld a, (ix-3)
	or a
	jp z, __LABEL817
	dec (ix-4)
	xor a
	push af
	ld a, 19
	push af
	ld a, (ix-6)
	push af
	call _Explode
	call _ShowCurtain
	ld (ix-3), 0
	jp __LABEL818
__LABEL817:
	inc (ix+5)
	ld a, 99
	cp (ix+5)
	jp nc, __LABEL820
	ld a, 1
	jp _RunDestroyer__leave
__LABEL820:
	ld a, (ix+5)
	ld h, 10
	call __MODU8_FAST
	or a
	jp nz, __LABEL822
	ld hl, 54
	push hl
	ld hl, _destroyerLevelMusic
	push hl
	call _PlayMusic
__LABEL822:
	ld l, (ix-14)
	ld h, (ix-13)
	ld de, 10
	add hl, de
	ld (ix-14), l
	ld (ix-13), h
	ld l, (ix-14)
	ld h, (ix-13)
	push hl
	call _SetScore
	call _ShowCurtain
__LABEL818:
	jp __LABEL764
__LABEL765:
	xor a
_RunDestroyer__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_RunGhostHunter:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, -10
	add hl, sp
	ld sp, hl
	ld (hl), 0
	ld bc, 9
	ld d, h
	ld e, l
	inc de
	ldir
	push ix
	pop hl
	ld bc, -2
	add hl, bc
	ex de, hl
	ld hl, __LABEL1351
	ld bc, 1
	ldir
	ld a, (_playedGhostMusic)
	or a
	jp nz, __LABEL824
	ld a, 1
	ld (_playedGhostMusic), a
	ld hl, 60
	push hl
	ld hl, _ghostIntroMusic
	push hl
	call _PlayMusic
__LABEL824:
	call _HideNextTitle
	ld l, (ix-10)
	ld h, (ix-9)
	push hl
	call _SetScore
__LABEL825:
	ld a, (ix-2)
	ld h, a
	xor a
	cp h
	jp nc, __LABEL826
	xor a
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, (ix+5)
	ld h, 10
	call __MODU8_FAST
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 1
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	push hl
	ld b, d
	ld c, e
	ld de, 0
	ld hl, 5
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	ld (ix-6), a
	ld (ix-4), 0
	ld a, (ix+5)
	push af
	call _SetLevel
	ld a, (ix-2)
	push af
	call _SetLifes
	call _UpdateScreen
__LABEL827:
	ld a, (ix-1)
	sub 1
	sbc a, a
	push af
	ld a, (ix-6)
	ld h, a
	xor a
	cp h
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1352
	ld a, h
__LABEL1352:
	or a
	jp z, __LABEL828
__LABEL829:
	ld a, (ix-4)
	or a
	jp nz, __LABEL830
	call INKEY
	ld de, __LABEL387
	ld a, 1
	call __STRNE
	or a
	jp z, __LABEL832
	call INKEY
	ld de, __LABEL438
	ld a, 1
	call __STREQ
	or a
	jp z, __LABEL834
	xor a
	jp _RunGhostHunter__leave
__LABEL834:
	ld (ix-1), 1
	jp __LABEL830
__LABEL832:
	call RND
	push bc
	push de
	push af
	ld a, 08Dh
	ld de, 0401Ch
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	push de
	push hl
	ld a, (ix+5)
	ld h, 10
	call __DIVU8_FAST
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 1
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	push hl
	push de
	ld de, 0
	ld hl, 10
	call __MUL32
	call __LTI32
	or a
	jp z, __LABEL836
	call RND
	push bc
	push de
	push af
	ld a, (ix+5)
	ld h, 10
	call __MODU8_FAST
	inc a
	call __U8TOFREG
	call __MULF
	call __FTOU32REG
	push de
	push hl
	ld de, 0
	ld hl, 2
	call __SWAP32
	call __DIVI32
	ld a, l
	ld (ix-3), a
	ld a, (ix+5)
	ld h, 10
	call __DIVU8_FAST
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	push de
	push hl
	ld de, 0
	ld hl, 3
	call __MUL32
	ld bc, 0
	push bc
	ld bc, 47
	push bc
	call __SUB32
	ld a, l
	ld (ix-5), a
	ld a, (ix-3)
	push af
	call _DrawGhost
	ld (ix-4), 1
__LABEL836:
	jp __LABEL829
__LABEL830:
	call _UpdateScreen
	call _ResetFrameCounter
__LABEL837:
	ld a, (ix-4)
	push af
	ld a, (ix-5)
	ld l, a
	ld h, 0
	push hl
	call _Frames
	pop de
	or a
	sbc hl, de
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1353
	ld a, h
__LABEL1353:
	push af
	ld a, (ix-1)
	sub 1
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1354
	ld a, h
__LABEL1354:
	or a
	jp z, __LABEL838
	call INKEY
	ld d, h
	ld e, l
	ld bc, -8
	call __PSTORE_STR2
	ld l, (ix-8)
	ld h, (ix-7)
	ld de, __LABEL418
	xor a
	call __STREQ
	push af
	ld a, (ix-3)
	sub 1
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1355
	ld a, h
__LABEL1355:
	push af
	ld l, (ix-8)
	ld h, (ix-7)
	ld de, __LABEL423
	xor a
	call __STREQ
	push af
	ld a, (ix-3)
	dec a
	sub 1
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1356
	ld a, h
__LABEL1356:
	pop de
	or d
	push af
	ld l, (ix-8)
	ld h, (ix-7)
	ld de, __LABEL644
	xor a
	call __STREQ
	push af
	ld a, (ix-3)
	sub 2
	sub 1
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1357
	ld a, h
__LABEL1357:
	pop de
	or d
	push af
	ld l, (ix-8)
	ld h, (ix-7)
	ld de, __LABEL428
	xor a
	call __STREQ
	push af
	ld a, (ix-3)
	sub 3
	sub 1
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1358
	ld a, h
__LABEL1358:
	pop de
	or d
	push af
	ld l, (ix-8)
	ld h, (ix-7)
	ld de, __LABEL431
	xor a
	call __STREQ
	push af
	ld a, (ix-3)
	sub 4
	sub 1
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1359
	ld a, h
__LABEL1359:
	pop de
	or d
	jp z, __LABEL839
	ld (ix-4), 0
	dec (ix-6)
	ld l, (ix-10)
	ld h, (ix-9)
	inc hl
	ld (ix-10), l
	ld (ix-9), h
	ld a, (ix-3)
	push af
	call _KillGhost
	ld l, (ix-10)
	ld h, (ix-9)
	push hl
	call _SetScore
	call _UpdateScreen
__LABEL841:
	call INKEY
	ld de, __LABEL387
	ld a, 1
	call __STRNE
	or a
	jp nz, __LABEL841
	jp __LABEL840
__LABEL839:
	ld l, (ix-8)
	ld h, (ix-7)
	ld de, __LABEL438
	xor a
	call __STREQ
	or a
	jp z, __LABEL843
	xor a
	jp _RunGhostHunter__leave
__LABEL843:
	ld l, (ix-8)
	ld h, (ix-7)
	ld de, __LABEL387
	xor a
	call __STRNE
	or a
	jp z, __LABEL846
	ld (ix-1), 1
	ld (ix-4), 0
__LABEL846:
__LABEL840:
	jp __LABEL837
__LABEL838:
	ld a, (ix-4)
	or a
	jp z, __LABEL848
	ld (ix-1), 1
__LABEL848:
	ld (ix-4), 0
	jp __LABEL827
__LABEL828:
	ld a, (ix-1)
	or a
	jp z, __LABEL849
	dec (ix-2)
	call _ShowBigGhost
	call _ShowCurtain
	ld (ix-1), 0
	jp __LABEL850
__LABEL849:
	inc (ix+5)
	ld a, 99
	cp (ix+5)
	jp nc, __LABEL852
	ld a, 1
	jp _RunGhostHunter__leave
__LABEL852:
	ld a, (ix+5)
	ld h, 10
	call __MODU8_FAST
	or a
	jp nz, __LABEL854
	ld hl, 18
	push hl
	ld hl, _ghostLevelMusic
	push hl
	call _PlayMusic
__LABEL854:
	ld l, (ix-10)
	ld h, (ix-9)
	ld de, 10
	add hl, de
	ld (ix-10), l
	ld (ix-9), h
	ld l, (ix-10)
	ld h, (ix-9)
	push hl
	call _SetScore
	call _ShowCurtain
__LABEL850:
	jp __LABEL825
__LABEL826:
	xor a
_RunGhostHunter__leave:
	ex af, af'
	exx
	ld l, (ix-8)
	ld h, (ix-7)
	call __MEM_FREE
	ex af, af'
	exx
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_ShowBigGhost:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	inc sp
	xor a
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld (ix-1), 1
	jp __LABEL855
__LABEL858:
	ld a, (ix-1)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _bigGhost
	call __ARRAY
	ld e, (hl)
	inc hl
	ld d, (hl)
	ex de, hl
	ld (ix-3), l
	ld (ix-2), h
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 512
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL861
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 1
	push af
	call _SetCell
__LABEL861:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 256
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL863
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 2
	push af
	call _SetCell
__LABEL863:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 128
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL865
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 3
	push af
	call _SetCell
__LABEL865:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 64
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL867
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 4
	push af
	call _SetCell
__LABEL867:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 32
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL869
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 5
	push af
	call _SetCell
__LABEL869:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 16
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL871
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 6
	push af
	call _SetCell
__LABEL871:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 8
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL873
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 7
	push af
	call _SetCell
__LABEL873:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 4
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL875
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 8
	push af
	call _SetCell
__LABEL875:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 2
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL877
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 9
	push af
	call _SetCell
__LABEL877:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, 1
	call __BAND16
	ld a, h
	or l
	jp z, __LABEL879
	ld a, 1
	push af
	ld a, (ix-1)
	push af
	ld a, 10
	push af
	call _SetCell
__LABEL879:
	inc (ix-1)
__LABEL855:
	ld a, 20
	cp (ix-1)
	jp nc, __LABEL858
	call _UpdateScreen
	ld hl, 1
	call __PAUSE
	ld hl, 66
	push hl
	ld hl, _ghostScarySound
	push hl
	call _PlayMusic
	ld hl, 66
	push hl
	ld hl, _ghostScarySound
	push hl
	call _PlayMusic
__LABEL880:
	call INKEY
	ld de, __LABEL387
	ld a, 1
	call __STRNE
	or a
	jp nz, __LABEL880
	ld hl, 80
	call __PAUSE
_ShowBigGhost__leave:
	ld sp, ix
	pop ix
	ret
_DrawGhost:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	ld a, (ix+5)
	or a
	jp nz, __LABEL882
	ld (ix-1), 1
	ld (ix-2), 7
	jp __LABEL883
__LABEL882:
	ld a, (ix+5)
	dec a
	jp nz, __LABEL884
	ld (ix-1), 6
	ld (ix-2), 7
	jp __LABEL885
__LABEL884:
	ld a, (ix+5)
	sub 2
	jp nz, __LABEL886
	ld (ix-1), 3
	ld (ix-2), 1
	jp __LABEL887
__LABEL886:
	ld a, (ix+5)
	sub 3
	jp nz, __LABEL888
	ld (ix-1), 4
	ld (ix-2), 15
	jp __LABEL889
__LABEL888:
	ld (ix-1), 4
	ld (ix-2), 7
__LABEL889:
__LABEL887:
__LABEL885:
__LABEL883:
	ld a, 1
	push af
	ld a, (ix-2)
	add a, 5
	push af
	ld a, (ix-2)
	push af
	ld a, (ix-1)
	add a, 4
	push af
	ld a, (ix-1)
	push af
	call _FillRect
	xor a
	push af
	ld a, (ix-2)
	push af
	ld a, (ix-1)
	push af
	call _SetCell
	xor a
	push af
	ld a, (ix-2)
	push af
	ld a, (ix-1)
	add a, 4
	push af
	call _SetCell
	xor a
	push af
	ld a, (ix-2)
	inc a
	push af
	ld a, (ix-1)
	inc a
	push af
	call _SetCell
	xor a
	push af
	ld a, (ix-2)
	inc a
	push af
	ld a, (ix-1)
	add a, 3
	push af
	call _SetCell
	xor a
	push af
	ld a, (ix-2)
	add a, 3
	push af
	ld a, (ix-2)
	add a, 3
	push af
	ld a, (ix-1)
	add a, 3
	push af
	ld a, (ix-1)
	inc a
	push af
	call _FillRect
	xor a
	push af
	ld a, (ix-2)
	add a, 5
	push af
	ld a, (ix-1)
	inc a
	push af
	call _SetCell
	xor a
	push af
	ld a, (ix-2)
	add a, 5
	push af
	ld a, (ix-1)
	add a, 3
	push af
	call _SetCell
_DrawGhost__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_KillGhost:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	inc sp
	ld a, (ix+5)
	or a
	jp nz, __LABEL890
	ld (ix-1), 1
	ld (ix-2), 7
	jp __LABEL891
__LABEL890:
	ld a, (ix+5)
	dec a
	jp nz, __LABEL892
	ld (ix-1), 6
	ld (ix-2), 7
	jp __LABEL893
__LABEL892:
	ld a, (ix+5)
	sub 2
	jp nz, __LABEL894
	ld (ix-1), 3
	ld (ix-2), 1
	jp __LABEL895
__LABEL894:
	ld a, (ix+5)
	sub 3
	jp nz, __LABEL896
	ld (ix-1), 4
	ld (ix-2), 15
	jp __LABEL897
__LABEL896:
	ld (ix-1), 4
	ld (ix-2), 7
__LABEL897:
__LABEL895:
__LABEL893:
__LABEL891:
	ld (ix-3), 0
	jp __LABEL898
__LABEL901:
	xor a
	push af
	ld a, (ix-2)
	add a, (ix-3)
	push af
	ld a, (ix-2)
	add a, (ix-3)
	push af
	ld a, (ix-1)
	add a, 4
	push af
	ld a, (ix-1)
	push af
	call _FillRect
	call _UpdateScreen
	ld hl, 233
	push hl
	ld hl, 7
	call __BEEPER
	inc (ix-3)
__LABEL898:
	ld a, 5
	cp (ix-3)
	jp nc, __LABEL901
_KillGhost__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_FindConstructorBottom:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	inc sp
	ld a, (ix+5)
	ld (ix-1), a
	jp __LABEL903
__LABEL906:
	ld (ix-2), 1
	jp __LABEL908
__LABEL911:
	ld a, (ix-1)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld a, (ix-2)
	ld l, a
	add a, a
	sbc a, a
	ld h, a
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	ld a, (hl)
	or a
	jp z, __LABEL914
	ld a, (ix-1)
	ld (ix-3), a
	jp __LABEL910
__LABEL914:
	inc (ix-2)
__LABEL908:
	ld h, (ix-2)
	ld a, 10
	call __LTI8
	or a
	jp z, __LABEL911
__LABEL910:
	inc (ix-1)
__LABEL903:
	ld h, (ix-1)
	ld a, 18
	call __LTI8
	or a
	jp z, __LABEL906
	ld a, (ix-3)
_FindConstructorBottom__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_CheckLine:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	inc sp
	ld (ix-1), 1
	jp __LABEL915
__LABEL918:
	ld a, (ix+5)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix-1)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	ld a, (hl)
	or a
	jp nz, __LABEL921
	xor a
	jp _CheckLine__leave
__LABEL921:
	inc (ix-1)
__LABEL915:
	ld a, 10
	cp (ix-1)
	jp nc, __LABEL918
	xor a
	push af
	ld a, (ix+5)
	push af
	ld a, (ix+5)
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, (ix+5)
	inc a
	push af
	call _FindConstructorBottom
	ld (ix-1), a
	ld h, a
	xor a
	cp h
	jp nc, __LABEL923
	ld a, 255
	push af
	xor a
	push af
	ld a, (ix-1)
	push af
	ld a, (ix+5)
	inc a
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _MoveRect
	ld hl, 9429
	push hl
	ld hl, 0
	call __BEEPER
__LABEL923:
	ld a, 1
_CheckLine__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_RunConstructor:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, -16
	add hl, sp
	ld sp, hl
	ld (hl), 0
	ld bc, 15
	ld d, h
	ld e, l
	inc de
	ldir
	push ix
	pop hl
	ld bc, -4
	add hl, bc
	ex de, hl
	ld hl, __LABEL1360
	ld bc, 1
	ldir
	ld a, (_playedConstructorMusic)
	or a
	jp nz, __LABEL925
	ld a, 1
	ld (_playedConstructorMusic), a
	ld hl, 88
	push hl
	ld hl, _constructorIntroMusic
	push hl
	call _PlayMusic
__LABEL925:
	call _HideNextTitle
	ld l, (ix-14)
	ld h, (ix-13)
	push hl
	call _SetScore
__LABEL926:
	ld a, (ix-4)
	ld h, a
	xor a
	cp h
	jp nc, __LABEL927
	xor a
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, (ix+5)
	ld h, 10
	call __MODU8_FAST
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 5
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	ld (ix-11), a
	ld (ix-9), 0
	ld (ix-6), 5
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, (ix-6)
	inc a
	push af
	ld a, (ix-6)
	dec a
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 19
	push af
	ld a, (ix-6)
	push af
	call _SetCell
	ld a, (ix+5)
	push af
	call _SetLevel
	ld a, (ix-4)
	push af
	call _SetLifes
	call _UpdateScreen
	ld a, (ix+5)
	ld h, 10
	call __DIVU8_FAST
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	push de
	push hl
	ld de, 0
	ld hl, 10
	call __MUL32
	ld bc, 0
	push bc
	ld bc, 150
	push bc
	call __SUB32
	ld a, l
	ld (ix-5), a
__LABEL928:
	ld a, (ix-3)
	sub 1
	sbc a, a
	push af
	ld a, (ix-11)
	ld h, a
	xor a
	cp h
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1361
	ld a, h
__LABEL1361:
	or a
	jp z, __LABEL929
	ld a, (ix-9)
	or a
	jp z, __LABEL931
	xor a
	push af
	ld a, (ix-8)
	push af
	ld a, (ix-7)
	push af
	call _SetCell
	call _UpdateScreen
__LABEL931:
	ld a, 1
	push af
	call _FindConstructorBottom
	ld (ix-2), a
	ld h, a
	ld a, 16
	call __LTI8
	or a
	jp z, __LABEL932
	ld (ix-3), 1
	jp __LABEL929
__LABEL932:
	ld a, 1
	push af
	xor a
	push af
	ld a, (ix-2)
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _MoveRect
	ld (ix-1), 1
	jp __LABEL934
__LABEL937:
	ld a, 1
	push af
	ld a, 1
	push af
	call RND
	push bc
	push de
	push af
	ld a, 084h
	ld de, 00020h
	ld bc, 00000h
	call __MULF
	call __FTOU32REG
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 1
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	push af
	call _SetCell
	inc (ix-1)
__LABEL934:
	ld a, (ix-1)
	push af
	ld a, (ix+5)
	ld h, 10
	call __MODU8_FAST
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	ld bc, 0
	push bc
	ld bc, 10
	push bc
	call __SUB32
	ld a, l
	pop hl
	call __LTI8
	or a
	jp z, __LABEL937
	ld a, (ix-9)
	or a
	jp z, __LABEL940
	ld a, 1
	push af
	ld a, (ix-8)
	push af
	ld a, (ix-7)
	push af
	call _SetCell
__LABEL940:
	ld (ix-16), 0
	ld (ix-15), 0
	call _UpdateScreen
	call _ResetFrameCounter
__LABEL941:
	ld a, (ix-5)
	ld l, a
	ld h, 0
	push hl
	call _Frames
	pop de
	or a
	sbc hl, de
	jp nc, __LABEL942
	ld a, (ix-9)
	or a
	jp z, __LABEL944
	ld a, (ix-8)
	dec a
	sub 1
	sbc a, a
	push af
	ld a, (ix-8)
	dec a
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld a, (ix-7)
	ld l, a
	ld h, 0
	dec hl
	push hl
	ld hl, _screenCells
	call __ARRAY
	pop af
	or (hl)
	jp z, __LABEL945
	ld (ix-9), 0
	ld a, (ix-8)
	push af
	call _CheckLine
	or a
	jp z, __LABEL948
	ld l, (ix-14)
	ld h, (ix-13)
	inc hl
	ld (ix-14), l
	ld (ix-13), h
	ld l, (ix-14)
	ld h, (ix-13)
	push hl
	call _SetScore
	dec (ix-11)
	ld a, (ix-11)
	or a
	jp z, __LABEL942
__LABEL948:
	jp __LABEL946
__LABEL945:
	xor a
	push af
	ld a, (ix-8)
	push af
	ld a, (ix-7)
	push af
	call _SetCell
	dec (ix-8)
	ld a, 1
	push af
	ld a, (ix-8)
	push af
	ld a, (ix-7)
	push af
	call _SetCell
__LABEL946:
	call _UpdateScreen
__LABEL944:
	ld l, (ix-16)
	ld h, (ix-15)
	ld de, 0
	call __EQ16
	push af
	ld l, (ix-16)
	ld h, (ix-15)
	push hl
	call _Frames
	ex de, hl
	pop hl
	or a
	sbc hl, de
	pop de
	sbc a, a
	or d
	jp z, __LABEL952
	ld hl, 57090
	call _MultiKeys
	or a
	jp z, __LABEL953
	ld a, (ix-6)
	sub 2
	jp nz, __LABEL955
	xor a
	push af
	ld a, 20
	push af
	ld a, 19
	push af
	ld a, (ix-6)
	inc a
	push af
	ld a, (ix-6)
	dec a
	push af
	call _FillRect
	dec (ix-6)
	ld a, 1
	push af
	ld a, 19
	push af
	ld a, (ix-6)
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, (ix-6)
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, (ix-6)
	inc a
	push af
	call _SetCell
	ld (ix-12), 1
	jp __LABEL956
__LABEL955:
	ld a, (ix-6)
	sub 10
	jp nz, __LABEL957
	xor a
	push af
	ld a, 255
	push af
	ld a, 20
	push af
	ld a, 19
	push af
	ld a, (ix-6)
	push af
	ld a, (ix-6)
	dec a
	push af
	call _MoveRect
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, (ix-6)
	push af
	call _SetCell
	dec (ix-6)
	ld (ix-12), 1
	jp __LABEL958
__LABEL957:
	ld a, 2
	cp (ix-6)
	jp nc, __LABEL960
	xor a
	push af
	ld a, 255
	push af
	ld a, 20
	push af
	ld a, 19
	push af
	ld a, (ix-6)
	inc a
	push af
	ld a, (ix-6)
	dec a
	push af
	call _MoveRect
	dec (ix-6)
	ld (ix-12), 1
__LABEL960:
__LABEL958:
__LABEL956:
	jp __LABEL954
__LABEL953:
	ld hl, 57089
	call _MultiKeys
	or a
	jp z, __LABEL961
	ld a, (ix-6)
	sub 9
	jp nz, __LABEL963
	xor a
	push af
	ld a, 20
	push af
	ld a, 19
	push af
	ld a, (ix-6)
	inc a
	push af
	ld a, (ix-6)
	dec a
	push af
	call _FillRect
	inc (ix-6)
	ld a, 1
	push af
	ld a, 19
	push af
	ld a, (ix-6)
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, (ix-6)
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, (ix-6)
	dec a
	push af
	call _SetCell
	ld (ix-12), 1
	jp __LABEL964
__LABEL963:
	ld a, (ix-6)
	dec a
	jp nz, __LABEL965
	xor a
	push af
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 19
	push af
	ld a, (ix-6)
	inc a
	push af
	ld a, (ix-6)
	push af
	call _MoveRect
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, (ix-6)
	push af
	call _SetCell
	inc (ix-6)
	ld (ix-12), 1
	jp __LABEL966
__LABEL965:
	ld a, (ix-6)
	cp 9
	jp nc, __LABEL968
	xor a
	push af
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 19
	push af
	ld a, (ix-6)
	inc a
	push af
	ld a, (ix-6)
	dec a
	push af
	call _MoveRect
	inc (ix-6)
	ld (ix-12), 1
__LABEL968:
__LABEL966:
__LABEL964:
	jp __LABEL962
__LABEL961:
	ld hl, 48912
	call _MultiKeys
	or a
	jp z, __LABEL970
	xor a
	jp _RunConstructor__leave
__LABEL970:
__LABEL962:
__LABEL954:
	ld hl, 32513
	call _MultiKeys
	or a
	jp z, __LABEL971
	ld a, (ix-9)
	sub 1
	sbc a, a
	push af
	ld a, (ix-10)
	sub 1
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1362
	ld a, h
__LABEL1362:
	or a
	jp z, __LABEL974
	ld (ix-9), 1
	ld (ix-10), 1
	ld a, (ix-6)
	ld (ix-7), a
	ld (ix-8), 18
	ld a, 1
	push af
	ld a, (ix-8)
	push af
	ld a, (ix-7)
	push af
	call _SetCell
	call _UpdateScreen
__LABEL974:
	jp __LABEL972
__LABEL971:
	ld a, (ix-10)
	or a
	jp z, __LABEL976
	ld (ix-10), 0
__LABEL976:
__LABEL972:
	ld a, (ix-12)
	or a
	jp z, __LABEL978
	ld (ix-12), 0
	call _Frames
	ld de, 4
	add hl, de
	ld (ix-16), l
	ld (ix-15), h
	call _UpdateScreen
__LABEL978:
__LABEL952:
	jp __LABEL941
__LABEL942:
	jp __LABEL928
__LABEL929:
	ld a, (ix-3)
	or a
	jp z, __LABEL979
	dec (ix-4)
	xor a
	push af
	ld a, 19
	push af
	ld a, (ix-6)
	push af
	call _Explode
	call _ShowCurtain
	ld (ix-3), 0
	jp __LABEL980
__LABEL979:
	inc (ix+5)
	ld a, 99
	cp (ix+5)
	jp nc, __LABEL982
	ld a, 1
	jp _RunConstructor__leave
__LABEL982:
	ld a, (ix+5)
	ld h, 10
	call __MODU8_FAST
	or a
	jp nz, __LABEL984
	ld hl, 86
	push hl
	ld hl, _constructorLevelMusic
	push hl
	call _PlayMusic
__LABEL984:
	ld l, (ix-14)
	ld h, (ix-13)
	ld de, 10
	add hl, de
	ld (ix-14), l
	ld (ix-13), h
	ld l, (ix-14)
	ld h, (ix-13)
	push hl
	call _SetScore
	call _ShowCurtain
__LABEL980:
	jp __LABEL926
__LABEL927:
	xor a
_RunConstructor__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_ShowFigure:
	push ix
	ld ix, 0
	add ix, sp
	ld a, (ix+9)
	and 1
	jp z, __LABEL985
	ld a, 1
	push af
	ld a, (ix+7)
	push af
	ld a, (ix+5)
	push af
	call _SetCell
	jp __LABEL986
__LABEL985:
	xor a
	push af
	ld a, (ix+7)
	push af
	ld a, (ix+5)
	push af
	call _SetCell
__LABEL986:
	ld a, (ix+9)
	and 2
	jp z, __LABEL987
	ld a, 1
	push af
	ld a, (ix+7)
	push af
	ld a, (ix+5)
	inc a
	push af
	call _SetCell
	jp __LABEL988
__LABEL987:
	xor a
	push af
	ld a, (ix+7)
	push af
	ld a, (ix+5)
	inc a
	push af
	call _SetCell
__LABEL988:
	ld a, (ix+9)
	and 4
	jp z, __LABEL989
	ld a, 1
	push af
	ld a, (ix+7)
	inc a
	push af
	ld a, (ix+5)
	push af
	call _SetCell
	jp __LABEL990
__LABEL989:
	xor a
	push af
	ld a, (ix+7)
	inc a
	push af
	ld a, (ix+5)
	push af
	call _SetCell
__LABEL990:
	ld a, (ix+9)
	and 8
	jp z, __LABEL991
	ld a, 1
	push af
	ld a, (ix+7)
	inc a
	push af
	ld a, (ix+5)
	inc a
	push af
	call _SetCell
	jp __LABEL992
__LABEL991:
	xor a
	push af
	ld a, (ix+7)
	inc a
	push af
	ld a, (ix+5)
	inc a
	push af
	call _SetCell
__LABEL992:
_ShowFigure__leave:
	ld sp, ix
	pop ix
	exx
	pop hl
	pop bc
	pop bc
	ex (sp), hl
	exx
	ret
_RunMatch:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, -19
	add hl, sp
	ld sp, hl
	ld (hl), 0
	ld bc, 18
	ld d, h
	ld e, l
	inc de
	ldir
	push ix
	pop hl
	ld bc, -3
	add hl, bc
	ex de, hl
	ld hl, __LABEL1363
	ld bc, 1
	ldir
	ld hl, -19
	ld de, __LABEL1364
	ld bc, 3
	call __ALLOC_LOCAL_ARRAY
	push ix
	pop hl
	ld bc, -10
	add hl, bc
	ex de, hl
	ld hl, __LABEL1365
	ld bc, 1
	ldir
	ld a, (_playedMatchMusic)
	or a
	jp nz, __LABEL994
	ld a, 1
	ld (_playedMatchMusic), a
	ld hl, 122
	push hl
	ld hl, _matchIntroMusic
	push hl
	call _PlayMusic
__LABEL994:
	call _HideNextTitle
	ld l, (ix-15)
	ld h, (ix-14)
	push hl
	call _SetScore
__LABEL995:
	ld a, (ix-3)
	ld h, a
	xor a
	cp h
	jp nc, __LABEL996
	xor a
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 14
	push af
	ld a, 13
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, (ix-3)
	push af
	call _SetLifes
	ld a, (ix+5)
	push af
	call _SetLevel
	ld a, (ix+5)
	ld h, 10
	call __MODU8_FAST
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	ld a, l
	ld (ix-1), a
	add a, 10
	ld (ix-11), a
	ld a, (ix-1)
	add a, 6
	ld (ix-9), a
	ld a, (ix+5)
	ld h, 10
	call __DIVU8_FAST
	ld l, a
	ld h, 0
	ld e, h
	ld d, h
	push de
	push hl
	ld de, 0
	ld hl, 5
	call __MUL32
	ld bc, 0
	push bc
	ld bc, 100
	push bc
	call __SUB32
	ld a, l
	ld (ix-4), a
	ld l, (ix-17)
	ld h, (ix-16)
	ld a, 1
	ld (hl), a
	ld l, (ix-17)
	ld h, (ix-16)
	inc hl
	ld a, 1
	ld (hl), a
	ld l, (ix-17)
	ld h, (ix-16)
	inc hl
	inc hl
	ld a, 1
	ld (hl), a
	call RND
	push bc
	push de
	push af
	ld a, (ix-9)
	call __U8TOFREG
	call __MULF
	call __FTOU32REG
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 1
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	ld (ix-5), a
	call RND
	push bc
	push de
	push af
	ld a, (ix-9)
	call __U8TOFREG
	call __MULF
	call __FTOU32REG
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 1
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	ld (ix-6), a
	call RND
	push bc
	push de
	push af
	ld a, (ix-9)
	call __U8TOFREG
	call __MULF
	call __FTOU32REG
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 1
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	ld (ix-7), a
	ld l, (ix-17)
	ld h, (ix-16)
	ld a, (hl)
	push af
	ld a, 16
	push af
	ld a, 2
	push af
	call _ShowFigure
	ld l, (ix-17)
	ld h, (ix-16)
	inc hl
	ld a, (hl)
	push af
	ld a, 16
	push af
	ld a, 5
	push af
	call _ShowFigure
	ld l, (ix-17)
	ld h, (ix-16)
	inc hl
	inc hl
	ld a, (hl)
	push af
	ld a, 16
	push af
	ld a, 8
	push af
	call _ShowFigure
	ld a, (ix-10)
	dec a
	ld h, 3
	call __MUL8_FAST
	add a, 2
	ld (ix-1), a
	ld a, 1
	push af
	ld a, 19
	push af
	ld a, 19
	push af
	ld a, (ix-1)
	inc a
	push af
	ld a, (ix-1)
	push af
	call _FillRect
	ld (ix-8), 0
__LABEL997:
	ld a, (ix-2)
	sub 1
	sbc a, a
	push af
	ld a, (ix-11)
	ld h, a
	xor a
	cp h
	sbc a, a
	ld h, a
	pop af
	or a
	jr z, __LABEL1366
	ld a, h
__LABEL1366:
	or a
	jp z, __LABEL998
	ld a, (ix-8)
	sub 10
	jp nz, __LABEL999
	ld l, (ix-17)
	ld h, (ix-16)
	ld a, (hl)
	sub (ix-5)
	ld d, a
	ld l, (ix-17)
	ld h, (ix-16)
	inc hl
	ld a, (hl)
	sub (ix-6)
	or d
	ld d, a
	ld l, (ix-17)
	ld h, (ix-16)
	inc hl
	inc hl
	ld a, (hl)
	sub (ix-7)
	or d
	jp z, __LABEL1001
	ld (ix-2), 1
	jp __LABEL998
__LABEL1001:
	ld hl, 321
	push hl
	ld hl, 5
	call __BEEPER
	ld hl, 302
	push hl
	ld hl, 6
	call __BEEPER
	ld hl, 283
	push hl
	ld hl, 6
	call __BEEPER
	ld hl, 265
	push hl
	ld hl, 6
	call __BEEPER
	ld hl, 249
	push hl
	ld hl, 7
	call __BEEPER
	ld hl, 233
	push hl
	ld hl, 7
	call __BEEPER
	ld l, (ix-15)
	ld h, (ix-14)
	inc hl
	ld (ix-15), l
	ld (ix-14), h
	ld l, (ix-15)
	ld h, (ix-14)
	push hl
	call _SetScore
	dec (ix-11)
	ld a, (ix-11)
	cp 1
	jp c, __LABEL998
	xor a
	push af
	ld a, (ix-8)
	inc a
	push af
	ld a, (ix-8)
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld (ix-8), 0
	call RND
	push bc
	push de
	push af
	ld a, (ix-9)
	call __U8TOFREG
	call __MULF
	call __FTOU32REG
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 1
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	ld (ix-5), a
	call RND
	push bc
	push de
	push af
	ld a, (ix-9)
	call __U8TOFREG
	call __MULF
	call __FTOU32REG
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 1
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	ld (ix-6), a
	call RND
	push bc
	push de
	push af
	ld a, (ix-9)
	call __U8TOFREG
	call __MULF
	call __FTOU32REG
	push de
	ld b, h
	ld c, l
	ld de, 0
	ld hl, 1
	add hl, bc
	pop bc
	ex de, hl
	adc hl, bc
	ex de, hl
	ld a, l
	ld (ix-7), a
	jp __LABEL1000
__LABEL999:
	ld a, (ix-8)
	or a
	jp z, __LABEL1006
	xor a
	push af
	ld a, (ix-8)
	inc a
	push af
	ld a, (ix-8)
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
__LABEL1006:
__LABEL1000:
	inc (ix-8)
	ld a, (ix-5)
	push af
	ld a, (ix-8)
	push af
	ld a, 2
	push af
	call _ShowFigure
	ld a, (ix-6)
	push af
	ld a, (ix-8)
	push af
	ld a, 5
	push af
	call _ShowFigure
	ld a, (ix-7)
	push af
	ld a, (ix-8)
	push af
	ld a, 8
	push af
	call _ShowFigure
	ld (ix-13), 0
	call _UpdateScreen
	call _ResetFrameCounter
__LABEL1007:
	ld a, (ix-4)
	ld l, a
	ld h, 0
	push hl
	call _Frames
	pop de
	or a
	sbc hl, de
	jp nc, __LABEL1008
	ld a, (ix-13)
	sub 1
	sbc a, a
	push af
	ld a, (ix-13)
	ld l, a
	ld h, 0
	push hl
	call _Frames
	ex de, hl
	pop hl
	or a
	sbc hl, de
	pop de
	sbc a, a
	or d
	jp z, __LABEL1010
	ld hl, 64257
	call _MultiKeys
	or a
	jp z, __LABEL1011
	ld a, (ix-10)
	dec a
	ld h, 3
	call __MUL8_FAST
	add a, 2
	ld (ix-1), a
	xor a
	push af
	ld a, 17
	push af
	ld a, 16
	push af
	ld a, (ix-1)
	inc a
	push af
	ld a, (ix-1)
	push af
	call _FillRect
	ld a, (ix-10)
	ld l, a
	ld h, 0
	dec hl
	push hl
	push ix
	pop hl
	ld de, -19
	add hl, de
	call __ARRAY
	ld a, (hl)
	inc a
	push af
	ld a, (ix-10)
	ld l, a
	ld h, 0
	dec hl
	push hl
	push ix
	pop hl
	ld de, -19
	add hl, de
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-10)
	ld l, a
	ld h, 0
	dec hl
	push hl
	push ix
	pop hl
	ld de, -19
	add hl, de
	call __ARRAY
	ld a, (ix-9)
	cp (hl)
	jp nc, __LABEL1014
	ld a, (ix-10)
	ld l, a
	ld h, 0
	dec hl
	push hl
	push ix
	pop hl
	ld de, -19
	add hl, de
	call __ARRAY
	ld (hl), 1
__LABEL1014:
	ld a, (ix-10)
	ld l, a
	ld h, 0
	dec hl
	push hl
	push ix
	pop hl
	ld de, -19
	add hl, de
	call __ARRAY
	ld a, (hl)
	push af
	ld a, 16
	push af
	ld a, (ix-1)
	push af
	call _ShowFigure
	ld (ix-12), 1
	jp __LABEL1012
__LABEL1011:
	ld hl, 64769
	call _MultiKeys
	or a
	jp z, __LABEL1015
	ld a, (ix-10)
	dec a
	ld h, 3
	call __MUL8_FAST
	add a, 2
	ld (ix-1), a
	xor a
	push af
	ld a, 17
	push af
	ld a, 16
	push af
	ld a, (ix-1)
	inc a
	push af
	ld a, (ix-1)
	push af
	call _FillRect
	ld a, (ix-10)
	ld l, a
	ld h, 0
	dec hl
	push hl
	push ix
	pop hl
	ld de, -19
	add hl, de
	call __ARRAY
	ld a, (hl)
	dec a
	push af
	ld a, (ix-10)
	ld l, a
	ld h, 0
	dec hl
	push hl
	push ix
	pop hl
	ld de, -19
	add hl, de
	call __ARRAY
	pop af
	ld (hl), a
	ld a, (ix-10)
	ld l, a
	ld h, 0
	dec hl
	push hl
	push ix
	pop hl
	ld de, -19
	add hl, de
	call __ARRAY
	ld a, (hl)
	cp 1
	jp nc, __LABEL1018
	ld a, (ix-9)
	push af
	ld a, (ix-10)
	ld l, a
	ld h, 0
	dec hl
	push hl
	push ix
	pop hl
	ld de, -19
	add hl, de
	call __ARRAY
	pop af
	ld (hl), a
__LABEL1018:
	ld a, (ix-10)
	ld l, a
	ld h, 0
	dec hl
	push hl
	push ix
	pop hl
	ld de, -19
	add hl, de
	call __ARRAY
	ld a, (hl)
	push af
	ld a, 16
	push af
	ld a, (ix-1)
	push af
	call _ShowFigure
	ld (ix-12), 1
	jp __LABEL1016
__LABEL1015:
	ld hl, 57090
	call _MultiKeys
	or a
	jp z, __LABEL1019
	ld a, (ix-10)
	dec a
	ld h, 3
	call __MUL8_FAST
	add a, 2
	ld (ix-1), a
	xor a
	push af
	ld a, 19
	push af
	ld a, 19
	push af
	ld a, (ix-1)
	inc a
	push af
	ld a, (ix-1)
	push af
	call _FillRect
	dec (ix-10)
	ld a, (ix-10)
	cp 1
	jp nc, __LABEL1022
	ld (ix-10), 3
__LABEL1022:
	ld a, (ix-10)
	dec a
	ld h, 3
	call __MUL8_FAST
	add a, 2
	ld (ix-1), a
	ld a, 1
	push af
	ld a, 19
	push af
	ld a, 19
	push af
	ld a, (ix-1)
	inc a
	push af
	ld a, (ix-1)
	push af
	call _FillRect
	ld (ix-12), 1
	jp __LABEL1020
__LABEL1019:
	ld hl, 57089
	call _MultiKeys
	or a
	jp z, __LABEL1023
	ld a, (ix-10)
	dec a
	ld h, 3
	call __MUL8_FAST
	add a, 2
	ld (ix-1), a
	xor a
	push af
	ld a, 19
	push af
	ld a, 19
	push af
	ld a, (ix-1)
	inc a
	push af
	ld a, (ix-1)
	push af
	call _FillRect
	inc (ix-10)
	ld a, 3
	cp (ix-10)
	jp nc, __LABEL1026
	ld (ix-10), 1
__LABEL1026:
	ld a, (ix-10)
	dec a
	ld h, 3
	call __MUL8_FAST
	add a, 2
	ld (ix-1), a
	ld a, 1
	push af
	ld a, 19
	push af
	ld a, 19
	push af
	ld a, (ix-1)
	inc a
	push af
	ld a, (ix-1)
	push af
	call _FillRect
	ld (ix-12), 1
	jp __LABEL1024
__LABEL1023:
	ld hl, 48912
	call _MultiKeys
	or a
	jp z, __LABEL1028
	xor a
	jp _RunMatch__leave
__LABEL1028:
__LABEL1024:
__LABEL1020:
__LABEL1016:
__LABEL1012:
	ld a, (ix-12)
	or a
	jp z, __LABEL1030
	ld (ix-12), 0
	call _Frames
	ld de, 6
	add hl, de
	ld a, l
	ld (ix-13), a
	call _UpdateScreen
__LABEL1030:
__LABEL1010:
	ld hl, 32513
	call _MultiKeys
	or a
	jp z, __LABEL1007
__LABEL1008:
	jp __LABEL997
__LABEL998:
	ld a, (ix-2)
	or a
	jp z, __LABEL1033
	dec (ix-3)
	ld a, 1
	push af
	ld a, 16
	push af
	ld a, 2
	push af
	call _Explode
	ld a, 1
	push af
	ld a, 16
	push af
	ld a, 5
	push af
	call _Explode
	ld a, 1
	push af
	ld a, 16
	push af
	ld a, 8
	push af
	call _Explode
	call _ShowCurtain
	ld (ix-2), 0
	jp __LABEL1034
__LABEL1033:
	inc (ix+5)
	ld a, 99
	cp (ix+5)
	jp nc, __LABEL1036
	ld a, 1
	jp _RunMatch__leave
__LABEL1036:
	ld a, (ix+5)
	ld h, 10
	call __MODU8_FAST
	or a
	jp nz, __LABEL1038
	ld hl, 86
	push hl
	ld hl, _matchLevelMusic
	push hl
	call _PlayMusic
__LABEL1038:
	ld l, (ix-15)
	ld h, (ix-14)
	ld de, 10
	add hl, de
	ld (ix-15), l
	ld (ix-14), h
	ld l, (ix-15)
	ld h, (ix-14)
	push hl
	call _SetScore
	call _ShowCurtain
__LABEL1034:
	jp __LABEL995
__LABEL996:
	xor a
_RunMatch__leave:
	ex af, af'
	exx
	ld l, (ix-17)
	ld h, (ix-16)
	call __MEM_FREE
	ex af, af'
	exx
	ld sp, ix
	pop ix
	exx
	pop hl
	ex (sp), hl
	exx
	ret
_ShowChar:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, -8
	add hl, sp
	ld sp, hl
	ld (hl), 0
	ld bc, 7
	ld d, h
	ld e, l
	inc de
	ldir
	ld l, (ix+4)
	ld h, (ix+5)
	push hl
	ld hl, 0
	push hl
	ld hl, 0
	push hl
	xor a
	call __STRSLICE
	ld a, 1
	call __ASC
	ld l, a
	ld h, 0
	ld (ix-8), l
	ld (ix-7), h
	ld l, (ix-8)
	ld h, (ix-7)
	add hl, hl
	add hl, hl
	add hl, hl
	ex de, hl
	ld hl, (_chars)
	add hl, de
	ld (ix-8), l
	ld (ix-7), h
	xor a
	push af
	ld a, 8
	push af
	ld a, 1
	push af
	ld a, 9
	push af
	ld a, 2
	push af
	call _FillRect
	ld a, (ix+7)
	cp 5
	jp nc, __LABEL1039
	ld a, (ix+7)
	add a, a
	ld h, a
	ld a, 10
	sub h
	ld (ix-1), a
	ld a, (ix+7)
	ld (ix-2), a
	ld (ix-5), 1
	jp __LABEL1041
__LABEL1044:
	ld l, (ix-8)
	ld h, (ix-7)
	push hl
	ld a, (ix-5)
	dec a
	ld l, a
	ld h, 0
	ex de, hl
	pop hl
	add hl, de
	ld a, (hl)
	ld (ix-6), a
	ld a, (ix-2)
	ld (ix-4), a
	jp __LABEL1046
__LABEL1049:
	ld a, 8
	sub (ix-4)
	ld h, 1
	or a
	ld b, a
	ld a, h
	jr z, __LABEL1368
__LABEL1367:
	add a, a
	djnz __LABEL1367
__LABEL1368:
	ld (ix-3), a
	ld a, (ix-6)
	and (ix-3)
	jp z, __LABEL1052
	ld a, 1
	push af
	ld a, (ix-5)
	push af
	ld a, (ix-4)
	inc a
	push af
	call _SetCell
__LABEL1052:
	inc (ix-4)
__LABEL1046:
	ld h, (ix-4)
	ld a, (ix-2)
	add a, (ix-1)
	dec a
	cp h
	jp nc, __LABEL1049
	inc (ix-5)
__LABEL1041:
	ld a, 8
	cp (ix-5)
	jp nc, __LABEL1044
	jp __LABEL1040
__LABEL1039:
	ld a, 5
	cp (ix+7)
	jp nc, __LABEL1054
	ld a, 10
	sub (ix+7)
	ld (ix+7), a
	add a, a
	ld h, a
	ld a, 10
	sub h
	ld (ix-1), a
	ld a, (ix+7)
	ld (ix-2), a
	ld (ix-5), 1
	jp __LABEL1055
__LABEL1058:
	ld l, (ix-8)
	ld h, (ix-7)
	push hl
	ld a, (ix-5)
	dec a
	ld l, a
	ld h, 0
	ex de, hl
	pop hl
	add hl, de
	ld a, (hl)
	ld (ix-6), a
	ld a, (ix-2)
	add a, (ix-1)
	dec a
	ld (ix-4), a
	jp __LABEL1060
__LABEL1063:
	ld a, (ix-4)
	dec a
	ld h, 1
	or a
	ld b, a
	ld a, h
	jr z, __LABEL1370
__LABEL1369:
	add a, a
	djnz __LABEL1369
__LABEL1370:
	ld (ix-3), a
	ld a, (ix-6)
	and (ix-3)
	jp z, __LABEL1066
	ld a, 1
	push af
	ld a, (ix-5)
	push af
	ld a, (ix-4)
	inc a
	push af
	call _SetCell
__LABEL1066:
	dec (ix-4)
__LABEL1060:
	ld a, (ix-4)
	cp (ix-2)
	jp nc, __LABEL1063
	inc (ix-5)
__LABEL1055:
	ld a, 8
	cp (ix-5)
	jp nc, __LABEL1058
__LABEL1054:
__LABEL1040:
	ld hl, 2
	call __PAUSE
_ShowChar__leave:
	ex af, af'
	exx
	ld l, (ix+4)
	ld h, (ix+5)
	call __MEM_FREE
	ex af, af'
	exx
	ld sp, ix
	pop ix
	exx
	pop hl
	pop bc
	ex (sp), hl
	exx
	ret
_ScanKeyb:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	inc sp
	call INKEY
	ld d, h
	ld e, l
	ld bc, -3
	call __PSTORE_STR2
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, __LABEL387
	xor a
	call __STRNE
	or a
	jp z, __LABEL1068
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, __LABEL644
	xor a
	call __STREQ
	or a
	jp z, __LABEL1069
	ld hl, _level
	inc (hl)
	ld a, 99
	ld hl, (_level - 1)
	call __LTI8
	or a
	jp z, __LABEL1072
	xor a
	ld (_level), a
__LABEL1072:
	ld a, (_level)
	push af
	call _SetLevel
	call _UpdateScreen
	jp __LABEL1070
__LABEL1069:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, __LABEL428
	xor a
	call __STREQ
	or a
	jp z, __LABEL1073
	ld hl, _level
	dec (hl)
	ld h, 0
	ld a, (_level)
	call __LTI8
	or a
	jp z, __LABEL1076
	ld a, 99
	ld (_level), a
__LABEL1076:
	ld a, (_level)
	push af
	call _SetLevel
	call _UpdateScreen
	jp __LABEL1074
__LABEL1073:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, __LABEL418
	xor a
	call __STREQ
	or a
	jp z, __LABEL1077
	ld (ix-1), 2
	jp __LABEL1078
__LABEL1077:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, __LABEL423
	xor a
	call __STREQ
	or a
	jp z, __LABEL1079
	ld (ix-1), 1
	jp __LABEL1080
__LABEL1079:
	ld l, (ix-3)
	ld h, (ix-2)
	ld de, __LABEL431
	xor a
	call __STREQ
	or a
	jp z, __LABEL1082
	ld (ix-1), 3
__LABEL1082:
__LABEL1080:
__LABEL1078:
__LABEL1074:
__LABEL1070:
__LABEL1068:
	ld a, (ix-1)
_ScanKeyb__leave:
	ex af, af'
	exx
	ld l, (ix-3)
	ld h, (ix-2)
	call __MEM_FREE
	ex af, af'
	exx
	ld sp, ix
	pop ix
	ret
_ShowTetris:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	push hl
	inc sp
	push ix
	pop hl
	ld bc, -4
	add hl, bc
	ex de, hl
	ld hl, __LABEL1371
	ld bc, 1
	ldir
	push ix
	pop hl
	ld bc, -5
	add hl, bc
	ex de, hl
	ld hl, __LABEL1372
	ld bc, 1
	ldir
	xor a
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 19
	push af
	ld a, 19
	push af
	ld a, 4
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 19
	push af
	ld a, 19
	push af
	ld a, 10
	push af
	ld a, 6
	push af
	call _FillRect
__LABEL1083:
	ld a, (ix-1)
	or a
	jp nz, __LABEL1084
	ld a, 1
	push af
	ld a, 9
	push af
	ld a, 4
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 9
	push af
	ld a, 5
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 9
	push af
	ld a, 6
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 5
	push af
	call _SetCell
	ld a, (ix-5)
	push af
	ld hl, __LABEL1085
	call __LOADSTR
	push hl
	call _ShowChar
	ld a, (ix-5)
	add a, (ix-4)
	ld (ix-5), a
	dec a
	sub 1
	sbc a, a
	ld d, a
	ld a, (ix-5)
	sub 9
	sub 1
	sbc a, a
	or d
	jp z, __LABEL1087
	ld a, (ix-4)
	neg
	ld (ix-4), a
__LABEL1087:
	call _UpdateScreen
	ld (ix-2), 9
	jp __LABEL1088
__LABEL1091:
	ld a, 1
	push af
	xor a
	push af
	ld a, (ix-2)
	inc a
	push af
	ld a, (ix-2)
	push af
	ld a, 6
	push af
	ld a, 4
	push af
	call _MoveRect
	ld a, (ix-5)
	push af
	ld hl, __LABEL1085
	call __LOADSTR
	push hl
	call _ShowChar
	ld a, (ix-5)
	add a, (ix-4)
	ld (ix-5), a
	dec a
	sub 1
	sbc a, a
	ld d, a
	ld a, (ix-5)
	sub 9
	sub 1
	sbc a, a
	or d
	jp z, __LABEL1094
	ld a, (ix-4)
	neg
	ld (ix-4), a
__LABEL1094:
	call _UpdateScreen
	call _ResetFrameCounter
__LABEL1095:
	call _Frames
	ld de, 30
	or a
	sbc hl, de
	jp nc, __LABEL1096
	ld a, (ix-5)
	push af
	ld hl, __LABEL1085
	call __LOADSTR
	push hl
	call _ShowChar
	ld a, (ix-5)
	add a, (ix-4)
	ld (ix-5), a
	dec a
	sub 1
	sbc a, a
	ld d, a
	ld a, (ix-5)
	sub 9
	sub 1
	sbc a, a
	or d
	jp z, __LABEL1098
	ld a, (ix-4)
	neg
	ld (ix-4), a
__LABEL1098:
	call _UpdateScreen
	call _ScanKeyb
	ld (ix-3), a
	or a
	jp z, __LABEL1100
	ld a, (ix-3)
	jp _ShowTetris__leave
__LABEL1100:
	jp __LABEL1095
__LABEL1096:
	inc (ix-2)
__LABEL1088:
	ld a, 16
	cp (ix-2)
	jp nc, __LABEL1091
	xor a
	push af
	ld a, 18
	push af
	ld a, 17
	push af
	ld a, 6
	push af
	ld a, 4
	push af
	call _FillRect
	jp __LABEL1083
__LABEL1084:
_ShowTetris__leave:
	ld sp, ix
	pop ix
	ret
_ShowArkanoid:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, -7
	add hl, sp
	ld sp, hl
	ld (hl), 0
	ld bc, 6
	ld d, h
	ld e, l
	inc de
	ldir
	push ix
	pop hl
	ld bc, -4
	add hl, bc
	ex de, hl
	ld hl, __LABEL1373
	ld bc, 1
	ldir
	push ix
	pop hl
	ld bc, -5
	add hl, bc
	ex de, hl
	ld hl, __LABEL1374
	ld bc, 1
	ldir
	xor a
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 11
	push af
	ld a, 9
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
__LABEL1101:
	ld a, (ix-1)
	or a
	jp nz, __LABEL1102
	ld (ix-6), 2
	ld (ix-7), 19
	ld a, 1
	push af
	ld a, (ix-7)
	push af
	ld a, (ix-6)
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, (ix-6)
	inc a
	push af
	ld a, (ix-6)
	dec a
	push af
	call _FillRect
	ld a, (ix-5)
	push af
	ld hl, __LABEL1103
	call __LOADSTR
	push hl
	call _ShowChar
	ld a, (ix-5)
	add a, (ix-4)
	ld (ix-5), a
	dec a
	sub 1
	sbc a, a
	ld d, a
	ld a, (ix-5)
	sub 9
	sub 1
	sbc a, a
	or d
	jp z, __LABEL1105
	ld a, (ix-4)
	neg
	ld (ix-4), a
__LABEL1105:
	call _UpdateScreen
	call _ResetFrameCounter
__LABEL1106:
	call _Frames
	ld de, 30
	or a
	sbc hl, de
	jp c, __LABEL1106
	ld (ix-2), 9
	jp __LABEL1108
__LABEL1111:
	xor a
	push af
	ld a, (ix-7)
	push af
	ld a, (ix-6)
	push af
	call _SetCell
	xor a
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, (ix-6)
	inc a
	push af
	ld a, (ix-6)
	dec a
	push af
	call _FillRect
	inc (ix-6)
	dec (ix-7)
	ld a, 1
	push af
	ld a, (ix-7)
	push af
	ld a, (ix-6)
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, (ix-6)
	inc a
	push af
	ld a, (ix-6)
	dec a
	push af
	call _FillRect
	ld a, (ix-5)
	push af
	ld hl, __LABEL1103
	call __LOADSTR
	push hl
	call _ShowChar
	ld a, (ix-5)
	add a, (ix-4)
	ld (ix-5), a
	dec a
	sub 1
	sbc a, a
	ld d, a
	ld a, (ix-5)
	sub 9
	sub 1
	sbc a, a
	or d
	jp z, __LABEL1114
	ld a, (ix-4)
	neg
	ld (ix-4), a
__LABEL1114:
	call _UpdateScreen
	call _ResetFrameCounter
__LABEL1115:
	call _Frames
	ld de, 30
	or a
	sbc hl, de
	jp nc, __LABEL1116
	ld a, (ix-5)
	push af
	ld hl, __LABEL1103
	call __LOADSTR
	push hl
	call _ShowChar
	ld a, (ix-5)
	add a, (ix-4)
	ld (ix-5), a
	dec a
	sub 1
	sbc a, a
	ld d, a
	ld a, (ix-5)
	sub 9
	sub 1
	sbc a, a
	or d
	jp z, __LABEL1118
	ld a, (ix-4)
	neg
	ld (ix-4), a
__LABEL1118:
	call _UpdateScreen
	call _ScanKeyb
	ld (ix-3), a
	or a
	jp z, __LABEL1120
	ld a, (ix-3)
	jp _ShowArkanoid__leave
__LABEL1120:
	jp __LABEL1115
__LABEL1116:
	inc (ix-2)
__LABEL1108:
	ld a, 15
	cp (ix-2)
	jp nc, __LABEL1111
	xor a
	push af
	ld a, (ix-7)
	push af
	ld a, (ix-6)
	push af
	call _SetCell
	xor a
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, (ix-6)
	inc a
	push af
	ld a, (ix-6)
	dec a
	push af
	call _FillRect
	jp __LABEL1101
__LABEL1102:
_ShowArkanoid__leave:
	ld sp, ix
	pop ix
	ret
_ShowRacing:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	push hl
	inc sp
	push ix
	pop hl
	ld bc, -4
	add hl, bc
	ex de, hl
	ld hl, __LABEL1375
	ld bc, 1
	ldir
	push ix
	pop hl
	ld bc, -5
	add hl, bc
	ex de, hl
	ld hl, __LABEL1376
	ld bc, 1
	ldir
	xor a
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
__LABEL1121:
	ld a, (ix-1)
	or a
	jp nz, __LABEL1122
	ld (ix-2), 1
	jp __LABEL1123
__LABEL1126:
	ld a, (ix-2)
	dec a
	jp nz, __LABEL1128
	xor a
	push af
	ld a, 20
	push af
	ld a, 10
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 3
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 5
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 19
	push af
	ld a, 4
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 18
	push af
	ld a, 18
	push af
	ld a, 5
	push af
	ld a, 3
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 17
	push af
	ld a, 4
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 3
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 5
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 11
	push af
	ld a, 4
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 12
	push af
	ld a, 12
	push af
	ld a, 5
	push af
	ld a, 3
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 13
	push af
	ld a, 4
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 10
	push af
	ld a, 10
	push af
	ld a, 10
	push af
	call _FillRect
	jp __LABEL1129
__LABEL1128:
	ld a, (ix-2)
	cp 4
	sbc a, a
	ld d, a
	ld a, 4
	cp (ix-2)
	sbc a, a
	or d
	jp z, __LABEL1130
	ld a, 1
	push af
	xor a
	push af
	ld a, (ix-2)
	add a, 11
	push af
	ld a, (ix-2)
	add a, 8
	push af
	ld a, 5
	push af
	ld a, 3
	push af
	call _MoveRect
	jp __LABEL1131
__LABEL1130:
	ld a, (ix-2)
	sub 4
	jp nz, __LABEL1133
	ld a, 1
	push af
	xor a
	push af
	ld a, (ix-2)
	add a, 11
	push af
	ld a, (ix-2)
	add a, 8
	push af
	ld a, 5
	push af
	ld a, 3
	push af
	call _MoveRect
	xor a
	push af
	ld a, 3
	push af
	ld a, 20
	push af
	ld a, 17
	push af
	ld a, 5
	push af
	ld a, 3
	push af
	call _MoveRect
__LABEL1133:
__LABEL1131:
__LABEL1129:
	ld a, (ix-5)
	push af
	ld hl, __LABEL1134
	call __LOADSTR
	push hl
	call _ShowChar
	ld a, (ix-5)
	add a, (ix-4)
	ld (ix-5), a
	dec a
	sub 1
	sbc a, a
	ld d, a
	ld a, (ix-5)
	sub 9
	sub 1
	sbc a, a
	or d
	jp z, __LABEL1136
	ld a, (ix-4)
	neg
	ld (ix-4), a
__LABEL1136:
	call _UpdateScreen
	call _ResetFrameCounter
__LABEL1137:
	call _Frames
	ld de, 30
	or a
	sbc hl, de
	jp nc, __LABEL1138
	ld a, (ix-5)
	push af
	ld hl, __LABEL1134
	call __LOADSTR
	push hl
	call _ShowChar
	ld a, (ix-5)
	add a, (ix-4)
	ld (ix-5), a
	dec a
	sub 1
	sbc a, a
	ld d, a
	ld a, (ix-5)
	sub 9
	sub 1
	sbc a, a
	or d
	jp z, __LABEL1140
	ld a, (ix-4)
	neg
	ld (ix-4), a
__LABEL1140:
	call _UpdateScreen
	call _ScanKeyb
	ld (ix-3), a
	or a
	jp z, __LABEL1142
	ld a, (ix-3)
	jp _ShowRacing__leave
__LABEL1142:
	jp __LABEL1137
__LABEL1138:
	inc (ix-2)
__LABEL1123:
	ld a, 8
	cp (ix-2)
	jp nc, __LABEL1126
	xor a
	push af
	ld a, 18
	push af
	ld a, 17
	push af
	ld a, 6
	push af
	ld a, 4
	push af
	call _FillRect
	jp __LABEL1121
__LABEL1122:
_ShowRacing__leave:
	ld sp, ix
	pop ix
	ret
_ShowSnake:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	push hl
	inc sp
	push ix
	pop hl
	ld bc, -4
	add hl, bc
	ex de, hl
	ld hl, __LABEL1377
	ld bc, 1
	ldir
	push ix
	pop hl
	ld bc, -5
	add hl, bc
	ex de, hl
	ld hl, __LABEL1378
	ld bc, 1
	ldir
	xor a
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
__LABEL1143:
	ld a, (ix-1)
	or a
	jp nz, __LABEL1144
	ld (ix-2), 0
	jp __LABEL1145
__LABEL1148:
	ld a, (ix-2)
	or a
	jp nz, __LABEL1150
	xor a
	push af
	ld a, 20
	push af
	ld a, 10
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 10
	push af
	ld a, 10
	push af
	ld a, 10
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 15
	push af
	ld a, 15
	push af
	ld a, 6
	push af
	ld a, 3
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 15
	push af
	ld a, 9
	push af
	call _SetCell
	jp __LABEL1151
__LABEL1150:
	xor a
	push af
	ld a, 1
	push af
	ld a, 15
	push af
	ld a, 15
	push af
	ld a, (ix-2)
	add a, 6
	dec a
	push af
	ld a, (ix-2)
	add a, 3
	dec a
	push af
	call _MoveRect
__LABEL1151:
	ld a, (ix-5)
	push af
	ld hl, __LABEL1152
	call __LOADSTR
	push hl
	call _ShowChar
	ld a, (ix-5)
	add a, (ix-4)
	ld (ix-5), a
	dec a
	sub 1
	sbc a, a
	ld d, a
	ld a, (ix-5)
	sub 9
	sub 1
	sbc a, a
	or d
	jp z, __LABEL1154
	ld a, (ix-4)
	neg
	ld (ix-4), a
__LABEL1154:
	call _UpdateScreen
	call _ResetFrameCounter
__LABEL1155:
	call _Frames
	ld de, 30
	or a
	sbc hl, de
	jp nc, __LABEL1156
	ld a, (ix-5)
	push af
	ld hl, __LABEL1152
	call __LOADSTR
	push hl
	call _ShowChar
	ld a, (ix-5)
	add a, (ix-4)
	ld (ix-5), a
	dec a
	sub 1
	sbc a, a
	ld d, a
	ld a, (ix-5)
	sub 9
	sub 1
	sbc a, a
	or d
	jp z, __LABEL1158
	ld a, (ix-4)
	neg
	ld (ix-4), a
__LABEL1158:
	call _UpdateScreen
	call _ScanKeyb
	ld (ix-3), a
	or a
	jp z, __LABEL1160
	ld a, (ix-3)
	jp _ShowSnake__leave
__LABEL1160:
	jp __LABEL1155
__LABEL1156:
	inc (ix-2)
__LABEL1145:
	ld a, 3
	cp (ix-2)
	jp nc, __LABEL1148
	jp __LABEL1143
__LABEL1144:
_ShowSnake__leave:
	ld sp, ix
	pop ix
	ret
_ShowDestroyer:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	push hl
	inc sp
	push ix
	pop hl
	ld bc, -4
	add hl, bc
	ex de, hl
	ld hl, __LABEL1379
	ld bc, 1
	ldir
	push ix
	pop hl
	ld bc, -5
	add hl, bc
	ex de, hl
	ld hl, __LABEL1380
	ld bc, 1
	ldir
	xor a
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
__LABEL1161:
	ld a, (ix-1)
	or a
	jp nz, __LABEL1162
	ld (ix-2), 0
	jp __LABEL1163
__LABEL1166:
	ld a, (ix-2)
	or a
	jp nz, __LABEL1168
	xor a
	push af
	ld a, 20
	push af
	ld a, 10
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 11
	push af
	ld a, 9
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, 5
	push af
	ld a, 3
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 19
	push af
	ld a, 4
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 18
	push af
	ld a, 4
	push af
	call _SetCell
	jp __LABEL1169
__LABEL1168:
	xor a
	push af
	ld a, 18
	sub (ix-2)
	inc a
	push af
	ld a, 4
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 18
	sub (ix-2)
	push af
	ld a, 4
	push af
	call _SetCell
__LABEL1169:
	ld a, (ix-5)
	push af
	ld hl, __LABEL1170
	call __LOADSTR
	push hl
	call _ShowChar
	ld a, (ix-5)
	add a, (ix-4)
	ld (ix-5), a
	dec a
	sub 1
	sbc a, a
	ld d, a
	ld a, (ix-5)
	sub 9
	sub 1
	sbc a, a
	or d
	jp z, __LABEL1172
	ld a, (ix-4)
	neg
	ld (ix-4), a
__LABEL1172:
	call _UpdateScreen
	call _ResetFrameCounter
__LABEL1173:
	call _Frames
	ld de, 20
	or a
	sbc hl, de
	jp nc, __LABEL1174
	ld a, (ix-5)
	push af
	ld hl, __LABEL1170
	call __LOADSTR
	push hl
	call _ShowChar
	ld a, (ix-5)
	add a, (ix-4)
	ld (ix-5), a
	dec a
	sub 1
	sbc a, a
	ld d, a
	ld a, (ix-5)
	sub 9
	sub 1
	sbc a, a
	or d
	jp z, __LABEL1176
	ld a, (ix-4)
	neg
	ld (ix-4), a
__LABEL1176:
	call _UpdateScreen
	call _ScanKeyb
	ld (ix-3), a
	or a
	jp z, __LABEL1178
	ld a, (ix-3)
	jp _ShowDestroyer__leave
__LABEL1178:
	jp __LABEL1173
__LABEL1174:
	inc (ix-2)
__LABEL1163:
	ld a, 8
	cp (ix-2)
	jp nc, __LABEL1166
	jp __LABEL1161
__LABEL1162:
_ShowDestroyer__leave:
	ld sp, ix
	pop ix
	ret
_ShowConstructor:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	push hl
	inc sp
	push ix
	pop hl
	ld bc, -4
	add hl, bc
	ex de, hl
	ld hl, __LABEL1381
	ld bc, 1
	ldir
	push ix
	pop hl
	ld bc, -5
	add hl, bc
	ex de, hl
	ld hl, __LABEL1382
	ld bc, 1
	ldir
	xor a
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
__LABEL1179:
	ld a, (ix-1)
	or a
	jp nz, __LABEL1180
	ld (ix-2), 0
	jp __LABEL1181
__LABEL1184:
	ld a, (ix-2)
	or a
	jp nz, __LABEL1186
	xor a
	push af
	ld a, 20
	push af
	ld a, 10
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 11
	push af
	ld a, 9
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	xor a
	push af
	ld a, 11
	push af
	ld a, 4
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 20
	push af
	ld a, 5
	push af
	ld a, 3
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 19
	push af
	ld a, 4
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 18
	push af
	ld a, 4
	push af
	call _SetCell
	jp __LABEL1187
__LABEL1186:
	ld a, (ix-2)
	sub 8
	jp nz, __LABEL1188
	xor a
	push af
	ld a, 11
	push af
	ld a, 11
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	jp __LABEL1189
__LABEL1188:
	xor a
	push af
	ld a, 18
	sub (ix-2)
	inc a
	push af
	ld a, 4
	push af
	call _SetCell
	ld a, 1
	push af
	ld a, 18
	sub (ix-2)
	push af
	ld a, 4
	push af
	call _SetCell
__LABEL1189:
__LABEL1187:
	ld a, (ix-5)
	push af
	ld hl, __LABEL1190
	call __LOADSTR
	push hl
	call _ShowChar
	ld a, (ix-5)
	add a, (ix-4)
	ld (ix-5), a
	dec a
	sub 1
	sbc a, a
	ld d, a
	ld a, (ix-5)
	sub 9
	sub 1
	sbc a, a
	or d
	jp z, __LABEL1192
	ld a, (ix-4)
	neg
	ld (ix-4), a
__LABEL1192:
	call _UpdateScreen
	call _ResetFrameCounter
__LABEL1193:
	call _Frames
	ld de, 20
	or a
	sbc hl, de
	jp nc, __LABEL1194
	ld a, (ix-5)
	push af
	ld hl, __LABEL1190
	call __LOADSTR
	push hl
	call _ShowChar
	ld a, (ix-5)
	add a, (ix-4)
	ld (ix-5), a
	dec a
	sub 1
	sbc a, a
	ld d, a
	ld a, (ix-5)
	sub 9
	sub 1
	sbc a, a
	or d
	jp z, __LABEL1196
	ld a, (ix-4)
	neg
	ld (ix-4), a
__LABEL1196:
	call _UpdateScreen
	call _ScanKeyb
	ld (ix-3), a
	or a
	jp z, __LABEL1198
	ld a, (ix-3)
	jp _ShowConstructor__leave
__LABEL1198:
	jp __LABEL1193
__LABEL1194:
	inc (ix-2)
__LABEL1181:
	ld a, 8
	cp (ix-2)
	jp nc, __LABEL1184
	jp __LABEL1179
__LABEL1180:
_ShowConstructor__leave:
	ld sp, ix
	pop ix
	ret
_ShowGhost:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	push hl
	push hl
	inc sp
	push ix
	pop hl
	ld bc, -4
	add hl, bc
	ex de, hl
	ld hl, __LABEL1383
	ld bc, 1
	ldir
	push ix
	pop hl
	ld bc, -5
	add hl, bc
	ex de, hl
	ld hl, __LABEL1384
	ld bc, 1
	ldir
	xor a
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 9
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 20
	push af
	ld a, 19
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
__LABEL1199:
	ld a, (ix-1)
	or a
	jp nz, __LABEL1200
	ld (ix-2), 1
	jp __LABEL1201
__LABEL1204:
	ld a, (ix-2)
	dec a
	sub 1
	sbc a, a
	ld d, a
	ld a, (ix-2)
	sub 3
	sub 1
	sbc a, a
	or d
	jp z, __LABEL1206
	xor a
	push af
	ld a, 18
	push af
	ld a, 11
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	jp __LABEL1207
__LABEL1206:
	ld a, (ix-2)
	sub 2
	jp nz, __LABEL1208
	ld a, 1
	push af
	ld a, 17
	push af
	ld a, 12
	push af
	ld a, 5
	push af
	ld a, 1
	push af
	call _FillRect
	xor a
	push af
	ld a, 12
	push af
	ld a, 1
	push af
	call _SetCell
	xor a
	push af
	ld a, 12
	push af
	ld a, 5
	push af
	call _SetCell
	xor a
	push af
	ld a, 13
	push af
	ld a, 2
	push af
	call _SetCell
	xor a
	push af
	ld a, 13
	push af
	ld a, 4
	push af
	call _SetCell
	xor a
	push af
	ld a, 15
	push af
	ld a, 15
	push af
	ld a, 4
	push af
	ld a, 2
	push af
	call _FillRect
	xor a
	push af
	ld a, 17
	push af
	ld a, 2
	push af
	call _SetCell
	xor a
	push af
	ld a, 17
	push af
	ld a, 4
	push af
	call _SetCell
	jp __LABEL1209
__LABEL1208:
	ld a, (ix-2)
	sub 4
	jp nz, __LABEL1211
	ld a, 1
	push af
	ld a, 17
	push af
	ld a, 12
	push af
	ld a, 10
	push af
	ld a, 6
	push af
	call _FillRect
	xor a
	push af
	ld a, 12
	push af
	ld a, 6
	push af
	call _SetCell
	xor a
	push af
	ld a, 12
	push af
	ld a, 10
	push af
	call _SetCell
	xor a
	push af
	ld a, 13
	push af
	ld a, 7
	push af
	call _SetCell
	xor a
	push af
	ld a, 13
	push af
	ld a, 9
	push af
	call _SetCell
	xor a
	push af
	ld a, 15
	push af
	ld a, 15
	push af
	ld a, 9
	push af
	ld a, 7
	push af
	call _FillRect
	xor a
	push af
	ld a, 17
	push af
	ld a, 7
	push af
	call _SetCell
	xor a
	push af
	ld a, 17
	push af
	ld a, 9
	push af
	call _SetCell
__LABEL1211:
__LABEL1209:
__LABEL1207:
	ld a, (ix-5)
	push af
	ld hl, __LABEL1212
	call __LOADSTR
	push hl
	call _ShowChar
	ld a, (ix-5)
	add a, (ix-4)
	ld (ix-5), a
	dec a
	sub 1
	sbc a, a
	ld d, a
	ld a, (ix-5)
	sub 9
	sub 1
	sbc a, a
	or d
	jp z, __LABEL1214
	ld a, (ix-4)
	neg
	ld (ix-4), a
__LABEL1214:
	call _UpdateScreen
	call _ResetFrameCounter
__LABEL1215:
	call _Frames
	ld de, 30
	or a
	sbc hl, de
	jp nc, __LABEL1216
	ld a, (ix-5)
	push af
	ld hl, __LABEL1212
	call __LOADSTR
	push hl
	call _ShowChar
	ld a, (ix-5)
	add a, (ix-4)
	ld (ix-5), a
	dec a
	sub 1
	sbc a, a
	ld d, a
	ld a, (ix-5)
	sub 9
	sub 1
	sbc a, a
	or d
	jp z, __LABEL1218
	ld a, (ix-4)
	neg
	ld (ix-4), a
__LABEL1218:
	call _UpdateScreen
	call _ScanKeyb
	ld (ix-3), a
	or a
	jp z, __LABEL1220
	ld a, (ix-3)
	jp _ShowGhost__leave
__LABEL1220:
	jp __LABEL1215
__LABEL1216:
	inc (ix-2)
__LABEL1201:
	ld a, 4
	cp (ix-2)
	jp nc, __LABEL1204
	jp __LABEL1199
__LABEL1200:
_ShowGhost__leave:
	ld sp, ix
	pop ix
	ret
_ShowMatch:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, -8
	add hl, sp
	ld sp, hl
	ld (hl), 0
	ld bc, 7
	ld d, h
	ld e, l
	inc de
	ldir
	push ix
	pop hl
	ld bc, -7
	add hl, bc
	ex de, hl
	ld hl, __LABEL1385
	ld bc, 1
	ldir
	push ix
	pop hl
	ld bc, -8
	add hl, bc
	ex de, hl
	ld hl, __LABEL1386
	ld bc, 1
	ldir
	xor a
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 9
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
__LABEL1221:
	ld a, (ix-4)
	or a
	jp nz, __LABEL1222
	ld (ix-1), 6
	ld (ix-2), 2
	ld (ix-3), 8
	ld (ix-5), 1
	jp __LABEL1223
__LABEL1226:
	ld a, (ix-1)
	push af
	ld a, 17
	push af
	ld a, 2
	push af
	call _ShowFigure
	ld a, (ix-2)
	push af
	ld a, 17
	push af
	ld a, 5
	push af
	call _ShowFigure
	ld a, (ix-3)
	push af
	ld a, 17
	push af
	ld a, 8
	push af
	call _ShowFigure
	inc (ix-1)
	inc (ix-2)
	inc (ix-3)
	ld a, (ix-8)
	push af
	ld hl, __LABEL1228
	call __LOADSTR
	push hl
	call _ShowChar
	ld a, (ix-8)
	add a, (ix-7)
	ld (ix-8), a
	dec a
	sub 1
	sbc a, a
	ld d, a
	ld a, (ix-8)
	sub 9
	sub 1
	sbc a, a
	or d
	jp z, __LABEL1230
	ld a, (ix-7)
	neg
	ld (ix-7), a
__LABEL1230:
	call _UpdateScreen
	call _ResetFrameCounter
__LABEL1231:
	call _Frames
	ld de, 30
	or a
	sbc hl, de
	jp nc, __LABEL1232
	ld a, (ix-8)
	push af
	ld hl, __LABEL1228
	call __LOADSTR
	push hl
	call _ShowChar
	ld a, (ix-8)
	add a, (ix-7)
	ld (ix-8), a
	dec a
	sub 1
	sbc a, a
	ld d, a
	ld a, (ix-8)
	sub 9
	sub 1
	sbc a, a
	or d
	jp z, __LABEL1234
	ld a, (ix-7)
	neg
	ld (ix-7), a
__LABEL1234:
	call _UpdateScreen
	call _ScanKeyb
	ld (ix-6), a
	or a
	jp z, __LABEL1236
	ld a, (ix-6)
	jp _ShowMatch__leave
__LABEL1236:
	jp __LABEL1231
__LABEL1232:
	inc (ix-5)
__LABEL1223:
	ld a, 4
	cp (ix-5)
	jp nc, __LABEL1226
	jp __LABEL1221
__LABEL1222:
_ShowMatch__leave:
	ld sp, ix
	pop ix
	ret
_SelectGame:
	push ix
	ld ix, 0
	add ix, sp
	ld hl, 0
	push hl
	inc sp
	call _ShowNextTitle
	xor a
	push af
	xor a
	push af
	call _SetSymbol
	ld a, (_level)
	push af
	call _SetLevel
	call _UpdateScreen
__LABEL1237:
	ld a, (ix-1)
	sub 3
	jp z, __LABEL1238
	ld a, (_game)
	or a
	jp nz, __LABEL1239
	call _ShowTetris
	ld (ix-1), a
	jp __LABEL1240
__LABEL1239:
	ld a, (_game)
	dec a
	jp nz, __LABEL1241
	call _ShowArkanoid
	ld (ix-1), a
	jp __LABEL1242
__LABEL1241:
	ld a, (_game)
	sub 2
	jp nz, __LABEL1243
	call _ShowRacing
	ld (ix-1), a
	jp __LABEL1244
__LABEL1243:
	ld a, (_game)
	sub 3
	jp nz, __LABEL1245
	call _ShowSnake
	ld (ix-1), a
	jp __LABEL1246
__LABEL1245:
	ld a, (_game)
	sub 4
	jp nz, __LABEL1247
	call _ShowDestroyer
	ld (ix-1), a
	jp __LABEL1248
__LABEL1247:
	ld a, (_game)
	sub 5
	jp nz, __LABEL1249
	call _ShowGhost
	ld (ix-1), a
	jp __LABEL1250
__LABEL1249:
	ld a, (_game)
	sub 6
	jp nz, __LABEL1251
	call _ShowConstructor
	ld (ix-1), a
	jp __LABEL1252
__LABEL1251:
	ld a, (_game)
	sub 7
	jp nz, __LABEL1254
	call _ShowMatch
	ld (ix-1), a
__LABEL1254:
__LABEL1252:
__LABEL1250:
__LABEL1248:
__LABEL1246:
__LABEL1244:
__LABEL1242:
__LABEL1240:
	ld a, (ix-1)
	dec a
	jp nz, __LABEL1255
	ld hl, _game
	inc (hl)
	ld a, 7
	ld hl, (_game - 1)
	cp h
	jp nc, __LABEL1258
	xor a
	ld (_game), a
__LABEL1258:
	jp __LABEL1256
__LABEL1255:
	ld a, (ix-1)
	sub 2
	jp nz, __LABEL1259
	ld hl, _game
	dec (hl)
	ld a, 7
	ld hl, (_game - 1)
	cp h
	jp nc, __LABEL1262
	ld a, 7
	ld (_game), a
__LABEL1262:
	jp __LABEL1260
__LABEL1259:
	ld a, (ix-1)
	sub 3
	jp nz, __LABEL1264
	xor a
	push af
	ld a, 20
	push af
	ld a, 1
	push af
	ld a, 10
	push af
	ld a, 1
	push af
	call _FillRect
	call _UpdateScreen
	ld a, (_game)
	or a
	jp nz, __LABEL1265
	ld a, (_level)
	push af
	call _RunTetris
	jp _SelectGame__leave
__LABEL1265:
	ld a, (_game)
	dec a
	jp nz, __LABEL1267
	ld a, (_level)
	push af
	call _RunArkanoid
	jp _SelectGame__leave
__LABEL1267:
	ld a, (_game)
	sub 2
	jp nz, __LABEL1269
	ld a, (_level)
	push af
	call _RunRacing
	jp _SelectGame__leave
__LABEL1269:
	ld a, (_game)
	sub 3
	jp nz, __LABEL1271
	ld a, (_level)
	push af
	call _RunSnake
	jp _SelectGame__leave
__LABEL1271:
	ld a, (_game)
	sub 4
	jp nz, __LABEL1273
	ld a, (_level)
	push af
	call _RunDestroyer
	jp _SelectGame__leave
__LABEL1273:
	ld a, (_game)
	sub 5
	jp nz, __LABEL1275
	ld a, (_level)
	push af
	call _RunGhostHunter
	jp _SelectGame__leave
__LABEL1275:
	ld a, (_game)
	sub 6
	jp nz, __LABEL1277
	ld a, (_level)
	push af
	call _RunConstructor
	jp _SelectGame__leave
__LABEL1277:
	ld a, (_game)
	sub 7
	jp nz, __LABEL1280
	ld a, (_level)
	push af
	call _RunMatch
	jp _SelectGame__leave
__LABEL1280:
__LABEL1264:
__LABEL1260:
__LABEL1256:
	jp __LABEL1237
__LABEL1238:
_SelectGame__leave:
	ld sp, ix
	pop ix
	ret
__LABEL15:
	DEFW 000Bh
	DEFB 39h
	DEFB 39h
	DEFB 39h
	DEFB 39h
	DEFB 20h
	DEFB 49h
	DEFB 4Eh
	DEFB 20h
	DEFB 4Fh
	DEFB 4Eh
	DEFB 45h
__LABEL16:
	DEFW 0011h
	DEFB 0A0h
	DEFB 0A1h
	DEFB 0A1h
	DEFB 0A1h
	DEFB 0A1h
	DEFB 0A1h
	DEFB 0A1h
	DEFB 0A1h
	DEFB 0A1h
	DEFB 0A1h
	DEFB 0A1h
	DEFB 0A1h
	DEFB 0A1h
	DEFB 0A1h
	DEFB 0A1h
	DEFB 0A1h
	DEFB 0A0h
__LABEL22:
	DEFW 0011h
	DEFB 0A4h
	DEFB 20h
	DEFB 20h
	DEFB 20h
	DEFB 20h
	DEFB 20h
	DEFB 20h
	DEFB 20h
	DEFB 20h
	DEFB 20h
	DEFB 20h
	DEFB 20h
	DEFB 20h
	DEFB 20h
	DEFB 20h
	DEFB 20h
	DEFB 0A2h
__LABEL23:
	DEFW 0001h
	DEFB 90h
__LABEL24:
	DEFW 0011h
	DEFB 0A0h
	DEFB 0A3h
	DEFB 0A3h
	DEFB 0A3h
	DEFB 0A3h
	DEFB 0A3h
	DEFB 0A3h
	DEFB 0A3h
	DEFB 0A3h
	DEFB 0A3h
	DEFB 0A3h
	DEFB 0A3h
	DEFB 0A3h
	DEFB 0A3h
	DEFB 0A3h
	DEFB 0A3h
	DEFB 0A0h
__LABEL25:
	DEFW 0003h
	DEFB 95h
	DEFB 96h
	DEFB 97h
__LABEL26:
	DEFW 0002h
	DEFB 9Eh
	DEFB 9Fh
__LABEL27:
	DEFW 0003h
	DEFB 9Bh
	DEFB 9Ch
	DEFB 9Dh
__LABEL100:
	DEFW 0002h
	DEFB 20h
	DEFB 20h
__LABEL136:
	DEFW 0001h
	DEFB 30h
__LABEL387:
	DEFW 0000h
__LABEL418:
	DEFW 0001h
	DEFB 6Fh
__LABEL423:
	DEFW 0001h
	DEFB 70h
__LABEL428:
	DEFW 0001h
	DEFB 61h
__LABEL431:
	DEFW 0001h
	DEFB 20h
__LABEL438:
	DEFW 0001h
	DEFB 68h
__LABEL644:
	DEFW 0001h
	DEFB 71h
__LABEL1085:
	DEFW 0001h
	DEFB 41h
__LABEL1103:
	DEFW 0001h
	DEFB 42h
__LABEL1134:
	DEFW 0001h
	DEFB 43h
__LABEL1152:
	DEFW 0001h
	DEFB 44h
__LABEL1170:
	DEFW 0001h
	DEFB 45h
__LABEL1190:
	DEFW 0001h
	DEFB 47h
__LABEL1212:
	DEFW 0001h
	DEFB 46h
__LABEL1228:
	DEFW 0001h
	DEFB 48h
#line 1 "addf.asm"

#line 1 "stackf.asm"

	; -------------------------------------------------------------
	; Functions to manage FP-Stack of the ZX Spectrum ROM CALC
	; -------------------------------------------------------------


	__FPSTACK_PUSH EQU 2AB6h	; Stores an FP number into the ROM FP stack (A, ED CB)
	__FPSTACK_POP  EQU 2BF1h	; Pops an FP number out of the ROM FP stack (A, ED CB)

__FPSTACK_PUSH2: ; Pushes Current A ED CB registers and top of the stack on (SP + 4)
	                 ; Second argument to push into the stack calculator is popped out of the stack
	                 ; Since the caller routine also receives the parameters into the top of the stack
	                 ; four bytes must be removed from SP before pop them out

	    call __FPSTACK_PUSH ; Pushes A ED CB into the FP-STACK
	    exx
	    pop hl       ; Caller-Caller return addr
	    exx
	    pop hl       ; Caller return addr

	    pop af
	    pop de
	    pop bc

	    push hl      ; Caller return addr
	    exx
	    push hl      ; Caller-Caller return addr
	    exx

	    jp __FPSTACK_PUSH


__FPSTACK_I16:	; Pushes 16 bits integer in HL into the FP ROM STACK
					; This format is specified in the ZX 48K Manual
					; You can push a 16 bit signed integer as
					; 0 SS LL HH 0, being SS the sign and LL HH the low
					; and High byte respectively
		ld a, h
		rla			; sign to Carry
		sbc	a, a	; 0 if positive, FF if negative
		ld e, a
		ld d, l
		ld c, h
		xor a
		ld b, a
		jp __FPSTACK_PUSH
#line 2 "addf.asm"

	; -------------------------------------------------------------
	; Floating point library using the FP ROM Calculator (ZX 48K)
	; All of them uses A EDCB registers as 1st paramter.
	; For binary operators, the 2n operator must be pushed into the
	; stack, in the order AF DE BC (F not used).
	;
	; Uses CALLEE convention
	; -------------------------------------------------------------

__ADDF:	; Addition
		call __FPSTACK_PUSH2

		; ------------- ROM ADD
		rst 28h
		defb 0fh	; ADD
		defb 38h;   ; END CALC

		jp __FPSTACK_POP

#line 14369 "Program.zxbas"
#line 1 "array.asm"

; vim: ts=4:et:sw=4:
	; Copyleft (K) by Jose M. Rodriguez de la Rosa
	;  (a.k.a. Boriel)
;  http://www.boriel.com
	; -------------------------------------------------------------------
	; Simple array Index routine
	; Number of total indexes dimensions - 1 at beginning of memory
	; HL = Start of array memory (First two bytes contains N-1 dimensions)
	; Dimension values on the stack, (top of the stack, highest dimension)
	; E.g. A(2, 4) -> PUSH <4>; PUSH <2>

	; For any array of N dimension A(aN-1, ..., a1, a0)
	; and dimensions D[bN-1, ..., b1, b0], the offset is calculated as
	; O = [a0 + b0 * (a1 + b1 * (a2 + ... bN-2(aN-1)))]
; What I will do here is to calculate the following sequence:
	; ((aN-1 * bN-2) + aN-2) * bN-3 + ...


#line 1 "mul16.asm"

__MUL16:	; Mutiplies HL with the last value stored into de stack
				; Works for both signed and unsigned

			PROC

			LOCAL __MUL16LOOP
	        LOCAL __MUL16NOADD

			ex de, hl
			pop hl		; Return address
			ex (sp), hl ; CALLEE caller convention

__MUL16_FAST:
	        ld b, 16
	        ld a, h
	        ld c, l
	        ld hl, 0

__MUL16LOOP:
	        add hl, hl  ; hl << 1
	        sla c
	        rla         ; a,c << 1
	        jp nc, __MUL16NOADD
	        add hl, de

__MUL16NOADD:
	        djnz __MUL16LOOP

			ret	; Result in hl (16 lower bits)

			ENDP

#line 20 "array.asm"

#line 24 "C:/zxbasic/library-asm/array.asm"

__ARRAY_PTR:   ;; computes an array offset from a pointer
	    ld c, (hl)
	    inc hl
	    ld h, (hl)
	    ld l, c

__ARRAY:
		PROC

		LOCAL LOOP
		LOCAL ARRAY_END
		LOCAL RET_ADDRESS ; Stores return address
		LOCAL TMP_ARR_PTR ; Stores pointer temporarily

	    ld e, (hl)
	    inc hl
	    ld d, (hl)
	    inc hl
	    ld (TMP_ARR_PTR), hl
	    ex de, hl
		ex (sp), hl	; Return address in HL, array address in the stack
		ld (RET_ADDRESS + 1), hl ; Stores it for later

		exx
		pop hl		; Will use H'L' as the pointer
		ld c, (hl)	; Loads Number of dimensions from (hl)
		inc hl
		ld b, (hl)
		inc hl		; Ready
		exx

		ld hl, 0	; HL = Offset "accumulator"

LOOP:
#line 62 "C:/zxbasic/library-asm/array.asm"
		pop bc		; Get next index (Ai) from the stack

#line 72 "C:/zxbasic/library-asm/array.asm"

		add hl, bc	; Adds current index

		exx			; Checks if B'C' = 0
		ld a, b		; Which means we must exit (last element is not multiplied by anything)
		or c
		jr z, ARRAY_END		; if B'Ci == 0 we are done

		ld e, (hl)			; Loads next dimension into D'E'
		inc hl
		ld d, (hl)
		inc hl
		push de
		dec bc				; Decrements loop counter
		exx
		pop de				; DE = Max bound Number (i-th dimension)

	    call __FNMUL
		jp LOOP

ARRAY_END:
		ld a, (hl)
		exx

#line 101 "C:/zxbasic/library-asm/array.asm"
	    LOCAL ARRAY_SIZE_LOOP

	    ex de, hl
	    ld hl, 0
	    ld b, a
ARRAY_SIZE_LOOP:
	    add hl, de
	    djnz ARRAY_SIZE_LOOP

#line 111 "C:/zxbasic/library-asm/array.asm"

	    ex de, hl
		ld hl, (TMP_ARR_PTR)
		ld a, (hl)
		inc hl
		ld h, (hl)
		ld l, a
		add hl, de  ; Adds element start

RET_ADDRESS:
		jp 0

	    ;; Performs a faster multiply for little 16bit numbs
	    LOCAL __FNMUL, __FNMUL2

__FNMUL:
	    xor a
	    or h
	    jp nz, __MUL16_FAST
	    or l
	    ret z

	    cp 33
	    jp nc, __MUL16_FAST

	    ld b, l
	    ld l, h  ; HL = 0

__FNMUL2:
	    add hl, de
	    djnz __FNMUL2
	    ret

TMP_ARR_PTR:
	    DW 0  ; temporary storage for pointer to tables

		ENDP

#line 14370 "Program.zxbas"
#line 1 "arrayalloc.asm"


#line 1 "calloc.asm"

; vim: ts=4:et:sw=4:
	; Copyleft (K) by Jose M. Rodriguez de la Rosa
	;  (a.k.a. Boriel)
;  http://www.boriel.com
	;
	; This ASM library is licensed under the MIT license
	; you can use it for any purpose (even for commercial
	; closed source programs).
	;
	; Please read the MIT license on the internet

#line 1 "alloc.asm"

; vim: ts=4:et:sw=4:
	; Copyleft (K) by Jose M. Rodriguez de la Rosa
	;  (a.k.a. Boriel)
;  http://www.boriel.com
	;
	; This ASM library is licensed under the MIT license
	; you can use it for any purpose (even for commercial
	; closed source programs).
	;
	; Please read the MIT license on the internet

	; ----- IMPLEMENTATION NOTES ------
	; The heap is implemented as a linked list of free blocks.

; Each free block contains this info:
	;
	; +----------------+ <-- HEAP START
	; | Size (2 bytes) |
	; |        0       | <-- Size = 0 => DUMMY HEADER BLOCK
	; +----------------+
	; | Next (2 bytes) |---+
	; +----------------+ <-+
	; | Size (2 bytes) |
	; +----------------+
	; | Next (2 bytes) |---+
	; +----------------+   |
	; | <free bytes...>|   | <-- If Size > 4, then this contains (size - 4) bytes
	; | (0 if Size = 4)|   |
	; +----------------+ <-+
	; | Size (2 bytes) |
	; +----------------+
	; | Next (2 bytes) |---+
	; +----------------+   |
	; | <free bytes...>|   |
	; | (0 if Size = 4)|   |
	; +----------------+   |
	;   <Allocated>        | <-- This zone is in use (Already allocated)
	; +----------------+ <-+
	; | Size (2 bytes) |
	; +----------------+
	; | Next (2 bytes) |---+
	; +----------------+   |
	; | <free bytes...>|   |
	; | (0 if Size = 4)|   |
	; +----------------+ <-+
	; | Next (2 bytes) |--> NULL => END OF LIST
	; |    0 = NULL    |
	; +----------------+
	; | <free bytes...>|
	; | (0 if Size = 4)|
	; +----------------+


	; When a block is FREED, the previous and next pointers are examined to see
	; if we can defragment the heap. If the block to be freed is just next to the
	; previous, or to the next (or both) they will be converted into a single
	; block (so defragmented).


	;   MEMORY MANAGER
	;
	; This library must be initialized calling __MEM_INIT with
	; HL = BLOCK Start & DE = Length.

	; An init directive is useful for initialization routines.
	; They will be added automatically if needed.

#line 1 "error.asm"

	; Simple error control routines
; vim:ts=4:et:

	ERR_NR    EQU    23610    ; Error code system variable


	; Error code definitions (as in ZX spectrum manual)

; Set error code with:
	;    ld a, ERROR_CODE
	;    ld (ERR_NR), a


	ERROR_Ok                EQU    -1
	ERROR_SubscriptWrong    EQU     2
	ERROR_OutOfMemory       EQU     3
	ERROR_OutOfScreen       EQU     4
	ERROR_NumberTooBig      EQU     5
	ERROR_InvalidArg        EQU     9
	ERROR_IntOutOfRange     EQU    10
	ERROR_NonsenseInBasic   EQU    11
	ERROR_InvalidFileName   EQU    14
	ERROR_InvalidColour     EQU    19
	ERROR_BreakIntoProgram  EQU    20
	ERROR_TapeLoadingErr    EQU    26


	; Raises error using RST #8
__ERROR:
	    ld (__ERROR_CODE), a
	    rst 8
__ERROR_CODE:
	    nop
	    ret

	; Sets the error system variable, but keeps running.
	; Usually this instruction if followed by the END intermediate instruction.
__STOP:
	    ld (ERR_NR), a
	    ret
#line 69 "alloc.asm"
#line 1 "heapinit.asm"

; vim: ts=4:et:sw=4:
	; Copyleft (K) by Jose M. Rodriguez de la Rosa
	;  (a.k.a. Boriel)
;  http://www.boriel.com
	;
	; This ASM library is licensed under the BSD license
	; you can use it for any purpose (even for commercial
	; closed source programs).
	;
	; Please read the BSD license on the internet

	; ----- IMPLEMENTATION NOTES ------
	; The heap is implemented as a linked list of free blocks.

; Each free block contains this info:
	;
	; +----------------+ <-- HEAP START
	; | Size (2 bytes) |
	; |        0       | <-- Size = 0 => DUMMY HEADER BLOCK
	; +----------------+
	; | Next (2 bytes) |---+
	; +----------------+ <-+
	; | Size (2 bytes) |
	; +----------------+
	; | Next (2 bytes) |---+
	; +----------------+   |
	; | <free bytes...>|   | <-- If Size > 4, then this contains (size - 4) bytes
	; | (0 if Size = 4)|   |
	; +----------------+ <-+
	; | Size (2 bytes) |
	; +----------------+
	; | Next (2 bytes) |---+
	; +----------------+   |
	; | <free bytes...>|   |
	; | (0 if Size = 4)|   |
	; +----------------+   |
	;   <Allocated>        | <-- This zone is in use (Already allocated)
	; +----------------+ <-+
	; | Size (2 bytes) |
	; +----------------+
	; | Next (2 bytes) |---+
	; +----------------+   |
	; | <free bytes...>|   |
	; | (0 if Size = 4)|   |
	; +----------------+ <-+
	; | Next (2 bytes) |--> NULL => END OF LIST
	; |    0 = NULL    |
	; +----------------+
	; | <free bytes...>|
	; | (0 if Size = 4)|
	; +----------------+


	; When a block is FREED, the previous and next pointers are examined to see
	; if we can defragment the heap. If the block to be breed is just next to the
	; previous, or to the next (or both) they will be converted into a single
	; block (so defragmented).


	;   MEMORY MANAGER
	;
	; This library must be initialized calling __MEM_INIT with
	; HL = BLOCK Start & DE = Length.

	; An init directive is useful for initialization routines.
	; They will be added automatically if needed.




	; ---------------------------------------------------------------------
	;  __MEM_INIT must be called to initalize this library with the
	; standard parameters
	; ---------------------------------------------------------------------
__MEM_INIT: ; Initializes the library using (RAMTOP) as start, and
	        ld hl, ZXBASIC_MEM_HEAP  ; Change this with other address of heap start
	        ld de, ZXBASIC_HEAP_SIZE ; Change this with your size

	; ---------------------------------------------------------------------
	;  __MEM_INIT2 initalizes this library
; Parameters:
;   HL : Memory address of 1st byte of the memory heap
;   DE : Length in bytes of the Memory Heap
	; ---------------------------------------------------------------------
__MEM_INIT2:
	        ; HL as TOP
	        PROC

	        dec de
	        dec de
	        dec de
	        dec de        ; DE = length - 4; HL = start
	        ; This is done, because we require 4 bytes for the empty dummy-header block

	        xor a
	        ld (hl), a
	        inc hl
        ld (hl), a ; First "free" block is a header: size=0, Pointer=&(Block) + 4
	        inc hl

	        ld b, h
	        ld c, l
	        inc bc
	        inc bc      ; BC = starts of next block

	        ld (hl), c
	        inc hl
	        ld (hl), b
	        inc hl      ; Pointer to next block

	        ld (hl), e
	        inc hl
	        ld (hl), d
	        inc hl      ; Block size (should be length - 4 at start); This block contains all the available memory

	        ld (hl), a ; NULL (0000h) ; No more blocks (a list with a single block)
	        inc hl
	        ld (hl), a

	        ld a, 201
	        ld (__MEM_INIT), a; "Pokes" with a RET so ensure this routine is not called again
	        ret

	        ENDP

#line 70 "alloc.asm"


	; ---------------------------------------------------------------------
	; MEM_ALLOC
	;  Allocates a block of memory in the heap.
	;
	; Parameters
	;  BC = Length of requested memory block
	;
; Returns:
	;  HL = Pointer to the allocated block in memory. Returns 0 (NULL)
	;       if the block could not be allocated (out of memory)
	; ---------------------------------------------------------------------

MEM_ALLOC:
__MEM_ALLOC: ; Returns the 1st free block found of the given length (in BC)
	        PROC

	        LOCAL __MEM_LOOP
	        LOCAL __MEM_DONE
	        LOCAL __MEM_SUBTRACT
	        LOCAL __MEM_START
	        LOCAL TEMP, TEMP0

	TEMP EQU TEMP0 + 1

	        ld hl, 0
	        ld (TEMP), hl

__MEM_START:
	        ld hl, ZXBASIC_MEM_HEAP  ; This label point to the heap start
	        inc bc
	        inc bc  ; BC = BC + 2 ; block size needs 2 extra bytes for hidden pointer

__MEM_LOOP:  ; Loads lengh at (HL, HL+). If Lenght >= BC, jump to __MEM_DONE
	        ld a, h ;  HL = NULL (No memory available?)
	        or l
#line 111 "C:/zxbasic/library-asm/alloc.asm"
	        ret z ; NULL
#line 113 "C:/zxbasic/library-asm/alloc.asm"
	        ; HL = Pointer to Free block
	        ld e, (hl)
	        inc hl
	        ld d, (hl)
	        inc hl          ; DE = Block Length

	        push hl         ; HL = *pointer to -> next block
	        ex de, hl
	        or a            ; CF = 0
	        sbc hl, bc      ; FREE >= BC (Length)  (HL = BlockLength - Length)
	        jp nc, __MEM_DONE
	        pop hl
	        ld (TEMP), hl

	        ex de, hl
	        ld e, (hl)
	        inc hl
	        ld d, (hl)
	        ex de, hl
	        jp __MEM_LOOP

__MEM_DONE:  ; A free block has been found.
	             ; Check if at least 4 bytes remains free (HL >= 4)
	        push hl
	        exx  ; exx to preserve bc
	        pop hl
	        ld bc, 4
	        or a
	        sbc hl, bc
	        exx
	        jp nc, __MEM_SUBTRACT
	        ; At this point...
	        ; less than 4 bytes remains free. So we return this block entirely
	        ; We must link the previous block with the next to this one
	        ; (DE) => Pointer to next block
	        ; (TEMP) => &(previous->next)
	        pop hl     ; Discard current block pointer
	        push de
	        ex de, hl  ; DE = Previous block pointer; (HL) = Next block pointer
	        ld a, (hl)
	        inc hl
	        ld h, (hl)
	        ld l, a    ; HL = (HL)
	        ex de, hl  ; HL = Previous block pointer; DE = Next block pointer
TEMP0:
	        ld hl, 0   ; Pre-previous block pointer

	        ld (hl), e
	        inc hl
	        ld (hl), d ; LINKED
	        pop hl ; Returning block.

	        ret

__MEM_SUBTRACT:
	        ; At this point we have to store HL value (Length - BC) into (DE - 2)
	        ex de, hl
	        dec hl
	        ld (hl), d
	        dec hl
	        ld (hl), e ; Store new block length

	        add hl, de ; New length + DE => free-block start
	        pop de     ; Remove previous HL off the stack

	        ld (hl), c ; Store length on its 1st word
	        inc hl
	        ld (hl), b
	        inc hl     ; Return hl
	        ret

	        ENDP

#line 13 "calloc.asm"


	; ---------------------------------------------------------------------
	; MEM_CALLOC
	;  Allocates a block of memory in the heap, and clears it filling it
	;  with 0 bytes
	;
	; Parameters
	;  BC = Length of requested memory block
	;
; Returns:
	;  HL = Pointer to the allocated block in memory. Returns 0 (NULL)
	;       if the block could not be allocated (out of memory)
	; ---------------------------------------------------------------------
__MEM_CALLOC:
	        push bc
	        call __MEM_ALLOC
	        pop bc
	        ld a, h
	        or l
	        ret z  ; No memory
	        ld (hl), 0
	        dec bc
	        ld a, b
	        or c
	        ret z  ; Already filled (1 byte-length block)
	        ld d, h
	        ld e, l
	        inc de
	        push hl
	        ldir
	        pop hl
	        ret
#line 3 "arrayalloc.asm"


	; ---------------------------------------------------------------------
	; __ALLOC_LOCAL_ARRAY
	;  Allocates an array element area in the heap, and clears it filling it
	;  with 0 bytes
	;
	; Parameters
	;  HL = Offset to be added to IX => HL = IX + HL
	;  BC = Length of the element area = n.elements * size(element)
	;  DE = PTR to the index table
	;
; Returns:
	;  HL = (IX + HL) + 4
	; ---------------------------------------------------------------------

__ALLOC_LOCAL_ARRAY:
	    push de
	    push ix
	    pop de
	    add hl, de  ; hl = ix + hl
	    pop de
	    ld (hl), e
	    inc hl
	    ld (hl), d
	    inc hl
	    push hl
	    call __MEM_CALLOC
	    pop de
	    ex de, hl
	    ld (hl), e
	    inc hl
	    ld (hl), d
	    ret


	; ---------------------------------------------------------------------
	; __ALLOC_INITIALIZED_LOCAL_ARRAY
	;  Allocates an array element area in the heap, and clears it filling it
	;  with 0 bytes
	;
	; Parameters
	;  HL = Offset to be added to IX => HL = IX + HL
	;  BC = Length of the element area = n.elements * size(element)
	;  DE = PTR to the index table
	;  [SP + 2] = PTR to the element area
	;
; Returns:
	;  HL = (IX + HL) + 4
	; ---------------------------------------------------------------------

__ALLOC_INITIALIZED_LOCAL_ARRAY:
	    push bc
	    call __ALLOC_LOCAL_ARRAY
	    pop bc
	    ;; Swaps [SP], [SP + 2]
	    exx
	    pop hl       ; HL <- RET address
	    ex (sp), hl  ; HL <- Data table, [SP] <- RET address
	    push hl      ; [SP] <- Data table
	    exx
	    ex (sp), hl  ; HL = Data table, (SP) = (IX + HL + 4) - start of array address lbound
	    ; HL = data table
	    ; BC = length
	    ; DE = new data area
	    ldir
	    pop hl  ; HL = addr of LBound area if used
	    ret


#line 137 "C:/zxbasic/library-asm/arrayalloc.asm"
#line 14371 "Program.zxbas"
#line 1 "asc.asm"

	; Returns the ascii code for the given str
#line 1 "free.asm"

; vim: ts=4:et:sw=4:
	; Copyleft (K) by Jose M. Rodriguez de la Rosa
	;  (a.k.a. Boriel)
;  http://www.boriel.com
	;
	; This ASM library is licensed under the BSD license
	; you can use it for any purpose (even for commercial
	; closed source programs).
	;
	; Please read the BSD license on the internet

	; ----- IMPLEMENTATION NOTES ------
	; The heap is implemented as a linked list of free blocks.

; Each free block contains this info:
	;
	; +----------------+ <-- HEAP START
	; | Size (2 bytes) |
	; |        0       | <-- Size = 0 => DUMMY HEADER BLOCK
	; +----------------+
	; | Next (2 bytes) |---+
	; +----------------+ <-+
	; | Size (2 bytes) |
	; +----------------+
	; | Next (2 bytes) |---+
	; +----------------+   |
	; | <free bytes...>|   | <-- If Size > 4, then this contains (size - 4) bytes
	; | (0 if Size = 4)|   |
	; +----------------+ <-+
	; | Size (2 bytes) |
	; +----------------+
	; | Next (2 bytes) |---+
	; +----------------+   |
	; | <free bytes...>|   |
	; | (0 if Size = 4)|   |
	; +----------------+   |
	;   <Allocated>        | <-- This zone is in use (Already allocated)
	; +----------------+ <-+
	; | Size (2 bytes) |
	; +----------------+
	; | Next (2 bytes) |---+
	; +----------------+   |
	; | <free bytes...>|   |
	; | (0 if Size = 4)|   |
	; +----------------+ <-+
	; | Next (2 bytes) |--> NULL => END OF LIST
	; |    0 = NULL    |
	; +----------------+
	; | <free bytes...>|
	; | (0 if Size = 4)|
	; +----------------+


	; When a block is FREED, the previous and next pointers are examined to see
	; if we can defragment the heap. If the block to be breed is just next to the
	; previous, or to the next (or both) they will be converted into a single
	; block (so defragmented).


	;   MEMORY MANAGER
	;
	; This library must be initialized calling __MEM_INIT with
	; HL = BLOCK Start & DE = Length.

	; An init directive is useful for initialization routines.
	; They will be added automatically if needed.



	; ---------------------------------------------------------------------
	; MEM_FREE
	;  Frees a block of memory
	;
; Parameters:
	;  HL = Pointer to the block to be freed. If HL is NULL (0) nothing
	;  is done
	; ---------------------------------------------------------------------

MEM_FREE:
__MEM_FREE: ; Frees the block pointed by HL
	            ; HL DE BC & AF modified
	        PROC

	        LOCAL __MEM_LOOP2
	        LOCAL __MEM_LINK_PREV
	        LOCAL __MEM_JOIN_TEST
	        LOCAL __MEM_BLOCK_JOIN

	        ld a, h
	        or l
	        ret z       ; Return if NULL pointer

	        dec hl
	        dec hl
	        ld b, h
	        ld c, l    ; BC = Block pointer

	        ld hl, ZXBASIC_MEM_HEAP  ; This label point to the heap start

__MEM_LOOP2:
	        inc hl
	        inc hl     ; Next block ptr

	        ld e, (hl)
	        inc hl
	        ld d, (hl) ; Block next ptr
	        ex de, hl  ; DE = &(block->next); HL = block->next

	        ld a, h    ; HL == NULL?
	        or l
	        jp z, __MEM_LINK_PREV; if so, link with previous

	        or a       ; Clear carry flag
	        sbc hl, bc ; Carry if BC > HL => This block if before
	        add hl, bc ; Restores HL, preserving Carry flag
	        jp c, __MEM_LOOP2 ; This block is before. Keep searching PASS the block

	;------ At this point current HL is PAST BC, so we must link (DE) with BC, and HL in BC->next

__MEM_LINK_PREV:    ; Link (DE) with BC, and BC->next with HL
	        ex de, hl
	        push hl
	        dec hl

	        ld (hl), c
	        inc hl
	        ld (hl), b ; (DE) <- BC

	        ld h, b    ; HL <- BC (Free block ptr)
	        ld l, c
	        inc hl     ; Skip block length (2 bytes)
	        inc hl
	        ld (hl), e ; Block->next = DE
	        inc hl
	        ld (hl), d
	        ; --- LINKED ; HL = &(BC->next) + 2

	        call __MEM_JOIN_TEST
	        pop hl

__MEM_JOIN_TEST:   ; Checks for fragmented contiguous blocks and joins them
	                   ; hl = Ptr to current block + 2
	        ld d, (hl)
	        dec hl
	        ld e, (hl)
	        dec hl
	        ld b, (hl) ; Loads block length into BC
	        dec hl
	        ld c, (hl) ;

	        push hl    ; Saves it for later
	        add hl, bc ; Adds its length. If HL == DE now, it must be joined
	        or a
	        sbc hl, de ; If Z, then HL == DE => We must join
	        pop hl
	        ret nz

__MEM_BLOCK_JOIN:  ; Joins current block (pointed by HL) with next one (pointed by DE). HL->length already in BC
	        push hl    ; Saves it for later
	        ex de, hl

	        ld e, (hl) ; DE -> block->next->length
	        inc hl
	        ld d, (hl)
	        inc hl

	        ex de, hl  ; DE = &(block->next)
	        add hl, bc ; HL = Total Length

	        ld b, h
	        ld c, l    ; BC = Total Length

	        ex de, hl
	        ld e, (hl)
	        inc hl
	        ld d, (hl) ; DE = block->next

	        pop hl     ; Recovers Pointer to block
	        ld (hl), c
	        inc hl
	        ld (hl), b ; Length Saved
	        inc hl
	        ld (hl), e
	        inc hl
	        ld (hl), d ; Next saved
	        ret

	        ENDP

#line 3 "asc.asm"

__ASC:
		PROC
		LOCAL __ASC_END

		ex af, af'	; Saves free_mem flag

		ld a, h
		or l
		ret z		; NULL? return

		ld c, (hl)
		inc hl
		ld b, (hl)

		ld a, b
		or c
		jr z, __ASC_END		; No length? return

		inc hl
		ld a, (hl)
	    dec hl

__ASC_END:
		dec hl
		ex af, af'
		or a
		call nz, __MEM_FREE	; Free memory if needed

		ex af, af'	; Recover result

		ret
		ENDP
#line 14372 "Program.zxbas"
#line 1 "band16.asm"

; vim:ts=4:et:
	; FASTCALL bitwise and16 version.
	; result in hl
; __FASTCALL__ version (operands: A, H)
	; Performs 16bit or 16bit and returns the boolean
; Input: HL, DE
; Output: HL <- HL AND DE

__BAND16:
		ld a, h
		and d
	    ld h, a

	    ld a, l
	    and e
	    ld l, a

	    ret

#line 14373 "Program.zxbas"
#line 1 "beeper.asm"

; vim:ts=4:et:sw=4:
	; This is a fast beep routine, but needs parameters
	; codified in a different way.
; See http://www.wearmouth.demon.co.uk/zx82.htm#L03F8

	; Needs pitch on top of the stack
	; HL = duration

__BEEPER:
	    ex de, hl
	    pop hl
	    ex (sp), hl ; CALLEE
	    push ix     ; BEEPER changes IX
	    call 03B5h
	    pop ix
	    ret


#line 14374 "Program.zxbas"
#line 1 "border.asm"

	; __FASTCALL__ Routine to change de border
	; Parameter (color) specified in A register

	BORDER EQU 229Bh

	; Nothing to do! (Directly from the ZX Spectrum ROM)

#line 14375 "Program.zxbas"
#line 1 "bright.asm"

	; Sets bright flag in ATTR_P permanently
; Parameter: Paper color in A register

#line 1 "const.asm"

	; Global constants

	P_FLAG	EQU 23697
	FLAGS2	EQU 23681
	ATTR_P	EQU 23693	; permanet ATTRIBUTES
	ATTR_T	EQU 23695	; temporary ATTRIBUTES
	CHARS	EQU 23606 ; Pointer to ROM/RAM Charset
	UDG	EQU 23675 ; Pointer to UDG Charset
	MEM0	EQU 5C92h ; Temporary memory buffer used by ROM chars

#line 5 "bright.asm"

BRIGHT:
		ld hl, ATTR_P

	    PROC
	    LOCAL IS_TR
	    LOCAL IS_ZERO

__SET_BRIGHT:
		; Another entry. This will set the bright flag at location pointer by DE
		cp 8
		jr z, IS_TR

		; # Convert to 0/1
		or a
		jr z, IS_ZERO
		ld a, 0x40

IS_ZERO:
		ld b, a	; Saves the color
		ld a, (hl)
		and 0BFh ; Clears previous value
		or b
		ld (hl), a
		inc hl
		res 6, (hl)  ;Reset bit 6 to disable transparency
		ret

IS_TR:  ; transparent
		inc hl ; Points DE to MASK_T or MASK_P
	    set 6, (hl)  ;Set bit 6 to enable transparency
		ret

	; Sets the BRIGHT flag passed in A register in the ATTR_T variable
BRIGHT_TMP:
		ld hl, ATTR_T
		jr __SET_BRIGHT
	    ENDP
#line 14376 "Program.zxbas"
#line 1 "chr.asm"

	; CHR$(x, y, x) returns the string CHR$(x) + CHR$(y) + CHR$(z)
	;



CHR:	; Returns HL = Pointer to STRING (NULL if no memory)
			; Requires alloc.asm for dynamic memory heap.
		; Parameters: HL = Number of bytes to insert (already push onto the stack)
			; STACK => parameters (16 bit, only the High byte is considered)
			; Used registers A, A', BC, DE, HL, H'L'

			PROC

			LOCAL __POPOUT
			LOCAL TMP

	TMP		EQU 23629 ; (DEST System variable)

			ld a, h
			or l
			ret z	; If Number of parameters is ZERO, return NULL STRING

			ld b, h
			ld c, l

			pop hl	; Return address
			ld (TMP), hl

			push bc
			inc bc
			inc bc	; BC = BC + 2 => (2 bytes for the length number)
			call __MEM_ALLOC
			pop bc

			ld d, h
			ld e, l			; Saves HL in DE

			ld a, h
			or l
			jr z, __POPOUT	; No Memory, return

			ld (hl), c
			inc hl
			ld (hl), b
			inc hl

__POPOUT:	; Removes out of the stack every byte and return
				; If Zero Flag is set, don't store bytes in memory
			ex af, af' ; Save Zero Flag

			ld a, b
			or c
			jr z, __CHR_END

			dec bc
			pop af 	   ; Next byte

			ex af, af' ; Recovers Zero flag
			jr z, __POPOUT

			ex af, af' ; Saves Zero flag
			ld (hl), a
			inc hl
	        ex af, af' ; Recovers Zero Flag

			jp __POPOUT

__CHR_END:
			ld hl, (TMP)
			push hl		; Restores return addr
			ex de, hl	; Recovers original HL ptr
			ret

			ENDP

#line 14377 "Program.zxbas"
#line 1 "copy_attr.asm"


#line 1 "print.asm"

; vim:ts=4:sw=4:et:
; vim:ts=4:sw=4:et:
	; PRINT command routine
	; Does not print attribute. Use PRINT_STR or PRINT_NUM for that

#line 1 "sposn.asm"

	; Printing positioning library.
			PROC
			LOCAL ECHO_E

__LOAD_S_POSN:		; Loads into DE current ROW, COL print position from S_POSN mem var.
			ld de, (S_POSN)
			ld hl, (MAXX)
			or a
			sbc hl, de
			ex de, hl
			ret


__SAVE_S_POSN:		; Saves ROW, COL from DE into S_POSN mem var.
			ld hl, (MAXX)
			or a
			sbc hl, de
			ld (S_POSN), hl ; saves it again
			ret


	ECHO_E	EQU 23682
	MAXX	EQU ECHO_E   ; Max X position + 1
	MAXY	EQU MAXX + 1 ; Max Y position + 1

	S_POSN	EQU 23688
	POSX	EQU S_POSN		; Current POS X
	POSY	EQU S_POSN + 1	; Current POS Y

			ENDP

#line 7 "print.asm"
#line 1 "cls.asm"

	; JUMPS directly to spectrum CLS
	; This routine does not clear lower screen

	;CLS	EQU	0DAFh

	; Our faster implementation



CLS:
		PROC

		LOCAL COORDS
		LOCAL __CLS_SCR
		LOCAL ATTR_P
		LOCAL SCREEN

		ld hl, 0
		ld (COORDS), hl
	    ld hl, 1821h
		ld (S_POSN), hl
__CLS_SCR:
		ld hl, SCREEN
		ld (hl), 0
		ld d, h
		ld e, l
		inc de
		ld bc, 6144
		ldir

		; Now clear attributes

		ld a, (ATTR_P)
		ld (hl), a
		ld bc, 767
		ldir
		ret

	COORDS	EQU	23677
	SCREEN	EQU 16384 ; Default start of the screen (can be changed)
	ATTR_P	EQU 23693
	;you can poke (SCREEN_SCRADDR) to change CLS, DRAW & PRINTing address

	SCREEN_ADDR EQU (__CLS_SCR + 1) ; Address used by print and other screen routines
								    ; to get the start of the screen
		ENDP

#line 8 "print.asm"
#line 1 "in_screen.asm"




__IN_SCREEN:
		; Returns NO carry if current coords (D, E)
		; are OUT of the screen limits (MAXX, MAXY)

		PROC
		LOCAL __IN_SCREEN_ERR

		ld hl, MAXX
		ld a, e
		cp (hl)
		jr nc, __IN_SCREEN_ERR	; Do nothing and return if out of range

		ld a, d
		inc hl
		cp (hl)
		;; jr nc, __IN_SCREEN_ERR	; Do nothing and return if out of range
		;; ret
	    ret c                       ; Return if carry (OK)

__IN_SCREEN_ERR:
__OUT_OF_SCREEN_ERR:
		; Jumps here if out of screen
		ld a, ERROR_OutOfScreen
	    jp __STOP   ; Saves error code and exits

		ENDP
#line 9 "print.asm"
#line 1 "table_jump.asm"


JUMP_HL_PLUS_2A: ; Does JP (HL + A*2) Modifies DE. Modifies A
		add a, a

JUMP_HL_PLUS_A:	 ; Does JP (HL + A) Modifies DE
		ld e, a
		ld d, 0

JUMP_HL_PLUS_DE: ; Does JP (HL + DE)
		add hl, de
		ld e, (hl)
		inc hl
		ld d, (hl)
		ex de, hl
CALL_HL:
		jp (hl)

#line 10 "print.asm"
#line 1 "ink.asm"

	; Sets ink color in ATTR_P permanently
; Parameter: Paper color in A register



INK:
		PROC
		LOCAL __SET_INK
		LOCAL __SET_INK2

		ld de, ATTR_P

__SET_INK:
		cp 8
		jr nz, __SET_INK2

		inc de ; Points DE to MASK_T or MASK_P
		ld a, (de)
		or 7 ; Set bits 0,1,2 to enable transparency
		ld (de), a
		ret

__SET_INK2:
		; Another entry. This will set the ink color at location pointer by DE
		and 7	; # Gets color mod 8
		ld b, a	; Saves the color
		ld a, (de)
		and 0F8h ; Clears previous value
		or b
		ld (de), a
		inc de ; Points DE to MASK_T or MASK_P
		ld a, (de)
		and 0F8h ; Reset bits 0,1,2 sign to disable transparency
		ld (de), a ; Store new attr
		ret

	; Sets the INK color passed in A register in the ATTR_T variable
INK_TMP:
		ld de, ATTR_T
		jp __SET_INK

		ENDP

#line 11 "print.asm"
#line 1 "paper.asm"

	; Sets paper color in ATTR_P permanently
; Parameter: Paper color in A register



PAPER:
		PROC
		LOCAL __SET_PAPER
		LOCAL __SET_PAPER2

		ld de, ATTR_P

__SET_PAPER:
		cp 8
		jr nz, __SET_PAPER2
		inc de
		ld a, (de)
		or 038h
		ld (de), a
		ret

		; Another entry. This will set the paper color at location pointer by DE
__SET_PAPER2:
		and 7	; # Remove
		rlca
		rlca
		rlca		; a *= 8

		ld b, a	; Saves the color
		ld a, (de)
		and 0C7h ; Clears previous value
		or b
		ld (de), a
		inc de ; Points to MASK_T or MASK_P accordingly
		ld a, (de)
		and 0C7h  ; Resets bits 3,4,5
		ld (de), a
		ret


	; Sets the PAPER color passed in A register in the ATTR_T variable
PAPER_TMP:
		ld de, ATTR_T
		jp __SET_PAPER
		ENDP

#line 12 "print.asm"
#line 1 "flash.asm"

	; Sets flash flag in ATTR_P permanently
; Parameter: Paper color in A register



FLASH:
		ld hl, ATTR_P

	    PROC
	    LOCAL IS_TR
	    LOCAL IS_ZERO

__SET_FLASH:
		; Another entry. This will set the flash flag at location pointer by DE
		cp 8
		jr z, IS_TR

		; # Convert to 0/1
		or a
		jr z, IS_ZERO
		ld a, 0x80

IS_ZERO:
		ld b, a	; Saves the color
		ld a, (hl)
		and 07Fh ; Clears previous value
		or b
		ld (hl), a
		inc hl
		res 7, (hl)  ;Reset bit 7 to disable transparency
		ret

IS_TR:  ; transparent
		inc hl ; Points DE to MASK_T or MASK_P
		set 7, (hl)  ;Set bit 7 to enable transparency
		ret

	; Sets the FLASH flag passed in A register in the ATTR_T variable
FLASH_TMP:
		ld hl, ATTR_T
		jr __SET_FLASH
	    ENDP

#line 13 "print.asm"

#line 1 "over.asm"

	; Sets OVER flag in P_FLAG permanently
; Parameter: OVER flag in bit 0 of A register



OVER:
		PROC

		ld c, a ; saves it for later
		and 2
		ld hl, FLAGS2
		res 1, (HL)
		or (hl)
		ld (hl), a

		ld a, c	; Recovers previous value
		and 1	; # Convert to 0/1
		add a, a; # Shift left 1 bit for permanent

		ld hl, P_FLAG
		res 1, (hl)
		or (hl)
		ld (hl), a
		ret

	; Sets OVER flag in P_FLAG temporarily
OVER_TMP:
		ld c, a ; saves it for later
		and 2	; gets bit 1; clears carry
		rra
		ld hl, FLAGS2
		res 0, (hl)
		or (hl)
		ld (hl), a

		ld a, c	; Recovers previous value
		and 1
		ld hl, P_FLAG
		res 0, (hl)
	    or (hl)
		ld (hl), a
		jp __SET_ATTR_MODE

		ENDP

#line 15 "print.asm"
#line 1 "inverse.asm"

	; Sets INVERSE flag in P_FLAG permanently
; Parameter: INVERSE flag in bit 0 of A register



INVERSE:
		PROC

		and 1	; # Convert to 0/1
		add a, a; # Shift left 3 bits for permanent
		add a, a
		add a, a
		ld hl, P_FLAG
		res 3, (hl)
		or (hl)
		ld (hl), a
		ret

	; Sets INVERSE flag in P_FLAG temporarily
INVERSE_TMP:
		and 1
		add a, a
		add a, a; # Shift left 2 bits for temporary
		ld hl, P_FLAG
		res 2, (hl)
		or (hl)
		ld (hl), a
		jp __SET_ATTR_MODE

		ENDP

#line 16 "print.asm"
#line 1 "bold.asm"

	; Sets BOLD flag in P_FLAG permanently
; Parameter: BOLD flag in bit 0 of A register


BOLD:
		PROC

		and 1
		rlca
	    rlca
	    rlca
		ld hl, FLAGS2
		res 3, (HL)
		or (hl)
		ld (hl), a
		ret

	; Sets BOLD flag in P_FLAG temporarily
BOLD_TMP:
		and 1
		rlca
		rlca
		ld hl, FLAGS2
		res 2, (hl)
		or (hl)
		ld (hl), a
		ret

		ENDP

#line 17 "print.asm"
#line 1 "italic.asm"

	; Sets ITALIC flag in P_FLAG permanently
; Parameter: ITALIC flag in bit 0 of A register


ITALIC:
		PROC

		and 1
	    rrca
	    rrca
	    rrca
		ld hl, FLAGS2
		res 5, (HL)
		or (hl)
		ld (hl), a
		ret

	; Sets ITALIC flag in P_FLAG temporarily
ITALIC_TMP:
		and 1
		rrca
		rrca
		rrca
		rrca
		ld hl, FLAGS2
		res 4, (hl)
		or (hl)
		ld (hl), a
		ret

		ENDP

#line 18 "print.asm"

#line 1 "attr.asm"

	; Attribute routines
; vim:ts=4:et:sw:







__ATTR_ADDR:
	    ; calc start address in DE (as (32 * d) + e)
    ; Contributed by Santiago Romero at http://www.speccy.org
	    ld h, 0                     ;  7 T-States
	    ld a, d                     ;  4 T-States
	    add a, a     ; a * 2        ;  4 T-States
	    add a, a     ; a * 4        ;  4 T-States
	    ld l, a      ; HL = A * 4   ;  4 T-States

	    add hl, hl   ; HL = A * 8   ; 15 T-States
	    add hl, hl   ; HL = A * 16  ; 15 T-States
	    add hl, hl   ; HL = A * 32  ; 15 T-States

    ld d, 18h ; DE = 6144 + E. Note: 6144 is the screen size (before attr zone)
	    add hl, de

	    ld de, (SCREEN_ADDR)    ; Adds the screen address
	    add hl, de

	    ; Return current screen address in HL
	    ret


	; Sets the attribute at a given screen coordinate (D, E).
	; The attribute is taken from the ATTR_T memory variable
	; Used by PRINT routines
SET_ATTR:

	    ; Checks for valid coords
	    call __IN_SCREEN
	    ret nc

__SET_ATTR:
	    ; Internal __FASTCALL__ Entry used by printing routines
	    PROC

	    call __ATTR_ADDR

__SET_ATTR2:  ; Sets attr from ATTR_T to (HL) which points to the scr address
	    ld de, (ATTR_T)    ; E = ATTR_T, D = MASK_T

	    ld a, d
	    and (hl)
	    ld c, a    ; C = current screen color, masked

	    ld a, d
	    cpl        ; Negate mask
	    and e    ; Mask current attributes
	    or c    ; Mix them
	    ld (hl), a ; Store result in screen

	    ret

	    ENDP


	; Sets the attribute at a given screen pixel address in hl
	; HL contains the address in RAM for a given pixel (not a coordinate)
SET_PIXEL_ADDR_ATTR:
	    ;; gets ATTR position with offset given in SCREEN_ADDR
	    ld a, h
	    rrca
	    rrca
	    rrca
	    and 3
	    or 18h
	    ld h, a
	    ld de, (SCREEN_ADDR)
	    add hl, de  ;; Final screen addr
	    jp __SET_ATTR2
#line 20 "print.asm"

	; Putting a comment starting with @INIT <address>
	; will make the compiler to add a CALL to <address>
	; It is useful for initialization routines.


__PRINT_INIT: ; To be called before program starts (initializes library)
	        PROC

	        ld hl, __PRINT_START
	        ld (PRINT_JUMP_STATE), hl

	        ld hl, 1821h
	        ld (MAXX), hl  ; Sets current maxX and maxY

	        xor a
	        ld (FLAGS2), a

	        ret


__PRINTCHAR: ; Print character store in accumulator (A register)
	             ; Modifies H'L', B'C', A'F', D'E', A

	        LOCAL PO_GR_1

	        LOCAL __PRCHAR
	        LOCAL __PRINT_CONT
	        LOCAL __PRINT_CONT2
	        LOCAL __PRINT_JUMP
	        LOCAL __SRCADDR
	        LOCAL __PRINT_UDG
	        LOCAL __PRGRAPH
	        LOCAL __PRINT_START
	        LOCAL __ROM_SCROLL_SCR
	        LOCAL __TVFLAGS

	        __ROM_SCROLL_SCR EQU 0DFEh
	        __TVFLAGS EQU 5C3Ch

	PRINT_JUMP_STATE EQU __PRINT_JUMP + 1

__PRINT_JUMP:
	        jp __PRINT_START    ; Where to jump. If we print 22 (AT), next two calls jumps to AT1 and AT2 respectively


	        LOCAL __SCROLL
__SCROLL:  ; Scroll?
	        ld hl, __TVFLAGS
	        bit 1, (hl)
	        ret z
	        call __ROM_SCROLL_SCR
	        ld hl, __TVFLAGS
	        res 1, (hl)
	        ret
#line 76 "C:/zxbasic/library-asm/print.asm"

__PRINT_START:
	        cp ' '
	        jp c, __PRINT_SPECIAL    ; Characters below ' ' are special ones

	        exx               ; Switch to alternative registers
	        ex af, af'        ; Saves a value (char to print) for later


	        call __SCROLL
#line 87 "C:/zxbasic/library-asm/print.asm"
	        call __LOAD_S_POSN

	; At this point we have the new coord
	        ld hl, (SCREEN_ADDR)

	        ld a, d
	        ld c, a     ; Saves it for later

	        and 0F8h    ; Masks 3 lower bit ; zy
	        ld d, a

	        ld a, c     ; Recovers it
	        and 07h     ; MOD 7 ; y1
	        rrca
	        rrca
	        rrca

	        or e
	        ld e, a
	        add hl, de    ; HL = Screen address + DE
	        ex de, hl     ; DE = Screen address

	        ex af, af'

	        cp 80h    ; Is it an UDG or a ?
	        jp c, __SRCADDR

	        cp 90h
	        jp nc, __PRINT_UDG

	        ; Print a 8 bit pattern (80h to 8Fh)

	        ld b, a
	        call PO_GR_1 ; This ROM routine will generate the bit pattern at MEM0
	        ld hl, MEM0
	        jp __PRGRAPH

	PO_GR_1 EQU 0B38h

__PRINT_UDG:
	        sub 90h ; Sub ASC code
	        ld bc, (UDG)
	        jp __PRGRAPH0

	__SOURCEADDR EQU (__SRCADDR + 1)    ; Address of the pointer to chars source
__SRCADDR:
	        ld bc, (CHARS)

__PRGRAPH0:
        add a, a   ; A = a * 2 (since a < 80h) ; Thanks to Metalbrain at http://foro.speccy.org
	        ld l, a
	        ld h, 0    ; HL = a * 2 (accumulator)
	        add hl, hl
	        add hl, hl ; HL = a * 8
	        add hl, bc ; HL = CHARS address

__PRGRAPH:
	        ex de, hl  ; HL = Write Address, DE = CHARS address
	        bit 2, (iy + $47)
	        call nz, __BOLD
	        bit 4, (iy + $47)
	        call nz, __ITALIC
	        ld b, 8 ; 8 bytes per char
__PRCHAR:
	        ld a, (de) ; DE *must* be ALWAYS source, and HL destiny

PRINT_MODE:     ; Which operation is used to write on the screen
                ; Set it with:
	                ; LD A, <OPERATION>
	                ; LD (PRINT_MODE), A
	                ;
                ; Available opertions:
                ; NORMAL : 0h  --> NOP         ; OVER 0
                ; XOR    : AEh --> XOR (HL)    ; OVER 1
                ; OR     : B6h --> OR (HL)     ; PUTSPRITE
                ; AND    : A6h --> AND (HL)    ; PUTMASK
	        nop     ;

INVERSE_MODE:   ; 00 -> NOP -> INVERSE 0
	        nop     ; 2F -> CPL -> INVERSE 1

	        ld (hl), a

	        inc de
	        inc h     ; Next line
	        djnz __PRCHAR

	        call __LOAD_S_POSN
	        push de
	        call __SET_ATTR
	        pop de
	        inc e            ; COL = COL + 1
	        ld hl, (MAXX)
	        ld a, e
	        dec l            ; l = MAXX
	        cp l            ; Lower than max?
	        jp c, __PRINT_CONT; Nothing to do
	        call __PRINT_EOL1
	        exx            ; counteracts __PRINT_EOL1 exx
	        jp __PRINT_CONT2

__PRINT_CONT:
	        call __SAVE_S_POSN

__PRINT_CONT2:
	        exx
	        ret

	; ------------- SPECIAL CHARS (< 32) -----------------

__PRINT_SPECIAL:    ; Jumps here if it is a special char
	        exx
	        ld hl, __PRINT_TABLE
	        jp JUMP_HL_PLUS_2A


PRINT_EOL:        ; Called WHENEVER there is no ";" at end of PRINT sentence
	        exx

__PRINT_0Dh:        ; Called WHEN printing CHR$(13)

	        call __SCROLL
#line 210 "C:/zxbasic/library-asm/print.asm"
	        call __LOAD_S_POSN

__PRINT_EOL1:        ; Another entry called from PRINT when next line required
	        ld e, 0

__PRINT_EOL2:
	        ld a, d
	        inc a

__PRINT_AT1_END:
	        ld hl, (MAXY)
	        cp l
	        jr c, __PRINT_EOL_END    ; Carry if (MAXY) < d

	        ld hl, __TVFLAGS
	        set 1, (hl)
	        ld a, d
#line 230 "C:/zxbasic/library-asm/print.asm"

__PRINT_EOL_END:
	        ld d, a

__PRINT_AT2_END:
	        call __SAVE_S_POSN
	        exx
	        ret

__PRINT_COM:
	        exx
	        push hl
	        push de
	        push bc
	        call PRINT_COMMA
	        pop bc
	        pop de
	        pop hl
	        ret

__PRINT_TAB:
	        ld hl, __PRINT_TAB1
	        jp __PRINT_SET_STATE

__PRINT_TAB1:
	        ld (MEM0), a
	        ld hl, __PRINT_TAB2
	        ld (PRINT_JUMP_STATE), hl
	        ret

__PRINT_TAB2:
	        ld a, (MEM0)        ; Load tab code (ignore the current one)
	        push hl
	        push de
	        push bc
	        ld hl, __PRINT_START
	        ld (PRINT_JUMP_STATE), hl
	        call PRINT_TAB
	        pop bc
	        pop de
	        pop hl
	        ret

__PRINT_NOP:
__PRINT_RESTART:
	        ld hl, __PRINT_START
	        jp __PRINT_SET_STATE

__PRINT_AT:
	        ld hl, __PRINT_AT1

__PRINT_SET_STATE:
	        ld (PRINT_JUMP_STATE), hl    ; Saves next entry call
	        exx
	        ret

__PRINT_AT1:    ; Jumps here if waiting for 1st parameter
	        exx
	        ld hl, __PRINT_AT2
	        ld (PRINT_JUMP_STATE), hl    ; Saves next entry call
	        call __LOAD_S_POSN
	        jp __PRINT_AT1_END

__PRINT_AT2:
	        exx
	        ld hl, __PRINT_START
	        ld (PRINT_JUMP_STATE), hl    ; Saves next entry call
	        call __LOAD_S_POSN
	        ld e, a
	        ld hl, (MAXX)
	        cp (hl)
	        jr c, __PRINT_AT2_END
	        jr __PRINT_EOL1

__PRINT_DEL:
	        call __LOAD_S_POSN        ; Gets current screen position
	        dec e
	        ld a, -1
	        cp e
	        jp nz, __PRINT_AT2_END
	        ld hl, (MAXX)
	        ld e, l
	        dec e
	        dec e
	        dec d
	        cp d
	        jp nz, __PRINT_AT2_END
	        ld d, h
	        dec d
	        jp __PRINT_AT2_END

__PRINT_INK:
	        ld hl, __PRINT_INK2
	        jp __PRINT_SET_STATE

__PRINT_INK2:
	        exx
	        call INK_TMP
	        jp __PRINT_RESTART

__PRINT_PAP:
	        ld hl, __PRINT_PAP2
	        jp __PRINT_SET_STATE

__PRINT_PAP2:
	        exx
	        call PAPER_TMP
	        jp __PRINT_RESTART

__PRINT_FLA:
	        ld hl, __PRINT_FLA2
	        jp __PRINT_SET_STATE

__PRINT_FLA2:
	        exx
	        call FLASH_TMP
	        jp __PRINT_RESTART

__PRINT_BRI:
	        ld hl, __PRINT_BRI2
	        jp __PRINT_SET_STATE

__PRINT_BRI2:
	        exx
	        call BRIGHT_TMP
	        jp __PRINT_RESTART

__PRINT_INV:
	        ld hl, __PRINT_INV2
	        jp __PRINT_SET_STATE

__PRINT_INV2:
	        exx
	        call INVERSE_TMP
	        jp __PRINT_RESTART

__PRINT_OVR:
	        ld hl, __PRINT_OVR2
	        jp __PRINT_SET_STATE

__PRINT_OVR2:
	        exx
	        call OVER_TMP
	        jp __PRINT_RESTART

__PRINT_BOLD:
	        ld hl, __PRINT_BOLD2
	        jp __PRINT_SET_STATE

__PRINT_BOLD2:
	        exx
	        call BOLD_TMP
	        jp __PRINT_RESTART

__PRINT_ITA:
	        ld hl, __PRINT_ITA2
	        jp __PRINT_SET_STATE

__PRINT_ITA2:
	        exx
	        call ITALIC_TMP
	        jp __PRINT_RESTART


__BOLD:
	        push hl
	        ld hl, MEM0
	        ld b, 8
__BOLD_LOOP:
	        ld a, (de)
	        ld c, a
	        rlca
	        or c
	        ld (hl), a
	        inc hl
	        inc de
	        djnz __BOLD_LOOP
	        pop hl
	        ld de, MEM0
	        ret


__ITALIC:
	        push hl
	        ld hl, MEM0
	        ex de, hl
	        ld bc, 8
	        ldir
	        ld hl, MEM0
	        srl (hl)
	        inc hl
	        srl (hl)
	        inc hl
	        srl (hl)
	        inc hl
	        inc hl
	        inc hl
	        sla (hl)
	        inc hl
	        sla (hl)
	        inc hl
	        sla (hl)
	        pop hl
	        ld de, MEM0
	        ret

PRINT_COMMA:
	        call __LOAD_S_POSN
	        ld a, e
	        and 16
	        add a, 16

PRINT_TAB:
	        PROC
	        LOCAL LOOP, CONTINUE

	        inc a
	        call __LOAD_S_POSN ; e = current row
	        ld d, a
	        ld a, e
	        cp 21h
	        jr nz, CONTINUE
	        ld e, -1
CONTINUE:
	        ld a, d
	        inc e
	        sub e  ; A = A - E
	        and 31 ;
	        ret z  ; Already at position E
	        ld b, a
LOOP:
	        ld a, ' '
	        call __PRINTCHAR
	        djnz LOOP
	        ret
	        ENDP

PRINT_AT: ; Changes cursor to ROW, COL
	         ; COL in A register
	         ; ROW in stack

	        pop hl    ; Ret address
	        ex (sp), hl ; callee H = ROW
	        ld l, a
	        ex de, hl

	        call __IN_SCREEN
	        ret nc    ; Return if out of screen

	        ld hl, __TVFLAGS
	        res 1, (hl)
#line 482 "C:/zxbasic/library-asm/print.asm"
	        jp __SAVE_S_POSN

	        LOCAL __PRINT_COM
	        LOCAL __BOLD
	        LOCAL __BOLD_LOOP
	        LOCAL __ITALIC
	        LOCAL __PRINT_EOL1
	        LOCAL __PRINT_EOL2
	        LOCAL __PRINT_AT1
	        LOCAL __PRINT_AT2
	        LOCAL __PRINT_AT2_END
	        LOCAL __PRINT_BOLD
	        LOCAL __PRINT_BOLD2
	        LOCAL __PRINT_ITA
	        LOCAL __PRINT_ITA2
	        LOCAL __PRINT_INK
	        LOCAL __PRINT_PAP
	        LOCAL __PRINT_SET_STATE
	        LOCAL __PRINT_TABLE
	        LOCAL __PRINT_TAB, __PRINT_TAB1, __PRINT_TAB2

__PRINT_TABLE:    ; Jump table for 0 .. 22 codes

	        DW __PRINT_NOP    ;  0
	        DW __PRINT_NOP    ;  1
	        DW __PRINT_NOP    ;  2
	        DW __PRINT_NOP    ;  3
	        DW __PRINT_NOP    ;  4
	        DW __PRINT_NOP    ;  5
	        DW __PRINT_COM    ;  6 COMMA
	        DW __PRINT_NOP    ;  7
	        DW __PRINT_DEL    ;  8 DEL
	        DW __PRINT_NOP    ;  9
	        DW __PRINT_NOP    ; 10
	        DW __PRINT_NOP    ; 11
	        DW __PRINT_NOP    ; 12
	        DW __PRINT_0Dh    ; 13
	        DW __PRINT_BOLD   ; 14
	        DW __PRINT_ITA    ; 15
	        DW __PRINT_INK    ; 16
	        DW __PRINT_PAP    ; 17
	        DW __PRINT_FLA    ; 18
	        DW __PRINT_BRI    ; 19
	        DW __PRINT_INV    ; 20
	        DW __PRINT_OVR    ; 21
	        DW __PRINT_AT     ; 22 AT
	        DW __PRINT_TAB    ; 23 TAB

	        ENDP


#line 3 "copy_attr.asm"
#line 4 "C:/zxbasic/library-asm/copy_attr.asm"



COPY_ATTR:
		; Just copies current permanent attribs to temporal attribs
		; and sets print mode
		PROC

		LOCAL INVERSE1
		LOCAL __REFRESH_TMP

	INVERSE1 EQU 02Fh

		ld hl, (ATTR_P)
		ld (ATTR_T), hl

		ld hl, FLAGS2
		call __REFRESH_TMP

		ld hl, P_FLAG
		call __REFRESH_TMP


__SET_ATTR_MODE:		; Another entry to set print modes. A contains (P_FLAG)


		LOCAL TABLE
		LOCAL CONT2

		rra					; Over bit to carry
		ld a, (FLAGS2)
		rla					; Over bit in bit 1, Over2 bit in bit 2
		and 3				; Only bit 0 and 1 (OVER flag)

		ld c, a
		ld b, 0

		ld hl, TABLE
		add hl, bc
		ld a, (hl)
		ld (PRINT_MODE), a

		ld hl, (P_FLAG)
		xor a			; NOP -> INVERSE0
		bit 2, l
		jr z, CONT2
		ld a, INVERSE1 	; CPL -> INVERSE1

CONT2:
		ld (INVERSE_MODE), a
		ret

TABLE:
		nop				; NORMAL MODE
		xor (hl)		; OVER 1 MODE
		and (hl)		; OVER 2 MODE
		or  (hl)		; OVER 3 MODE

#line 65 "C:/zxbasic/library-asm/copy_attr.asm"

__REFRESH_TMP:
		ld a, (hl)
		and 10101010b
		ld c, a
		rra
		or c
		ld (hl), a
		ret

		ENDP

#line 14378 "Program.zxbas"
#line 1 "div32.asm"

#line 1 "neg32.asm"

__ABS32:
		bit 7, d
		ret z

__NEG32: ; Negates DEHL (Two's complement)
		ld a, l
		cpl
		ld l, a

		ld a, h
		cpl
		ld h, a

		ld a, e
		cpl
		ld e, a

		ld a, d
		cpl
		ld d, a

		inc l
		ret nz

		inc h
		ret nz

		inc de
		ret

#line 2 "div32.asm"

				 ; ---------------------------------------------------------
__DIVU32:    ; 32 bit unsigned division
	             ; DEHL = Dividend, Stack Top = Divisor
	             ; OPERANDS P = Dividend, Q = Divisor => OPERATION => P / Q
				 ;
				 ; Changes A, BC DE HL B'C' D'E' H'L'
				 ; ---------------------------------------------------------
	        exx
	        pop hl   ; return address
	        pop de   ; low part
	        ex (sp), hl ; CALLEE Convention ; H'L'D'E' => Dividend

__DIVU32START: ; Performs D'E'H'L' / HLDE
	        ; Now switch to DIVIDEND = B'C'BC / DIVISOR = D'E'DE (A / B)
	        push de ; push Lowpart(Q)
			ex de, hl	; DE = HL
	        ld hl, 0
	        exx
	        ld b, h
	        ld c, l
	        pop hl
	        push de
	        ex de, hl
	        ld hl, 0        ; H'L'HL = 0
	        exx
	        pop bc          ; Pop HightPart(B) => B = B'C'BC
	        exx

	        ld a, 32 ; Loop count

__DIV32LOOP:
	        sll c  ; B'C'BC << 1 ; Output most left bit to carry
	        rl  b
	        exx
	        rl c
	        rl b
	        exx

	        adc hl, hl
	        exx
	        adc hl, hl
	        exx

	        sbc hl,de
	        exx
	        sbc hl,de
	        exx
	        jp nc, __DIV32NOADD	; use JP inside a loop for being faster

	        add hl, de
	        exx
	        adc hl, de
	        exx
	        dec bc

__DIV32NOADD:
	        dec a
	        jp nz, __DIV32LOOP	; use JP inside a loop for being faster
	        ; At this point, quotient is stored in B'C'BC and the reminder in H'L'HL

	        push hl
	        exx
	        pop de
	        ex de, hl ; D'E'H'L' = 32 bits modulus
	        push bc
	        exx
	        pop de    ; DE = B'C'
	        ld h, b
	        ld l, c   ; DEHL = quotient D'E'H'L' = Modulus

	        ret     ; DEHL = quotient, D'E'H'L' = Modulus



__MODU32:    ; 32 bit modulus for 32bit unsigned division
	             ; DEHL = Dividend, Stack Top = Divisor (DE, HL)

	        exx
	        pop hl   ; return address
	        pop de   ; low part
	        ex (sp), hl ; CALLEE Convention ; H'L'D'E' => Dividend

	        call __DIVU32START	; At return, modulus is at D'E'H'L'

__MODU32START:

			exx
			push de
			push hl

			exx
			pop hl
			pop de

			ret


__DIVI32:    ; 32 bit signed division
	             ; DEHL = Dividend, Stack Top = Divisor
	             ; A = Dividend, B = Divisor => A / B
	        exx
	        pop hl   ; return address
	        pop de   ; low part
	        ex (sp), hl ; CALLEE Convention ; H'L'D'E' => Dividend

__DIVI32START:
			exx
			ld a, d	 ; Save sign
			ex af, af'
			bit 7, d ; Negative?
			call nz, __NEG32 ; Negates DEHL

			exx		; Now works with H'L'D'E'
			ex af, af'
			xor h
			ex af, af'  ; Stores sign of the result for later

			bit 7, h ; Negative?
			ex de, hl ; HLDE = DEHL
			call nz, __NEG32
			ex de, hl

			call __DIVU32START
			ex af, af' ; Recovers sign
			and 128	   ; positive?
			ret z

			jp __NEG32 ; Negates DEHL and returns from there


__MODI32:	; 32bits signed division modulus
			exx
	        pop hl   ; return address
	        pop de   ; low part
	        ex (sp), hl ; CALLEE Convention ; H'L'D'E' => Dividend

			call __DIVI32START
			jp __MODU32START

#line 14379 "Program.zxbas"
#line 1 "div8.asm"

				; --------------------------------
__DIVU8:	; 8 bit unsigned integer division
				; Divides (Top of stack, High Byte) / A
		pop hl	; --------------------------------
		ex (sp), hl	; CALLEE

__DIVU8_FAST:	; Does A / H
		ld l, h
		ld h, a		; At this point do H / L

		ld b, 8
		xor a		; A = 0, Carry Flag = 0

__DIV8LOOP:
		sla	h
		rla
		cp	l
		jr	c, __DIV8NOSUB
		sub	l
		inc	h

__DIV8NOSUB:
		djnz __DIV8LOOP

		ld	l, a		; save remainder
		ld	a, h		;

		ret			; a = Quotient,


					; --------------------------------
__DIVI8:		; 8 bit signed integer division Divides (Top of stack) / A
		pop hl		; --------------------------------
		ex (sp), hl

__DIVI8_FAST:
		ld e, a		; store operands for later
		ld c, h

		or a		; negative?
		jp p, __DIV8A
		neg			; Make it positive

__DIV8A:
		ex af, af'
		ld a, h
		or a
		jp p, __DIV8B
		neg
		ld h, a		; make it positive

__DIV8B:
		ex af, af'

		call __DIVU8_FAST

		ld a, c
		xor l		; bit 7 of A = 1 if result is negative

		ld a, h		; Quotient
		ret p		; return if positive

		neg
		ret


__MODU8:		; 8 bit module. REturns A mod (Top of stack) (unsigned operands)
		pop hl
		ex (sp), hl	; CALLEE

__MODU8_FAST:	; __FASTCALL__ entry
		call __DIVU8_FAST
		ld a, l		; Remainder

		ret		; a = Modulus


__MODI8:		; 8 bit module. REturns A mod (Top of stack) (For singed operands)
		pop hl
		ex (sp), hl	; CALLEE

__MODI8_FAST:	; __FASTCALL__ entry
		call __DIVI8_FAST
		ld a, l		; remainder

		ret		; a = Modulus

#line 14380 "Program.zxbas"
#line 1 "eq16.asm"

__EQ16:	; Test if 16bit values HL == DE
		; Returns result in A: 0 = False, FF = True
			xor a	; Reset carry flag
			sbc hl, de
			ret nz
			inc a
			ret

#line 14381 "Program.zxbas"

#line 1 "ftou32reg.asm"



__FTOU32REG:	; Converts a Float to (un)signed 32 bit integer (NOTE: It's ALWAYS 32 bit signed)
					; Input FP number in A EDCB (A exponent, EDCB mantissa)
				; Output: DEHL 32 bit number (signed)
		PROC

		LOCAL __IS_FLOAT
		LOCAL __NEGATE

		or a
		jr nz, __IS_FLOAT
		; Here if it is a ZX ROM Integer

		ld h, c
		ld l, d
	ld a, e	 ; Takes sign: FF = -, 0 = +
		ld de, 0
		inc a
		jp z, __NEG32	; Negates if negative
		ret

__IS_FLOAT:  ; Jumps here if it is a true floating point number
		ld h, e
		push hl  ; Stores it for later (Contains Sign in H)

		push de
		push bc

		exx
		pop de   ; Loads mantissa into C'B' E'D'
		pop bc	 ;

		set 7, c ; Highest mantissa bit is always 1
		exx

		ld hl, 0 ; DEHL = 0
		ld d, h
		ld e, l

		;ld a, c  ; Get exponent
		sub 128  ; Exponent -= 128
		jr z, __FTOU32REG_END	; If it was <= 128, we are done (Integers must be > 128)
		jr c, __FTOU32REG_END	; It was decimal (0.xxx). We are done (return 0)

		ld b, a  ; Loop counter = exponent - 128

__FTOU32REG_LOOP:
		exx 	 ; Shift C'B' E'D' << 1, output bit stays in Carry
		sla d
		rl e
		rl b
		rl c

	    exx		 ; Shift DEHL << 1, inserting the carry on the right
		rl l
		rl h
		rl e
		rl d

		djnz __FTOU32REG_LOOP

__FTOU32REG_END:
		pop af   ; Take the sign bit
		or a	 ; Sets SGN bit to 1 if negative
		jp m, __NEGATE ; Negates DEHL

		ret

__NEGATE:
	    exx
	    ld a, d
	    or e
	    or b
	    or c
	    exx
	    jr z, __END
	    inc l
	    jr nz, __END
	    inc h
	    jr nz, __END
	    inc de
	LOCAL __END
__END:
	    jp __NEG32
		ENDP


__FTOU8:	; Converts float in C ED LH to Unsigned byte in A
		call __FTOU32REG
		ld a, l
		ret

#line 14383 "Program.zxbas"
#line 1 "gtf.asm"

#line 1 "u32tofreg.asm"


__I8TOFREG:
		ld l, a
		rlca
		sbc a, a	; A = SGN(A)
		ld h, a
		ld e, a
		ld d, a

__I32TOFREG:	; Converts a 32bit signed integer (stored in DEHL)
					; to a Floating Point Number returned in (A ED CB)

		ld a, d
		or a		; Test sign

		jp p, __U32TOFREG	; It was positive, proceed as 32bit unsigned

		call __NEG32		; Convert it to positive
		call __U32TOFREG	; Convert it to Floating point

		set 7, e			; Put the sign bit (negative) in the 31bit of mantissa
		ret

__U8TOFREG:
					; Converts an unsigned 8 bit (A) to Floating point
		ld l, a
		ld h, 0
		ld e, h
		ld d, h

__U32TOFREG:	; Converts an unsigned 32 bit integer (DEHL)
					; to a Floating point number returned in A ED CB

	    PROC

	    LOCAL __U32TOFREG_END

		ld a, d
		or e
		or h
		or l
	    ld b, d
		ld c, e		; Returns 00 0000 0000 if ZERO
		ret z

		push de
		push hl

		exx
		pop de  ; Loads integer into B'C' D'E'
		pop bc
		exx

		ld l, 128	; Exponent
		ld bc, 0	; DEBC = 0
		ld d, b
		ld e, c

__U32TOFREG_LOOP: ; Also an entry point for __F16TOFREG
		exx
		ld a, d 	; B'C'D'E' == 0 ?
		or e
		or b
		or c
		jp z, __U32TOFREG_END	; We are done

		srl b ; Shift B'C' D'E' >> 1, output bit stays in Carry
		rr c
		rr d
		rr e
		exx

		rr e ; Shift EDCB >> 1, inserting the carry on the left
		rr d
		rr c
		rr b

		inc l	; Increment exponent
		jp __U32TOFREG_LOOP


__U32TOFREG_END:
		exx
	    ld a, l     ; Puts the exponent in a
		res 7, e	; Sets the sign bit to 0 (positive)

		ret
	    ENDP

#line 2 "gtf.asm"



	; -------------------------------------------------------------
	; Floating point library using the FP ROM Calculator (ZX 48K)

	; All of them uses A EDCB registers as 1st paramter.
	; For binary operators, the 2n operator must be pushed into the
	; stack, in the order A DE BC.
	;
	; Uses CALLEE convention
	; -------------------------------------------------------------

__GTF:	; A > B
		call __FPSTACK_PUSH2 ; ENTERS B, A

		; ------------- ROM NOS-GRTR
		ld b, 0Dh	; B < A
		rst 28h
		defb 0Dh	; B < A
		defb 38h;   ; END CALC

		call __FPSTACK_POP
		jp __FTOU8; Convert to 8 bits

#line 14384 "Program.zxbas"

#line 1 "inkey.asm"

	; INKEY Function
	; Returns a string allocated in dynamic memory
	; containing the string.
	; An empty string otherwise.



INKEY:
		PROC
		LOCAL __EMPTY_INKEY
		LOCAL KEY_SCAN
		LOCAL KEY_TEST
		LOCAL KEY_CODE

		ld bc, 3	; 1 char length string
		call __MEM_ALLOC

		ld a, h
		or l
		ret z	; Return if NULL (No memory)

		push hl ; Saves memory pointer

		call KEY_SCAN
		jp nz, __EMPTY_INKEY

		call KEY_TEST
		jp nc, __EMPTY_INKEY

		dec d	; D is expected to be FLAGS so set bit 3 $FF
				; 'L' Mode so no keywords.
		ld e, a	; main key to A
				; C is MODE 0 'KLC' from above still.
		call KEY_CODE ; routine K-DECODE
		pop hl

		ld (hl), 1
		inc hl
		ld (hl), 0
		inc hl
		ld (hl), a
		dec hl
		dec hl	; HL Points to string result
		ret

__EMPTY_INKEY:
		pop hl
		xor a
		ld (hl), a
		inc hl
		ld (hl), a
		dec hl
		ret

	KEY_SCAN	EQU 028Eh
	KEY_TEST	EQU 031Eh
	KEY_CODE	EQU 0333h

		ENDP

#line 14386 "Program.zxbas"
#line 1 "lei32.asm"


#line 1 "sub32.asm"

	; SUB32
	; Perform TOP of the stack - DEHL
	; Pops operand out of the stack (CALLEE)
	; and returns result in DEHL. Carry an Z are set correctly

__SUB32:
		exx
		pop bc		; saves return address in BC'
		exx

		or a        ; clears carry flag
		ld b, h     ; Operands come reversed => BC <- HL,  HL = HL - BC
		ld c, l
		pop hl
		sbc hl, bc
		ex de, hl

		ld b, h	    ; High part (DE) now in HL. Repeat operation
		ld c, l
		pop hl
		sbc hl, bc
		ex de, hl   ; DEHL now has de 32 bit result

		exx
		push bc		; puts return address back
		exx
		ret
#line 3 "lei32.asm"

__LEI32: ; Test 32 bit values Top of the stack <= HL,DE
	    PROC
	    LOCAL checkParity
	    exx
	    pop de ; Preserves return address
	    exx

	    call __SUB32

	    exx
	    push de ; Puts return address back
	    exx

	    ex af, af'
	    ld a, h
	    or l
	    or e
	    or d
	    ld a, 1
	    ret z

	    ex af, af'
	    jp po, checkParity
	    ld a, d
	    xor 0x80
checkParity:
	    ld a, 0     ; False
	    ret p
	    inc a       ; True
	    ret
	    ENDP
#line 14387 "Program.zxbas"
#line 1 "lei8.asm"

__LEI8: ; Signed <= comparison for 8bit int
	        ; A <= H (registers)
	    PROC
	    LOCAL checkParity
	    sub h
	    jr nz, __LTI
	    inc a
	    ret

__LTI8:  ; Test 8 bit values A < H
	    sub h

__LTI:   ; Generic signed comparison
	    jp po, checkParity
	    xor 0x80
checkParity:
	    ld a, 0     ; False
	    ret p
	    inc a       ; True
	    ret
	    ENDP
#line 14388 "Program.zxbas"
#line 1 "loadstr.asm"



	; Loads a string (ptr) from HL
	; and duplicates it on dynamic memory again
	; Finally, it returns result pointer in HL

__ILOADSTR:		; This is the indirect pointer entry HL = (HL)
			ld a, h
			or l
			ret z
			ld a, (hl)
			inc hl
			ld h, (hl)
			ld l, a

__LOADSTR:		; __FASTCALL__ entry
			ld a, h
			or l
			ret z	; Return if NULL

			ld c, (hl)
			inc hl
			ld b, (hl)
			dec hl  ; BC = LEN(a$)

			inc bc
			inc bc	; BC = LEN(a$) + 2 (two bytes for length)

			push hl
			push bc
			call __MEM_ALLOC
			pop bc  ; Recover length
			pop de  ; Recover origin

			ld a, h
			or l
			ret z	; Return if NULL (No memory)

			ex de, hl ; ldir takes HL as source, DE as destiny, so SWAP HL,DE
			push de	; Saves destiny start
			ldir	; Copies string (length number included)
			pop hl	; Recovers destiny in hl as result
			ret
#line 14389 "Program.zxbas"
#line 1 "ltf.asm"





	; -------------------------------------------------------------
	; Floating point library using the FP ROM Calculator (ZX 48K)

	; All of them uses A EDCB registers as 1st paramter.
	; For binary operators, the 2n operator must be pushed into the
	; stack, in the order A HL BC.
	;
	; Uses CALLEE convention
	; -------------------------------------------------------------

__LTF:	; A < B
		call __FPSTACK_PUSH2 ; Enters B, A

		; ------------- ROM NOS-LESS
		ld b, 0Ch	; A > B (Operands stack-reversed)
		rst 28h
		defb 0Ch;	; A > B
		defb 38h;   ; END CALC

		call __FPSTACK_POP
		jp __FTOU8 ; Convert to 8 bits

#line 14390 "Program.zxbas"
#line 1 "lti32.asm"




__LTI32: ; Test 32 bit values in Top of the stack < HLDE
	    PROC
	    LOCAL checkParity
	    exx
	    pop de ; Preserves return address
	    exx

	    call __SUB32

	    exx
	    push de ; Restores return address
	    exx

	    jp po, checkParity
	    ld a, d
	    xor 0x80
checkParity:
	    ld a, 0     ; False
	    ret p
	    inc a       ; True
	    ret
	    ENDP
#line 14391 "Program.zxbas"
#line 1 "lti8.asm"


#line 14392 "Program.zxbas"
#line 1 "mul32.asm"

#line 1 "_mul32.asm"


; Ripped from: http://www.andreadrian.de/oldcpu/z80_number_cruncher.html#moztocid784223
	; Used with permission.
	; Multiplies 32x32 bit integer (DEHL x D'E'H'L')
	; 64bit result is returned in H'L'H L B'C'A C


__MUL32_64START:
			push hl
			exx
			ld b, h
			ld c, l		; BC = Low Part (A)
			pop hl		; HL = Load Part (B)
			ex de, hl	; DE = Low Part (B), HL = HightPart(A) (must be in B'C')
			push hl

			exx
			pop bc		; B'C' = HightPart(A)
			exx			; A = B'C'BC , B = D'E'DE

				; multiply routine 32 * 32bit = 64bit
				; h'l'hlb'c'ac = b'c'bc * d'e'de
				; needs register a, changes flags
				;
				; this routine was with tiny differences in the
				; sinclair zx81 rom for the mantissa multiply

__LMUL:
	        and     a               ; reset carry flag
	        sbc     hl,hl           ; result bits 32..47 = 0
	        exx
	        sbc     hl,hl           ; result bits 48..63 = 0
	        exx
	        ld      a,b             ; mpr is b'c'ac
	        ld      b,33            ; initialize loop counter
	        jp      __LMULSTART

__LMULLOOP:
	        jr      nc,__LMULNOADD  ; JP is 2 cycles faster than JR. Since it's inside a LOOP
	                                ; it can save up to 33 * 2 = 66 cycles
	                                ; But JR if 3 cycles faster if JUMP not taken!
	        add     hl,de           ; result += mpd
	        exx
	        adc     hl,de
	        exx

__LMULNOADD:
	        exx
	        rr      h               ; right shift upper
	        rr      l               ; 32bit of result
	        exx
	        rr      h
	        rr      l

__LMULSTART:
	        exx
	        rr      b               ; right shift mpr/
	        rr      c               ; lower 32bit of result
	        exx
	        rra                     ; equivalent to rr a
	        rr      c
	        djnz    __LMULLOOP

			ret						; result in h'l'hlb'c'ac

#line 2 "mul32.asm"

__MUL32:	; multiplies 32 bit un/signed integer.
				; First operand stored in DEHL, and 2nd onto stack
				; Lowest part of 2nd operand on top of the stack
				; returns the result in DE.HL
			exx
			pop hl	; Return ADDRESS
			pop de	; Low part
			ex (sp), hl ; CALLEE -> HL = High part
			ex de, hl
			call __MUL32_64START

__TO32BIT:  ; Converts H'L'HLB'C'AC to DEHL (Discards H'L'HL)
			exx
			push bc
			exx
			pop de
			ld h, a
			ld l, c
			ret


#line 14393 "Program.zxbas"
#line 1 "mul8.asm"

__MUL8:		; Performs 8bit x 8bit multiplication
		PROC

		;LOCAL __MUL8A
		LOCAL __MUL8LOOP
		LOCAL __MUL8B
				; 1st operand (byte) in A, 2nd operand into the stack (AF)
		pop hl	; return address
		ex (sp), hl ; CALLE convention

;;__MUL8_FAST: ; __FASTCALL__ entry
	;;	ld e, a
	;;	ld d, 0
	;;	ld l, d
	;;
	;;	sla h
	;;	jr nc, __MUL8A
	;;	ld l, e
	;;
;;__MUL8A:
	;;
	;;	ld b, 7
;;__MUL8LOOP:
	;;	add hl, hl
	;;	jr nc, __MUL8B
	;;
	;;	add hl, de
	;;
;;__MUL8B:
	;;	djnz __MUL8LOOP
	;;
	;;	ld a, l ; result = A and HL  (Truncate to lower 8 bits)

__MUL8_FAST: ; __FASTCALL__ entry, a = a * h (8 bit mul) and Carry

	    ld b, 8
	    ld l, a
	    xor a

__MUL8LOOP:
	    add a, a ; a *= 2
	    sla l
	    jp nc, __MUL8B
	    add a, h

__MUL8B:
	    djnz __MUL8LOOP

		ret		; result = HL
		ENDP

#line 14394 "Program.zxbas"
#line 1 "mulf.asm"



	; -------------------------------------------------------------
	; Floating point library using the FP ROM Calculator (ZX 48K)
	; All of them uses A EDCB registers as 1st paramter.
	; For binary operators, the 2n operator must be pushed into the
	; stack, in the order A DE BC.
	;
	; Uses CALLEE convention
	; -------------------------------------------------------------

__MULF:	; Multiplication
		call __FPSTACK_PUSH2

		; ------------- ROM MUL
		rst 28h
		defb 04h	;
		defb 38h;   ; END CALC

		jp __FPSTACK_POP

#line 14395 "Program.zxbas"
#line 1 "negf.asm"





	; -------------------------------------------------------------
	; Floating point library using the FP ROM Calculator (ZX 48K)

	; All of them uses C EDHL registers as 1st paramter.
	; For binary operators, the 2n operator must be pushed into the
	; stack, in the order BC DE HL (B not used).
	;
	; Uses CALLEE convention
	; -------------------------------------------------------------

__NEGF:	; A = -A
		call __FPSTACK_PUSH

		; ------------- ROM NEGATE
		rst 28h
		defb 1Bh	; NEGF
		defb 38h;   ; END CALC

		jp __FPSTACK_POP


#line 14396 "Program.zxbas"

#line 1 "pause.asm"

	; The PAUSE statement (Calling the ROM)

__PAUSE:
		ld b, h
	    ld c, l
	    jp 1F3Dh  ; PAUSE_1
#line 14398 "Program.zxbas"
#line 1 "ploadf.asm"

	; Parameter / Local var load
	; A => Offset
	; IX = Stack Frame
; RESULT: HL => IX + DE

#line 1 "iloadf.asm"

	; __FASTCALL__ routine which
	; loads a 40 bits floating point into A ED CB
	; stored at position pointed by POINTER HL
	;A DE, BC <-- ((HL))

__ILOADF:
	    ld a, (hl)
	    inc hl
	    ld h, (hl)
	    ld l, a

	; __FASTCALL__ routine which
	; loads a 40 bits floating point into A ED CB
	; stored at position pointed by POINTER HL
	;A DE, BC <-- (HL)

__LOADF:    ; Loads a 40 bits FP number from address pointed by HL
		ld a, (hl)
		inc hl
		ld e, (hl)
		inc hl
		ld d, (hl)
		inc hl
		ld c, (hl)
		inc hl
		ld b, (hl)
		ret

#line 7 "ploadf.asm"

__PLOADF:
	    push ix
	    pop hl
	    add hl, de
	    jp __LOADF

#line 14399 "Program.zxbas"

#line 1 "printstr.asm"






	; PRINT command routine
	; Prints string pointed by HL

PRINT_STR:
__PRINTSTR:		; __FASTCALL__ Entry to print_string
			PROC
			LOCAL __PRINT_STR_LOOP
	        LOCAL __PRINT_STR_END

	        ld d, a ; Saves A reg (Flag) for later

			ld a, h
			or l
			ret z	; Return if the pointer is NULL

	        push hl

			ld c, (hl)
			inc hl
			ld b, (hl)
			inc hl	; BC = LEN(a$); HL = &a$

__PRINT_STR_LOOP:
			ld a, b
			or c
			jr z, __PRINT_STR_END 	; END if BC (counter = 0)

			ld a, (hl)
			call __PRINTCHAR
			inc hl
			dec bc
			jp __PRINT_STR_LOOP

__PRINT_STR_END:
	        pop hl
	        ld a, d ; Recovers A flag
	        or a   ; If not 0 this is a temporary string. Free it
	        ret z
	        jp __MEM_FREE ; Frees str from heap and return from there

__PRINT_STR:
	        ; Fastcall Entry
	        ; It ONLY prints strings
	        ; HL = String start
	        ; BC = String length (Number of chars)
	        push hl ; Push str address for later
	        ld d, a ; Saves a FLAG
	        jp __PRINT_STR_LOOP

			ENDP

#line 14401 "Program.zxbas"
#line 1 "pstoref.asm"

	; Stores FP number in A ED CB at location HL+IX
	; HL = Offset
	; IX = Stack Frame
	; A ED CB = FP Number

#line 1 "storef.asm"

__PISTOREF:	; Indect Stores a float (A, E, D, C, B) at location stored in memory, pointed by (IX + HL)
			push de
			ex de, hl	; DE <- HL
			push ix
			pop hl		; HL <- IX
			add hl, de  ; HL <- IX + HL
			pop de

__ISTOREF:  ; Load address at hl, and stores A,E,D,C,B registers at that address. Modifies A' register
	        ex af, af'
			ld a, (hl)
			inc hl
			ld h, (hl)
			ld l, a     ; HL = (HL)
	        ex af, af'

__STOREF:	; Stores the given FP number in A EDCB at address HL
			ld (hl), a
			inc hl
			ld (hl), e
			inc hl
			ld (hl), d
			inc hl
			ld (hl), c
			inc hl
			ld (hl), b
			ret

#line 7 "pstoref.asm"

	; Stored a float number in A ED CB into the address pointed by IX + HL
__PSTOREF:
		push de
	    ex de, hl  ; DE <- HL
	    push ix
		pop hl	   ; HL <- IX
	    add hl, de ; HL <- IX + DE
		pop de
	    jp __STOREF

#line 14402 "Program.zxbas"
#line 1 "pstorestr.asm"

; vim:ts=4:et:sw=4
	;
	; Stores an string (pointer to the HEAP by DE) into the address pointed
	; by (IX + BC). A new copy of the string is created into the HEAP
	;

#line 1 "storestr.asm"

; vim:ts=4:et:sw=4
	; Stores value of current string pointed by DE register into address pointed by HL
	; Returns DE = Address pointer  (&a$)
	; Returns HL = HL               (b$ => might be needed later to free it from the heap)
	;
	; e.g. => HL = _variableName    (DIM _variableName$)
	;         DE = Address into the HEAP
	;
	; This function will resize (REALLOC) the space pointed by HL
	; before copying the content of b$ into a$


#line 1 "strcpy.asm"

#line 1 "realloc.asm"

; vim: ts=4:et:sw=4:
	; Copyleft (K) by Jose M. Rodriguez de la Rosa
	;  (a.k.a. Boriel)
;  http://www.boriel.com
	;
	; This ASM library is licensed under the BSD license
	; you can use it for any purpose (even for commercial
	; closed source programs).
	;
	; Please read the BSD license on the internet

	; ----- IMPLEMENTATION NOTES ------
	; The heap is implemented as a linked list of free blocks.

; Each free block contains this info:
	;
	; +----------------+ <-- HEAP START
	; | Size (2 bytes) |
	; |        0       | <-- Size = 0 => DUMMY HEADER BLOCK
	; +----------------+
	; | Next (2 bytes) |---+
	; +----------------+ <-+
	; | Size (2 bytes) |
	; +----------------+
	; | Next (2 bytes) |---+
	; +----------------+   |
	; | <free bytes...>|   | <-- If Size > 4, then this contains (size - 4) bytes
	; | (0 if Size = 4)|   |
	; +----------------+ <-+
	; | Size (2 bytes) |
	; +----------------+
	; | Next (2 bytes) |---+
	; +----------------+   |
	; | <free bytes...>|   |
	; | (0 if Size = 4)|   |
	; +----------------+   |
	;   <Allocated>        | <-- This zone is in use (Already allocated)
	; +----------------+ <-+
	; | Size (2 bytes) |
	; +----------------+
	; | Next (2 bytes) |---+
	; +----------------+   |
	; | <free bytes...>|   |
	; | (0 if Size = 4)|   |
	; +----------------+ <-+
	; | Next (2 bytes) |--> NULL => END OF LIST
	; |    0 = NULL    |
	; +----------------+
	; | <free bytes...>|
	; | (0 if Size = 4)|
	; +----------------+


	; When a block is FREED, the previous and next pointers are examined to see
	; if we can defragment the heap. If the block to be breed is just next to the
	; previous, or to the next (or both) they will be converted into a single
	; block (so defragmented).


	;   MEMORY MANAGER
	;
	; This library must be initialized calling __MEM_INIT with
	; HL = BLOCK Start & DE = Length.

	; An init directive is useful for initialization routines.
	; They will be added automatically if needed.







	; ---------------------------------------------------------------------
	; MEM_REALLOC
	;  Reallocates a block of memory in the heap.
	;
	; Parameters
	;  HL = Pointer to the original block
	;  BC = New Length of requested memory block
	;
; Returns:
	;  HL = Pointer to the allocated block in memory. Returns 0 (NULL)
	;       if the block could not be allocated (out of memory)
	;
; Notes:
	;  If BC = 0, the block is freed, otherwise
	;  the content of the original block is copied to the new one, and
	;  the new size is adjusted. If BC < original length, the content
	;  will be truncated. Otherwise, extra block content might contain
	;  memory garbage.
	;
	; ---------------------------------------------------------------------
__REALLOC:    ; Reallocates block pointed by HL, with new length BC
	        PROC

	        LOCAL __REALLOC_END

	        ld a, h
	        or l
	        jp z, __MEM_ALLOC    ; If HL == NULL, just do a malloc

	        ld e, (hl)
	        inc hl
	        ld d, (hl)    ; DE = First 2 bytes of HL block

	        push hl
	        exx
	        pop de
	        inc de        ; DE' <- HL + 2
	        exx            ; DE' <- HL (Saves current pointer into DE')

	        dec hl        ; HL = Block start

	        push de
	        push bc
	        call __MEM_FREE        ; Frees current block
	        pop bc
	        push bc
	        call __MEM_ALLOC    ; Gets a new block of length BC
	        pop bc
	        pop de

	        ld a, h
	        or l
	        ret z        ; Return if HL == NULL (No memory)

	        ld (hl), e
	        inc hl
	        ld (hl), d
	        inc hl        ; Recovers first 2 bytes in HL

	        dec bc
	        dec bc        ; BC = BC - 2 (Two bytes copied)

	        ld a, b
	        or c
	        jp z, __REALLOC_END        ; Ret if nothing to copy (BC == 0)

	        exx
	        push de
	        exx
	        pop de        ; DE <- DE' ; Start of remaining block

	        push hl        ; Saves current Block + 2 start
        ex de, hl    ; Exchanges them: DE is destiny block
	        ldir        ; Copies BC Bytes
	        pop hl        ; Recovers Block + 2 start

__REALLOC_END:

	        dec hl        ; Set HL
	        dec hl        ; To begin of block
	        ret

	        ENDP

#line 2 "strcpy.asm"

	; String library


__STRASSIGN: ; Performs a$ = b$ (HL = address of a$; DE = Address of b$)
			PROC

			LOCAL __STRREALLOC
			LOCAL __STRCONTINUE
			LOCAL __B_IS_NULL
			LOCAL __NOTHING_TO_COPY

			ld b, d
			ld c, e
			ld a, b
			or c
			jr z, __B_IS_NULL

			ex de, hl
			ld c, (hl)
			inc hl
			ld b, (hl)
			dec hl		; BC = LEN(b$)
			ex de, hl	; DE = &b$

__B_IS_NULL:		; Jumps here if B$ pointer is NULL
			inc bc
			inc bc		; BC = BC + 2  ; (LEN(b$) + 2 bytes for storing length)

			push de
			push hl

			ld a, h
			or l
			jr z, __STRREALLOC

			dec hl
			ld d, (hl)
			dec hl
			ld e, (hl)	; DE = MEMBLOCKSIZE(a$)
			dec de
			dec de		; DE = DE - 2  ; (Membloksize takes 2 bytes for memblock length)

			ld h, b
			ld l, c		; HL = LEN(b$) + 2  => Minimum block size required
			ex de, hl	; Now HL = BLOCKSIZE(a$), DE = LEN(b$) + 2

			or a		; Prepare to subtract BLOCKSIZE(a$) - LEN(b$)
			sbc hl, de  ; Carry if len(b$) > Blocklen(a$)
			jr c, __STRREALLOC ; No need to realloc
			; Need to reallocate at least to len(b$) + 2
			ex de, hl	; DE = Remaining bytes in a$ mem block.
			ld hl, 4
			sbc hl, de  ; if remaining bytes < 4 we can continue
			jr nc,__STRCONTINUE ; Otherwise, we realloc, to free some bytes

__STRREALLOC:
			pop hl
			call __REALLOC	; Returns in HL a new pointer with BC bytes allocated
			push hl

__STRCONTINUE:	;   Pops hl and de SWAPPED
			pop de	;	DE = &a$
			pop hl	; 	HL = &b$

			ld a, d		; Return if not enough memory for new length
			or e
			ret z		; Return if DE == NULL (0)

__STRCPY:	; Copies string pointed by HL into string pointed by DE
				; Returns DE as HL (new pointer)
			ld a, h
			or l
			jr z, __NOTHING_TO_COPY
			ld c, (hl)
			inc hl
			ld b, (hl)
			dec hl
			inc bc
			inc bc
			push de
			ldir
			pop hl
			ret

__NOTHING_TO_COPY:
			ex de, hl
			ld (hl), e
			inc hl
			ld (hl), d
			dec hl
			ret

			ENDP

#line 14 "storestr.asm"

__PISTORE_STR:          ; Indirect assignement at (IX + BC)
	    push ix
	    pop hl
	    add hl, bc

__ISTORE_STR:           ; Indirect assignement, hl point to a pointer to a pointer to the heap!
	    ld c, (hl)
	    inc hl
	    ld h, (hl)
	    ld l, c             ; HL = (HL)

__STORE_STR:
	    push de             ; Pointer to b$
	    push hl             ; Array pointer to variable memory address

	    ld c, (hl)
	    inc hl
	    ld h, (hl)
	    ld l, c             ; HL = (HL)

	    call __STRASSIGN    ; HL (a$) = DE (b$); HL changed to a new dynamic memory allocation
	    ex de, hl           ; DE = new address of a$
	    pop hl              ; Recover variable memory address pointer

	    ld (hl), e
	    inc hl
	    ld (hl), d          ; Stores a$ ptr into elemem ptr

	    pop hl              ; Returns ptr to b$ in HL (Caller might needed to free it from memory)
	    ret

#line 8 "pstorestr.asm"

__PSTORE_STR:
	    push ix
	    pop hl
	    add hl, bc
	    jp __STORE_STR

#line 14403 "Program.zxbas"
#line 1 "pstorestr2.asm"

; vim:ts=4:et:sw=4
	;
	; Stores an string (pointer to the HEAP by DE) into the address pointed
	; by (IX + BC). No new copy of the string is created into the HEAP, since
	; it's supposed it's already created (temporary string)
	;

#line 1 "storestr2.asm"

	; Similar to __STORE_STR, but this one is called when
	; the value of B$ if already duplicated onto the stack.
	; So we needn't call STRASSING to create a duplication
	; HL = address of string memory variable
	; DE = address of 2n string. It just copies DE into (HL)
	; 	freeing (HL) previously.



__PISTORE_STR2: ; Indirect store temporary string at (IX + BC)
	    push ix
	    pop hl
	    add hl, bc

__ISTORE_STR2:
		ld c, (hl)  ; Dereferences HL
		inc hl
		ld h, (hl)
		ld l, c		; HL = *HL (real string variable address)

__STORE_STR2:
		push hl
		ld c, (hl)
		inc hl
		ld h, (hl)
		ld l, c		; HL = *HL (real string address)

		push de
		call __MEM_FREE
		pop de

		pop hl
		ld (hl), e
		inc hl
		ld (hl), d
		dec hl		; HL points to mem address variable. This might be useful in the future.

		ret

#line 9 "pstorestr2.asm"

__PSTORE_STR2:
	    push ix
	    pop hl
	    add hl, bc
	    jp __STORE_STR2

#line 14404 "Program.zxbas"
#line 1 "random.asm"

	; RANDOM functions

RANDOMIZE:
	    ; Randomize with 32 bit seed in DE HL
	    ; if SEED = 0, calls ROM to take frames as seed
	    PROC

	    LOCAL TAKE_FRAMES
	    LOCAL FRAMES

	    ld a, h
	    or l
	    or d
	    or e
	    jr z, TAKE_FRAMES

	    ld (RANDOM_SEED_LOW), hl
	    ld (RANDOM_SEED_HIGH), de
	    ret

TAKE_FRAMES:
	    ; Takes the seed from frames
	    ld hl, (FRAMES)
	    ld (RANDOM_SEED_LOW), hl
	    ld hl, (FRAMES + 2)
	    ld (RANDOM_SEED_HIGH), hl
	    ret

	FRAMES EQU    23672
	    ENDP

	RANDOM_SEED_HIGH EQU RAND+6    ; RANDOM seed, 16 higher bits
	RANDOM_SEED_LOW     EQU 23670  ; RANDOM seed, 16 lower bits


RAND:
	    PROC
	    LOCAL RAND_LOOP
	    ld b, 4
RAND_LOOP:
	    ld  hl,(RANDOM_SEED_LOW)   ; xz -> yw
	    ld  de,0C0DEh   ; yw -> zt
	    ld  (RANDOM_SEED_LOW),de  ; x = y, z = w
	    ld  a,e         ; w = w ^ ( w << 3 )
	    add a,a
	    add a,a
	    add a,a
	    xor e
	    ld  e,a
	    ld  a,h         ; t = x ^ (x << 1)
	    add a,a
	    xor h
	    ld  d,a
	    rra             ; t = t ^ (t >> 1) ^ w
	    xor d
	    xor e
	    ld  h,l         ; y = z
	    ld  l,a         ; w = t
	    ld  (RANDOM_SEED_HIGH),hl
	    push af
	    djnz RAND_LOOP
	    pop af
	    pop af
	    ld d, a
	    pop af
	    ld e, a
	    pop af
	    ld h, a
	    ret
	    ENDP

RND:
	    ; Returns a FLOATING point integer
	    ; using RAND as a mantissa
	    PROC
	    LOCAL RND_LOOP

	    call RAND
	    ; BC = HL since ZX BASIC uses ED CB A registers for FP
	    ld b, h
	    ld c, l

	    ld a, e
	    or d
	    or c
	    or b
	    ret z   ; Returns 0 if BC=DE=0

	    ; We already have a random 32 bit mantissa in ED CB
	    ; From 0001h to FFFFh

	    ld l, 81h	; Exponent
	    ; At this point we have [0 .. 1) FP number;

	    ; Now we must shift mantissa left until highest bit goes into carry
	    ld a, e ; Use A register for rotating E faster (using RLA instead of RL E)
RND_LOOP:
	    dec l
	    sla b
	    rl c
	    rl d
	    rla
	    jp nc, RND_LOOP

	    ; Now undo last mantissa left-shift once
	    ccf ; Clears carry to insert a 0 bit back into mantissa -> positive FP number
	    rra
	    rr d
	    rr c
	    rr b

	    ld e, a     ; E must have the highest byte
	    ld a, l     ; exponent in A
	    ret

	    ENDP

#line 14405 "Program.zxbas"
#line 1 "str.asm"

	; The STR$( ) BASIC function implementation

	; Given a FP number in C ED LH
	; Returns a pointer (in HL) to the memory heap
	; containing the FP number string representation





__STR:

__STR_FAST:

		PROC
		LOCAL __STR_END
		LOCAL RECLAIM2
		LOCAL STK_END

		ld hl, (STK_END)
		push hl; Stores STK_END
		ld hl, (ATTR_T)	; Saves ATTR_T since it's changed by STR$ due to a ROM BUG
		push hl

	    call __FPSTACK_PUSH ; Push number into stack
		rst 28h		; # Rom Calculator
		defb 2Eh	; # STR$(x)
		defb 38h	; # END CALC
		call __FPSTACK_POP ; Recovers string parameters to A ED CB (Only ED LH are important)

		pop hl
		ld (ATTR_T), hl	; Restores ATTR_T
		pop hl
		ld (STK_END), hl	; Balance STK_END to avoid STR$ bug

		push bc
		push de

		inc bc
		inc bc
		call __MEM_ALLOC ; HL Points to new block

		pop de
		pop bc

		push hl
		ld a, h
		or l
		jr z, __STR_END  ; Return if NO MEMORY (NULL)

		push bc
		push de
		ld (hl), c
		inc hl
		ld (hl), b
		inc hl		; Copies length

		ex de, hl	; HL = start of original string
		ldir		; Copies string content

		pop de		; Original (ROM-CALC) string
		pop bc		; Original Length

__STR_END:
		ex de, hl
		inc bc

		call RECLAIM2 ; Frees TMP Memory
		pop hl		  ; String result

		ret

	RECLAIM2 EQU 19E8h
	STK_END EQU 5C65h

		ENDP

#line 14406 "Program.zxbas"
#line 1 "strcat.asm"


#line 1 "strlen.asm"

	; Returns len if a string
	; If a string is NULL, its len is also 0
	; Result returned in HL

__STRLEN:	; Direct FASTCALL entry
			ld a, h
			or l
			ret z

			ld a, (hl)
			inc hl
			ld h, (hl)  ; LEN(str) in HL
			ld l, a
			ret


#line 3 "strcat.asm"

__ADDSTR:	; Implements c$ = a$ + b$
				; hl = &a$, de = &b$ (pointers)


__STRCAT2:	; This routine creates a new string in dynamic space
				; making room for it. Then copies a$ + b$ into it.
				; HL = a$, DE = b$

			PROC

			LOCAL __STR_CONT
			LOCAL __STRCATEND

			push hl
			call __STRLEN
			ld c, l
			ld b, h		; BC = LEN(a$)
			ex (sp), hl ; (SP) = LEN (a$), HL = a$
			push hl		; Saves pointer to a$

			inc bc
			inc bc		; +2 bytes to store length

			ex de, hl
			push hl
			call __STRLEN
			; HL = len(b$)

			add hl, bc	; Total str length => 2 + len(a$) + len(b$)

			ld c, l
			ld b, h		; BC = Total str length + 2
			call __MEM_ALLOC
			pop de		; HL = c$, DE = b$

			ex de, hl	; HL = b$, DE = c$
			ex (sp), hl ; HL = a$, (SP) = b$

			exx
			pop de		; D'E' = b$
			exx

			pop bc		; LEN(a$)

			ld a, d
			or e
		ret z		; If no memory: RETURN

__STR_CONT:
			push de		; Address of c$

			ld a, h
			or l
			jr nz, __STR_CONT1 ; If len(a$) != 0 do copy

	        ; a$ is NULL => uses HL = DE for transfer
			ld h, d
			ld l, e
			ld (hl), a	; This will copy 00 00 at (DE) location
	        inc de      ;
	        dec bc      ; Ensure BC will be set to 1 in the next step

__STR_CONT1:        ; Copies a$ (HL) into c$ (DE)
			inc bc
			inc bc		; BC = BC + 2
		ldir		; MEMCOPY: c$ = a$
			pop hl		; HL = c$

			exx
			push de		; Recovers b$; A ex hl,hl' would be very handy
			exx

			pop de		; DE = b$

__STRCAT: ; ConCATenate two strings a$ = a$ + b$. HL = ptr to a$, DE = ptr to b$
		  ; NOTE: Both DE, BC and AF are modified and lost
			  ; Returns HL (pointer to a$)
			  ; a$ Must be NOT NULL
			ld a, d
			or e
			ret z		; Returns if de is NULL (nothing to copy)

			push hl		; Saves HL to return it later

			ld c, (hl)
			inc hl
			ld b, (hl)
			inc hl
			add hl, bc	; HL = end of (a$) string ; bc = len(a$)
			push bc		; Saves LEN(a$) for later

			ex de, hl	; DE = end of string (Begin of copy addr)
			ld c, (hl)
			inc hl
			ld b, (hl)	; BC = len(b$)

			ld a, b
			or c
			jr z, __STRCATEND; Return if len(b$) == 0

			push bc			 ; Save LEN(b$)
			inc hl			 ; Skip 2nd byte of len(b$)
			ldir			 ; Concatenate b$

			pop bc			 ; Recovers length (b$)
			pop hl			 ; Recovers length (a$)
			add hl, bc		 ; HL = LEN(a$) + LEN(b$) = LEN(a$+b$)
			ex de, hl		 ; DE = LEN(a$+b$)
			pop hl

			ld (hl), e		 ; Updates new LEN and return
			inc hl
			ld (hl), d
			dec hl
			ret

__STRCATEND:
			pop hl		; Removes Len(a$)
			pop hl		; Restores original HL, so HL = a$
			ret

			ENDP

#line 14407 "Program.zxbas"
#line 1 "string.asm"

	; String library



__STR_ISNULL:	; Returns A = FF if HL is 0, 0 otherwise
			ld a, h
			or l
			sub 1		; Only CARRY if HL is NULL
			sbc a, a	; Only FF if HL is NULL (0 otherwise)
			ret


__STRCMP:	; Compares strings at HL, DE: Returns 0 if EQual, -1 if HL < DE, +1 if HL > DE
				; A register is preserved and returned in A'
			PROC ; __FASTCALL__

			LOCAL __STRCMPZERO
			LOCAL __STRCMPEXIT
			LOCAL __STRCMPLOOP
			LOCAL __NOPRESERVEBC
			LOCAL __EQULEN
			LOCAL __EQULEN1
			LOCAL __HLZERO

			ex af, af'	; Saves current A register in A' (it's used by STRXX comparison functions)

			ld a, h
			or l
			jr z, __HLZERO

			ld a, d
			or e
			ld a, 1
			ret z		; Returns +1 if HL is not NULL and DE is NULL

			ld c, (hl)
			inc hl
			ld b, (hl)
			inc hl		; BC = LEN(a$)
			push hl		; HL = &a$, saves it

			ex de, hl
			ld e, (hl)
			inc hl
			ld d, (hl)
			inc hl
			ex de, hl	; HL = LEN(b$), de = &b$

			; At this point Carry is cleared, and A reg. = 1
			sbc hl, bc	; Carry if len(b$) > len(a$)
			jr z, __EQULEN	; Jump if they have the same length so A reg. = 0
			jr c, __EQULEN1 ; Jump if len(b$) > len(a$) so A reg. = 1
__NOPRESERVEBC:
			add hl, bc	; Restore HL (original length)
			ld b, h		; len(b$) <= len(a$)
			ld c, l		; so BC = hl
			dec a		; At this point A register = 0, it must be -1 since len(a$) > len(b$)
__EQULEN:
			dec a		; A = 0 if len(a$) = len(b$), -1 otherwise
__EQULEN1:
			pop hl		; Recovers A$ pointer
			push af		; Saves A for later (Value to return if strings reach the end)
	        ld a, b
	        or c
	        jr z, __STRCMPZERO ; empty string being compared

		; At this point: BC = lesser length, DE and HL points to b$ and a$ chars respectively
__STRCMPLOOP:
			ld a, (de)
			cpi
			jr nz, __STRCMPEXIT ; (HL) != (DE). Examine carry
			jp po, __STRCMPZERO ; END of string (both are equal)
			inc de
			jp __STRCMPLOOP

__STRCMPZERO:
			pop af		; This is -1 if len(a$) < len(b$), +1 if len(b$) > len(a$), 0 otherwise
			ret

__STRCMPEXIT:		; Sets A with the following value
			dec hl		; Get back to the last char
			cp (hl)
			sbc a, a	; A = -1 if carry => (DE) < (HL); 0 otherwise (DE) > (HL)
			cpl			; A = -1 if (HL) < (DE), 0 otherwise
			add a, a    ; A = A * 2 (thus -2 or 0)
			inc a		; A = A + 1 (thus -1 or 1)

			pop bc		; Discard top of the stack
			ret

__HLZERO:
			or d
			or e
			ret z		; Returns 0 (EQ) if HL == DE == NULL
			ld a, -1
			ret			; Returns -1 if HL is NULL and DE is not NULL

			ENDP

			; The following routines perform string comparison operations (<, >, ==, etc...)
			; On return, A will contain 0 for False, other value for True
			; Register A' will determine whether the incoming strings (HL, DE) will be freed
		; from dynamic memory on exit:
			;		Bit 0 => 1 means HL will be freed.
			;		Bit 1 => 1 means DE will be freed.

__STREQ:	; Compares a$ == b$ (HL = ptr a$, DE = ptr b$). Returns FF (True) or 0 (False)
			push hl
			push de
			call __STRCMP
			pop de
			pop hl

			;inc a		; If A == -1, return 0
			;jp z, __FREE_STR

			;dec a		;
			;dec a		; Return -1 if a = 0 (True), returns 0 if A == 1 (False)
	        sub 1
	        sbc a, a
			jp __FREE_STR


__STRNE:	; Compares a$ != b$ (HL = ptr a$, DE = ptr b$). Returns FF (True) or 0 (False)
			push hl
			push de
			call __STRCMP
			pop de
			pop hl

			;jp z, __FREE_STR

			;ld a, 0FFh	; Returns 0xFFh (True)
			jp __FREE_STR


__STRLT:	; Compares a$ < b$ (HL = ptr a$, DE = ptr b$). Returns FF (True) or 0 (False)
			push hl
			push de
			call __STRCMP
			pop de
			pop hl

			jp z, __FREE_STR ; Returns 0 if A == B

			dec a		; Returns 0 if A == 1 => a$ > b$
			;jp z, __FREE_STR

			;inc a		; A = FE now (-2). Set it to FF and return
			jp __FREE_STR


__STRLE:	; Compares a$ <= b$ (HL = ptr a$, DE = ptr b$). Returns FF (True) or 0 (False)
			push hl
			push de
			call __STRCMP
			pop de
			pop hl

			dec a		; Returns 0 if A == 1 => a$ < b$
			;jp z, __FREE_STR

			;ld a, 0FFh	; A = FE now (-2). Set it to FF and return
			jp __FREE_STR


__STRGT:	; Compares a$ > b$ (HL = ptr a$, DE = ptr b$). Returns FF (True) or 0 (False)
			push hl
			push de
			call __STRCMP
			pop de
			pop hl

			jp z, __FREE_STR		; Returns 0 if A == B

			inc a		; Returns 0 if A == -1 => a$ < b$
			;jp z, __FREE_STR		; Returns 0 if A == B

			;ld a, 0FFh	; A = FE now (-2). Set it to FF and return
			jp __FREE_STR


__STRGE:	; Compares a$ >= b$ (HL = ptr a$, DE = ptr b$). Returns FF (True) or 0 (False)
			push hl
			push de
			call __STRCMP
			pop de
			pop hl

			inc a		; Returns 0 if A == -1 => a$ < b$
			;jr z, __FREE_STR

			;ld a, 0FFh	; A = FE now (-2). Set it to FF and return

__FREE_STR: ; This exit point will test A' for bits 0 and 1
				; If bit 0 is 1 => Free memory from HL pointer
				; If bit 1 is 1 => Free memory from DE pointer
				; Finally recovers A, to return the result
			PROC

			LOCAL __FREE_STR2
			LOCAL __FREE_END

			ex af, af'
			bit 0, a
			jr z, __FREE_STR2

			push af
			push de
			call __MEM_FREE
			pop de
			pop af

__FREE_STR2:
			bit 1, a
			jr z, __FREE_END

			ex de, hl
			call __MEM_FREE

__FREE_END:
			ex af, af'
			ret

			ENDP

#line 14408 "Program.zxbas"

#line 1 "strslice.asm"

	; String slicing library
	; HL = Str pointer
	; DE = String start
	; BC = String character end
	; A register => 0 => the HL pointer wont' be freed from the HEAP
	; e.g. a$(5 TO 10) => HL = a$; DE = 5; BC = 10

	; This implements a$(X to Y) being X and Y first and
	; last characters respectively. If X > Y, NULL is returned

	; Otherwise returns a pointer to a$ FROM X to Y (starting from 0)
	; if Y > len(a$), then a$ will be padded with spaces (reallocating
	; it in dynamic memory if needed). Returns pointer (HL) to resulting
	; string. NULL (0) if no memory for padding.
	;





__STRSLICE:			; Callee entry
		pop hl			; Return ADDRESS
		pop bc			; Last char pos
		pop de			; 1st char pos
		ex (sp), hl		; CALLEE. -> String start

__STRSLICE_FAST:	; __FASTCALL__ Entry
		PROC

		LOCAL __CONT
		LOCAL __EMPTY
		LOCAL __FREE_ON_EXIT

		push hl			; Stores original HL pointer to be recovered on exit
		ex af, af'		; Saves A register for later

		push hl
		call __STRLEN
		inc bc			; Last character position + 1 (string starts from 0)
		or a
		sbc hl, bc		; Compares length with last char position
		jr nc, __CONT	; If Carry => We must copy to end of string
		add hl, bc		; Restore back original LEN(a$) in HL
		ld b, h
		ld c, l			; Copy to the end of str
		ccf				; Clears Carry flag for next subtraction

__CONT:
		ld h, b
		ld l, c			; HL = Last char position to copy (1 for char 0, 2 for char 1, etc)
		sbc hl, de		; HL = LEN(a$) - DE => Number of chars to copy
		jr z, __EMPTY	; 0 Chars to copy => Return HL = 0 (NULL STR)
		jr c, __EMPTY	; If Carry => Nothing to return (NULL STR)

		ld b, h
		ld c, l			; BC = Number of chars to copy
		inc bc
		inc bc			; +2 bytes for string length number

		push bc
		push de
		call __MEM_ALLOC
		pop de
		pop bc
		ld a, h
		or l
		jr z, __EMPTY	; Return if NULL (no memory)

		dec bc
		dec bc			; Number of chars to copy (Len of slice)

		ld (hl), c
		inc hl
		ld (hl), b
		inc hl			; Stores new string length

		ex (sp), hl		; Pointer to A$ now in HL; Pointer to new string chars in Stack
		inc hl
		inc hl			; Skip string length
		add hl, de		; Were to start from A$
		pop de			; Start of new string chars
		push de			; Stores it again
		ldir			; Copies BC chars
		pop de
		dec de
		dec de			; Points to String LEN start
		ex de, hl		; Returns it in HL
		jr __FREE_ON_EXIT

__EMPTY:			; Return NULL (empty) string
		pop hl
		ld hl, 0		; Return NULL


__FREE_ON_EXIT:
		ex af, af'		; Recover original A register
		ex (sp), hl		; Original HL pointer

		or a
		call nz, __MEM_FREE

		pop hl			; Recover result
		ret

		ENDP

#line 14410 "Program.zxbas"

#line 1 "swap32.asm"

	; Exchanges current DE HL with the
	; ones in the stack

__SWAP32:
		pop bc ; Return address
	    ex (sp), hl
	    inc sp
	    inc sp
	    ex de, hl
	    ex (sp), hl
	    ex de, hl
	    dec sp
	    dec sp
	    push bc
		ret

#line 14412 "Program.zxbas"


ZXBASIC_USER_DATA:
	_counter EQU 23672
	_hiCounter EQU 23674
_musParamA:
	DEFB 00, 00
_musParamB:
	DEFB 00, 00
_currentOp:
	DEFB 00
_screenScore:
	DEFB 00, 00
_workingScore:
	DEFB 00, 00
_screenLevel:
	DEFB 00
_workingLevel:
	DEFB 00
	_udgAddress EQU 23675
_playedTetrisMusic:
	DEFB 00h
_playedArkaMusic:
	DEFB 00h
_playedRacingMusic:
	DEFB 00h
_playedSnakeMusic:
	DEFB 00h
_playedDestroyerMusic:
	DEFB 00h
_playedGhostMusic:
	DEFB 00h
_playedConstructorMusic:
	DEFB 00h
_playedMatchMusic:
	DEFB 00
_level:
	DEFB 00h
_game:
	DEFB 00
	_chars EQU 23606
	_deathMusic.__DATA__ EQU 25576
_deathMusic:
	DEFW __LABEL1387
_deathMusic.__DATA__.__PTR__:
	DEFW 25576
__LABEL1387:
	DEFW 0000h
	DEFB 02h
	_winMusic.__DATA__ EQU 25668
_winMusic:
	DEFW __LABEL1388
_winMusic.__DATA__.__PTR__:
	DEFW 25668
__LABEL1388:
	DEFW 0000h
	DEFB 02h
	_tetrisIntroMusic.__DATA__ EQU 26108
_tetrisIntroMusic:
	DEFW __LABEL1389
_tetrisIntroMusic.__DATA__.__PTR__:
	DEFW 26108
__LABEL1389:
	DEFW 0000h
	DEFB 02h
	_tetrisLevelMusic.__DATA__ EQU 26308
_tetrisLevelMusic:
	DEFW __LABEL1390
_tetrisLevelMusic.__DATA__.__PTR__:
	DEFW 26308
__LABEL1390:
	DEFW 0000h
	DEFB 02h
	_arkaIntroMusic.__DATA__ EQU 26428
_arkaIntroMusic:
	DEFW __LABEL1391
_arkaIntroMusic.__DATA__.__PTR__:
	DEFW 26428
__LABEL1391:
	DEFW 0000h
	DEFB 02h
	_arkaDeathMusic.__DATA__ EQU 26620
_arkaDeathMusic:
	DEFW __LABEL1392
_arkaDeathMusic.__DATA__.__PTR__:
	DEFW 26620
__LABEL1392:
	DEFW 0000h
	DEFB 02h
	_raceIntroMusic.__DATA__ EQU 26668
_raceIntroMusic:
	DEFW __LABEL1393
_raceIntroMusic.__DATA__.__PTR__:
	DEFW 26668
__LABEL1393:
	DEFW 0000h
	DEFB 02h
	_raceLevelMusic.__DATA__ EQU 26752
_raceLevelMusic:
	DEFW __LABEL1394
_raceLevelMusic.__DATA__.__PTR__:
	DEFW 26752
__LABEL1394:
	DEFW 0000h
	DEFB 02h
	_snakeIntroMusic.__DATA__ EQU 26780
_snakeIntroMusic:
	DEFW __LABEL1395
_snakeIntroMusic.__DATA__.__PTR__:
	DEFW 26780
__LABEL1395:
	DEFW 0000h
	DEFB 02h
	_snakeLevelMusic.__DATA__ EQU 26860
_snakeLevelMusic:
	DEFW __LABEL1396
_snakeLevelMusic.__DATA__.__PTR__:
	DEFW 26860
__LABEL1396:
	DEFW 0000h
	DEFB 02h
	_destroyerIntroMusic.__DATA__ EQU 26888
_destroyerIntroMusic:
	DEFW __LABEL1397
_destroyerIntroMusic.__DATA__.__PTR__:
	DEFW 26888
__LABEL1397:
	DEFW 0000h
	DEFB 02h
	_destroyerLevelMusic.__DATA__ EQU 27024
_destroyerLevelMusic:
	DEFW __LABEL1398
_destroyerLevelMusic.__DATA__.__PTR__:
	DEFW 27024
__LABEL1398:
	DEFW 0000h
	DEFB 02h
	_ghostIntroMusic.__DATA__ EQU 27132
_ghostIntroMusic:
	DEFW __LABEL1399
_ghostIntroMusic.__DATA__.__PTR__:
	DEFW 27132
__LABEL1399:
	DEFW 0000h
	DEFB 02h
	_ghostScarySound.__DATA__ EQU 27252
_ghostScarySound:
	DEFW __LABEL1400
_ghostScarySound.__DATA__.__PTR__:
	DEFW 27252
__LABEL1400:
	DEFW 0000h
	DEFB 02h
	_ghostLevelMusic.__DATA__ EQU 27384
_ghostLevelMusic:
	DEFW __LABEL1401
_ghostLevelMusic.__DATA__.__PTR__:
	DEFW 27384
__LABEL1401:
	DEFW 0000h
	DEFB 02h
	_constructorIntroMusic.__DATA__ EQU 27420
_constructorIntroMusic:
	DEFW __LABEL1402
_constructorIntroMusic.__DATA__.__PTR__:
	DEFW 27420
__LABEL1402:
	DEFW 0000h
	DEFB 02h
	_constructorLevelMusic.__DATA__ EQU 27596
_constructorLevelMusic:
	DEFW __LABEL1403
_constructorLevelMusic.__DATA__.__PTR__:
	DEFW 27596
__LABEL1403:
	DEFW 0000h
	DEFB 02h
	_matchIntroMusic.__DATA__ EQU 27768
_matchIntroMusic:
	DEFW __LABEL1404
_matchIntroMusic.__DATA__.__PTR__:
	DEFW 27768
__LABEL1404:
	DEFW 0000h
	DEFB 02h
	_matchLevelMusic.__DATA__ EQU 28012
_matchLevelMusic:
	DEFW __LABEL1405
_matchLevelMusic.__DATA__.__PTR__:
	DEFW 28012
__LABEL1405:
	DEFW 0000h
	DEFB 02h
_screenCells:
	DEFW __LABEL1406
_screenCells.__DATA__.__PTR__:
	DEFW _screenCells.__DATA__
_screenCells.__DATA__:
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
__LABEL1406:
	DEFW 0001h
	DEFW 0014h
	DEFB 01h
_workingCells:
	DEFW __LABEL1407
_workingCells.__DATA__.__PTR__:
	DEFW _workingCells.__DATA__
_workingCells.__DATA__:
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
__LABEL1407:
	DEFW 0001h
	DEFW 0014h
	DEFB 01h
_ops:
	DEFW __LABEL1408
_ops.__DATA__.__PTR__:
	DEFW _ops.__DATA__
_ops.__DATA__:
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
__LABEL1408:
	DEFW 0001h
	DEFW 00C8h
	DEFB 01h
_screenSymbol:
	DEFW __LABEL1409
_screenSymbol.__DATA__.__PTR__:
	DEFW _screenSymbol.__DATA__
_screenSymbol.__DATA__:
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
__LABEL1409:
	DEFW 0001h
	DEFW 0002h
	DEFB 01h
_workingSymbol:
	DEFW __LABEL1410
_workingSymbol.__DATA__.__PTR__:
	DEFW _workingSymbol.__DATA__
_workingSymbol.__DATA__:
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
__LABEL1410:
	DEFW 0001h
	DEFW 0002h
	DEFB 01h
_sprites:
	DEFW __LABEL1411
_sprites.__DATA__.__PTR__:
	DEFW _sprites.__DATA__
_sprites.__DATA__:
	DEFB 40h
	DEFB 40h
	DEFB 40h
	DEFB 40h
	DEFB 40h
	DEFB 40h
	DEFB 40h
	DEFB 40h
	DEFB 00h
	DEFB 7Fh
	DEFB 41h
	DEFB 5Bh
	DEFB 5Bh
	DEFB 43h
	DEFB 5Fh
	DEFB 7Fh
	DEFB 00h
	DEFB 07h
	DEFB 07h
	DEFB 05h
	DEFB 05h
	DEFB 07h
	DEFB 07h
	DEFB 00h
	DEFB 00h
	DEFB 70h
	DEFB 70h
	DEFB 50h
	DEFB 50h
	DEFB 70h
	DEFB 70h
	DEFB 00h
	DEFB 00h
	DEFB 77h
	DEFB 77h
	DEFB 55h
	DEFB 55h
	DEFB 77h
	DEFB 77h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 77h
	DEFB 44h
	DEFB 24h
	DEFB 14h
	DEFB 77h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 77h
	DEFB 55h
	DEFB 56h
	DEFB 55h
	DEFB 75h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 60h
	DEFB 40h
	DEFB 60h
	DEFB 40h
	DEFB 60h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 36h
	DEFB 45h
	DEFB 26h
	DEFB 14h
	DEFB 64h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 77h
	DEFB 44h
	DEFB 66h
	DEFB 44h
	DEFB 77h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 0C0h
	DEFB 0A0h
	DEFB 0A0h
	DEFB 0A0h
	DEFB 0C0h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 47h
	DEFB 44h
	DEFB 46h
	DEFB 44h
	DEFB 77h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 57h
	DEFB 54h
	DEFB 56h
	DEFB 54h
	DEFB 27h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 40h
	DEFB 40h
	DEFB 40h
	DEFB 40h
	DEFB 70h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 97h
	DEFB 0D4h
	DEFB 0B6h
	DEFB 94h
	DEFB 97h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 57h
	DEFB 22h
	DEFB 22h
	DEFB 22h
	DEFB 52h
	DEFB 00h
	DEFB 0FFh
	DEFB 0C7h
	DEFB 0BBh
	DEFB 0BBh
	DEFB 0BBh
	DEFB 0C7h
	DEFB 0FFh
	DEFB 0FFh
	DEFB 0FFh
	DEFB 55h
	DEFB 0AAh
	DEFB 0FFh
	DEFB 0AAh
	DEFB 55h
	DEFB 0FFh
	DEFB 00h
	DEFB 5Dh
	DEFB 6Bh
	DEFB 5Dh
	DEFB 6Bh
	DEFB 5Dh
	DEFB 6Bh
	DEFB 5Dh
	DEFB 6Bh
	DEFB 00h
	DEFB 0FFh
	DEFB 0AAh
	DEFB 55h
	DEFB 0FFh
	DEFB 55h
	DEFB 0AAh
	DEFB 0FFh
	DEFB 0D6h
	DEFB 0BAh
	DEFB 0D6h
	DEFB 0BAh
	DEFB 0D6h
	DEFB 0BAh
	DEFB 0D6h
	DEFB 0BAh
	DEFB 00h
	DEFB 36h
	DEFB 45h
	DEFB 25h
	DEFB 16h
	DEFB 14h
	DEFB 64h
	DEFB 00h
__LABEL1411:
	DEFW 0001h
	DEFW 0008h
	DEFB 01h
	_deadPic.__DATA__ EQU 24616
_deadPic:
	DEFW __LABEL1412
_deadPic.__DATA__.__PTR__:
	DEFW 24616
__LABEL1412:
	DEFW 0000h
	DEFB 02h
	_winPic.__DATA__ EQU 24656
_winPic:
	DEFW __LABEL1413
_winPic.__DATA__.__PTR__:
	DEFW 24656
__LABEL1413:
	DEFW 0000h
	DEFB 02h
	_introScreen.__DATA__ EQU 24576
_introScreen:
	DEFW __LABEL1414
_introScreen.__DATA__.__PTR__:
	DEFW 24576
__LABEL1414:
	DEFW 0000h
	DEFB 02h
	_tetrisPieces.__DATA__ EQU 28080
_tetrisPieces:
	DEFW __LABEL1415
_tetrisPieces.__DATA__.__PTR__:
	DEFW 28080
__LABEL1415:
	DEFW 0002h
	DEFW 0002h
	DEFW 0004h
	DEFB 01h
	_tetrisScreens.__DATA__ EQU 24696
_tetrisScreens:
	DEFW __LABEL1416
_tetrisScreens.__DATA__.__PTR__:
	DEFW 24696
__LABEL1416:
	DEFW 0001h
	DEFW 000Ah
	DEFB 02h
_expandedPiece:
	DEFW __LABEL1417
_expandedPiece.__DATA__.__PTR__:
	DEFW _expandedPiece.__DATA__
_expandedPiece.__DATA__:
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
__LABEL1417:
	DEFW 0002h
	DEFW 0004h
	DEFW 0004h
	DEFB 01h
_expandedSize:
	DEFW __LABEL1418
_expandedSize.__DATA__.__PTR__:
	DEFW _expandedSize.__DATA__
_expandedSize.__DATA__:
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
	DEFB 00h
__LABEL1418:
	DEFW 0001h
	DEFW 0002h
	DEFB 01h
	_arkaScreens.__DATA__ EQU 24896
_arkaScreens:
	DEFW __LABEL1419
_arkaScreens.__DATA__.__PTR__:
	DEFW 24896
__LABEL1419:
	DEFW 0001h
	DEFW 000Ch
	DEFB 02h
	_snakeScreens.__DATA__ EQU 25136
_snakeScreens:
	DEFW __LABEL1420
_snakeScreens.__DATA__.__PTR__:
	DEFW 25136
__LABEL1420:
	DEFW 0001h
	DEFW 0014h
	DEFB 02h
	_bigGhost.__DATA__ EQU 25536
_bigGhost:
	DEFW __LABEL1421
_bigGhost.__DATA__.__PTR__:
	DEFW 25536
__LABEL1421:
	DEFW 0000h
	DEFB 02h
__LABEL1286:
	DEFB 0FFh
__LABEL1287:
	DEFB 01h
__LABEL1292:
	DEFB 04h
__LABEL1315:
	DEFB 01h
__LABEL1316:
	DEFB 14h
__LABEL1317:
	DEFB 03h
__LABEL1318:
	DEFB 04h
__LABEL1341:
	DEFB 04h
__LABEL1342:
	DEFB 01h
	DEFB 00h
	DEFB 02h
	DEFB 00h
	DEFB 01h
__LABEL1343:
	DEFB 01h
__LABEL1347:
	DEFB 04h
__LABEL1351:
	DEFB 04h
__LABEL1360:
	DEFB 04h
__LABEL1363:
	DEFB 04h
__LABEL1364:
	DEFB 00h
	DEFB 00h
	DEFB 01h
__LABEL1365:
	DEFB 01h
__LABEL1371:
	DEFB 01h
__LABEL1372:
	DEFB 01h
__LABEL1373:
	DEFB 01h
__LABEL1374:
	DEFB 01h
__LABEL1375:
	DEFB 01h
__LABEL1376:
	DEFB 01h
__LABEL1377:
	DEFB 01h
__LABEL1378:
	DEFB 01h
__LABEL1379:
	DEFB 01h
__LABEL1380:
	DEFB 01h
__LABEL1381:
	DEFB 01h
__LABEL1382:
	DEFB 01h
__LABEL1383:
	DEFB 01h
__LABEL1384:
	DEFB 01h
__LABEL1385:
	DEFB 01h
__LABEL1386:
	DEFB 01h
ZXBASIC_MEM_HEAP:
	; Defines DATA END
ZXBASIC_USER_DATA_END EQU ZXBASIC_MEM_HEAP + ZXBASIC_HEAP_SIZE
	; Defines USER DATA Length in bytes
ZXBASIC_USER_DATA_LEN EQU ZXBASIC_USER_DATA_END - ZXBASIC_USER_DATA
	END
